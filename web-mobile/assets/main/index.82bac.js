window.__require=function e(t,n,o){function i(s,a){if(!n[s]){if(!t[s]){var u=s.split("/");if(u=u[u.length-1],!t[u]){var c="function"==typeof __require&&__require;if(!a&&c)return c(u,!0);if(r)return r(u,!0);throw new Error("Cannot find module '"+s+"'")}s=u}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){return i(t[s][1][e]||e)},l,l.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<o.length;s++)i(o[s]);return i}({Ani_Opacity:[function(e,t){"use strict";cc._RF.push(t,"d8f4bSmc/FBfIaAx6V4dlj8","Ani_Opacity"),cc.Class({extends:cc.Component,properties:{Target:{default:[],type:[cc.Node]}},start:function(){this.CountTarget(),this.count=1},CountTarget:function(){this.schedule(function(){this.judge(this.count-1)},.08,this.Target.length)},judge:function(e){this.count==this.Target.length+1?this.clear():(this.count+=1,this.Target[e].active=!0,this.OpacityAni(this.Target[e]))},clear:function(){this.count=1,this.scheduleOnce(function(){for(var e=0;e<this.Target.length;e++)this.Target[e].active=!1,this.Target[e].opacity=0;this.CountTarget()},1)},OpacityAni:function(e){cc.tween(e).to(1,{opacity:255}).start()}}),cc._RF.pop()},{}],Ani_Rotation:[function(e,t){"use strict";cc._RF.push(t,"83d5dDiahZKOLzPToLJTyQw","Ani_Rotation"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.tween(this.node).repeatForever(cc.tween().by(15,{angle:360})).start()},start:function(){}}),cc._RF.pop()},{}],Ani_UPandDOWN:[function(e,t){"use strict";cc._RF.push(t,"89209mb7B5E7opQmXjzQ00M","Ani_UPandDOWN"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.tween(this.node).repeatForever(cc.tween().by(.8,{position:cc.v2(0,80)}).by(.8,{position:cc.v2(0,-80)})).start()},start:function(){}}),cc._RF.pop()},{}],BackGround_Theme:[function(e,t){"use strict";cc._RF.push(t,"0f50cGW9sJAaIe0BHTkMxzZ","BackGround_Theme"),e("Model"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.boo="\u70b8\u5f48"},start:function(){var e=this;cc.resources.load("winter/"+this.boo,cc.SpriteFrame,function(t,n){e.node.getComponent(cc.Sprite).spriteFrame=n})}}),cc._RF.pop()},{Model:"Model"}],BeforeGameCountDown:[function(e,t){"use strict";cc._RF.push(t,"229e69xzhlPnIkUCyDYOGKO","BeforeGameCountDown");var n=e("Model");cc.Class({extends:cc.Component,properties:{countdownspritelist:{default:[],type:[cc.SpriteFrame]},countdownSound:{default:null,type:cc.AudioClip},countdownfinishSound:{default:null,type:cc.AudioClip},countdownsprite:cc.Sprite},onLoad:function(){cc.director.getScene()._name.includes("Host2_CountDown")&&(n.NumberOfLotteryWS_Host=new WebSocket("wss://"+n.local_ID+"/ws/v1/game/winning/staff?activity_id="+n.activity_id+"&game_id="+n.game_id+"&game="+n.GameName))},start:function(){this.count=0,this.schedule(function(){cc.director.getScene()._name.includes("Guest3_CountDown")?this.Guset_countdown():cc.director.getScene()._name.includes("Host2_CountDown")&&this.Host_countdown()},1,4)},Host_countdown:function(){this.count++,this.countdownsprite.spriteFrame=this.countdownspritelist[this.count-1],this.count<4?this.currentsound=cc.audioEngine.play(this.countdownSound,!1,.5):4==this.count?(n.WebSocket_GameStatus_Host("gaming",.1),this.currentsound=cc.audioEngine.play(this.countdownfinishSound,!1,.5)):5==this.count&&cc.director.loadScene("Host3_Game"+n.BackGround_Theme)},Guset_countdown:function(){this.count++,this.countdownsprite.spriteFrame=this.countdownspritelist[this.count-1],5==this.count&&cc.director.loadScene("Guest4_Game"+n.BackGround_Theme)}}),cc._RF.pop()},{Model:"Model"}],1:[function(e,t,n){"use strict";n.byteLength=function(e){var t=c(e),n=t[0],o=t[1];return 3*(n+o)/4-o},n.toByteArray=function(e){var t,n,o=c(e),s=o[0],a=o[1],u=new r(l(0,s,a)),f=0,d=a>0?s-4:s;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;return 2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[f++]=255&t),1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t),u},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,r=[],s=0,a=n-i;s<a;s+=16383)r.push(f(e,s,s+16383>a?a:s+16383));return 1===i?(t=e[n-1],r.push(o[t>>2]+o[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],r.push(o[t>>10]+o[t>>4&63]+o[t<<2&63]+"=")),r.join("")};for(var o=[],i=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)o[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){return 3*(t+n)/4-n}function f(e,t,n){for(var i,r,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(o[(r=i)>>18&63]+o[r>>12&63]+o[r>>6&63]+o[63&r]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(e,t,n){(function(t){"use strict";var o=e("base64-js"),i=e("ieee754"),r=e("isarray");function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,o){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?m(e,t,n,o):"string"==typeof t?h(e,t,n):y(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t,n,o){return l(t),t<=0?a(e,t):void 0!==n?"string"==typeof o?a(e,t).fill(n,o):a(e,t).fill(n):a(e,t)}function d(e,t){if(l(t),e=a(e,t<0?0:0|g(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|v(t,n),i=(e=a(e,o)).write(t,n);return i!==o&&(e=e.slice(0,i)),e}function p(e,t){var n=t.length<0?0:0|g(t.length);e=a(e,n);for(var o=0;o<n;o+=1)e[o]=255&t[o];return e}function m(e,t,n,o){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===o?new Uint8Array(t):void 0===o?new Uint8Array(t,n):new Uint8Array(t,n,o),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=p(e,t),e}function y(e,t){if(u.isBuffer(t)){var n=0|g(t.length);return 0===(e=a(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(o=t.length)!=o?a(e,0):p(e,t);if("Buffer"===t.type&&r(t.data))return p(e,t.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function v(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(o)return Y(e).length;t=(""+t).toLowerCase(),o=!0}}function _(e,t,n){var o=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return R(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return O(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,n);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function b(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}function w(e,t,n,o,i){if(0===e.length)return-1;if("string"==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,o)),u.isBuffer(t))return 0===t.length?-1:C(e,t,n,o,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):C(e,[t],n,o,i);throw new TypeError("val must be string, number or Buffer")}function C(e,t,n,o,i){var r,s=1,a=e.length,u=t.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(r=n;r<a;r++)if(c(e,r)===c(t,-1===l?0:r-l)){if(-1===l&&(l=r),r-l+1===u)return l*s}else-1!==l&&(r-=r-l),l=-1}else for(n+u>a&&(n=a-u),r=n;r>=0;r--){for(var f=!0,d=0;d<u;d++)if(c(e,r+d)!==c(t,d)){f=!1;break}if(f)return r}return-1}function S(e,t,n,o){n=Number(n)||0;var i=e.length-n;o?(o=Number(o))>i&&(o=i):o=i;var r=t.length;if(r%2!=0)throw new TypeError("Invalid hex string");o>r/2&&(o=r/2);for(var s=0;s<o;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function k(e,t,n,o){return X(Y(t,e.length-n),e,n,o)}function E(e,t,n,o){return X(V(t),e,n,o)}function M(e,t,n,o){return E(e,t,n,o)}function P(e,t,n,o){return X(K(t),e,n,o)}function T(e,t,n,o){return X(Q(t,e.length-n),e,n,o)}function O(e,t,n){return 0===t&&n===e.length?o.fromByteArray(e):o.fromByteArray(e.slice(t,n))}function R(e,t,n){n=Math.min(e.length,n);for(var o=[],i=t;i<n;){var r,s,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(r=e[i+1]))&&(u=(31&c)<<6|63&r)>127&&(l=u);break;case 3:r=e[i+1],s=e[i+2],128==(192&r)&&128==(192&s)&&(u=(15&c)<<12|(63&r)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:r=e[i+1],s=e[i+2],a=e[i+3],128==(192&r)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&r)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,o.push(l>>>10&1023|55296),l=56320|1023&l),o.push(l),i+=f}return N(o)}n.Buffer=u,n.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},n.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),n.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return f(null,e,t,n)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,o=t.length,i=0,r=Math.min(n,o);i<r;++i)if(e[i]!==t[i]){n=e[i],o=t[i];break}return n<o?-1:o<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!r(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var o=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(o,i),i+=s.length}return o},u.byteLength=v,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?R(this,0,e):_.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,o,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===o&&(o=0),void 0===i&&(i=this.length),t<0||n>e.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&t>=n)return 0;if(o>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var r=(i>>>=0)-(o>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(r,s),c=this.slice(o,i),l=e.slice(t,n),f=0;f<a;++f)if(c[f]!==l[f]){r=c[f],s=l[f];break}return r<s?-1:s<r?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},u.prototype.write=function(e,t,n,o){if(void 0===t)o="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)o=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===o&&(o="utf8")):(o=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var r=!1;;)switch(o){case"hex":return S(this,e,t,n);case"utf8":case"utf-8":return k(this,e,t,n);case"ascii":return E(this,e,t,n);case"latin1":case"binary":return M(this,e,t,n);case"base64":return P(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),r=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var F=4096;function N(e){var t=e.length;if(t<=F)return String.fromCharCode.apply(String,e);for(var n="",o=0;o<t;)n+=String.fromCharCode.apply(String,e.slice(o,o+=F));return n}function A(e,t,n){var o="";n=Math.min(e.length,n);for(var i=t;i<n;++i)o+=String.fromCharCode(127&e[i]);return o}function I(e,t,n){var o="";n=Math.min(e.length,n);for(var i=t;i<n;++i)o+=String.fromCharCode(e[i]);return o}function x(e,t,n){var o,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",s=t;s<n;++s)r+=(o=e[s])<16?"0"+o.toString(16):o.toString(16);return r}function B(e,t,n){for(var o=e.slice(t,n),i="",r=0;r<o.length;r+=2)i+=String.fromCharCode(o[r]+256*o[r+1]);return i}function G(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,o,i,r){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<r)throw new RangeError('"value" argument is out of bounds');if(n+o>e.length)throw new RangeError("Index out of range")}function L(e,t,n,o){t<0&&(t=65535+t+1);for(var i=0,r=Math.min(e.length-n,2);i<r;++i)e[n+i]=(t&255<<8*(o?i:1-i))>>>8*(o?i:1-i)}function z(e,t,n,o){t<0&&(t=4294967295+t+1);for(var i=0,r=Math.min(e.length-n,4);i<r;++i)e[n+i]=t>>>8*(o?i:3-i)&255}function j(e,t,n,o){if(n+o>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function W(e,t,n,o,r){return r||j(e,0,n,4),i.write(e,t,n,o,23,4),n+4}function H(e,t,n,o,r){return r||j(e,0,n,8),i.write(e,t,n,o,52,8),n+8}u.prototype.slice=function(e,t){var n,o=this.length;if((e=~~e)<0?(e+=o)<0&&(e=0):e>o&&(e=o),(t=void 0===t?o:~~t)<0?(t+=o)<0&&(t=0):t>o&&(t=o),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var r=0;r<i;++r)n[r]=this[r+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||G(e,t,this.length);for(var o=this[e],i=1,r=0;++r<t&&(i*=256);)o+=this[e+r]*i;return o},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||G(e,t,this.length);for(var o=this[e+--t],i=1;t>0&&(i*=256);)o+=this[e+--t]*i;return o},u.prototype.readUInt8=function(e,t){return t||G(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||G(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||G(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||G(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||G(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||G(e,t,this.length);for(var o=this[e],i=1,r=0;++r<t&&(i*=256);)o+=this[e+r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||G(e,t,this.length);for(var o=t,i=1,r=this[e+--o];o>0&&(i*=256);)r+=this[e+--o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readInt8=function(e,t){return t||G(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||G(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||G(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||G(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||G(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||G(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||G(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||G(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||G(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,o){e=+e,t|=0,n|=0,o||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,r=0;for(this[t]=255&e;++r<n&&(i*=256);)this[t+r]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,o){e=+e,t|=0,n|=0,o||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,r=1;for(this[t+i]=255&e;--i>=0&&(r*=256);)this[t+i]=e/r&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):z(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):z(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,o){if(e=+e,t|=0,!o){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var r=0,s=1,a=0;for(this[t]=255&e;++r<n&&(s*=256);)e<0&&0===a&&0!==this[t+r-1]&&(a=1),this[t+r]=(e/s>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,o){if(e=+e,t|=0,!o){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var r=n-1,s=1,a=0;for(this[t+r]=255&e;--r>=0&&(s*=256);)e<0&&0===a&&0!==this[t+r+1]&&(a=1),this[t+r]=(e/s>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):z(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):z(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return W(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return W(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return H(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return H(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,o){if(n||(n=0),o||0===o||(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-n&&(o=e.length-t+n);var i,r=o-n;if(this===e&&n<t&&t<o)for(i=r-1;i>=0;--i)e[i+t]=this[i+n];else if(r<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<r;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+r),t);return r},u.prototype.fill=function(e,t,n,o){if("string"==typeof e){if("string"==typeof t?(o=t,t=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!u.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var r;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(r=t;r<n;++r)this[r]=e;else{var s=u.isBuffer(e)?e:Y(new u(e,o).toString()),a=s.length;for(r=0;r<n-t;++r)this[r+t]=s[r%a]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function q(e){if((e=J(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function J(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Y(e,t){var n;t=t||1/0;for(var o=e.length,i=null,r=[],s=0;s<o;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(s+1===o){(t-=3)>-1&&r.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&r.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&r.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;r.push(n)}else if(n<2048){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function V(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function Q(e,t){for(var n,o,i,r=[],s=0;s<e.length&&!((t-=2)<0);++s)o=(n=e.charCodeAt(s))>>8,i=n%256,r.push(i),r.push(o);return r}function K(e){return o.toByteArray(q(e))}function X(e,t,n,o){for(var i=0;i<o&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(e,t){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],4:[function(e,t,n){n.read=function(e,t,n,o,i){var r,s,a=8*i-o-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,r=h&(1<<-l)-1,h>>=-l,l+=a;l>0;r=256*r+e[t+f],f+=d,l-=8);for(s=r&(1<<-l)-1,r>>=-l,l+=o;l>0;s=256*s+e[t+f],f+=d,l-=8);if(0===r)r=1-c;else{if(r===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,o),r-=c}return(h?-1:1)*s*Math.pow(2,r-o)},n.write=function(e,t,n,o,i,r){var s,a,u,c=8*r-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=o?0:r-1,p=o?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+h]=255&s,h+=p,s/=256,c-=8);e[n+h-p]|=128*m}},{}],ColorString:[function(e,t){"use strict";cc._RF.push(t,"ad2c1/DCDFPRYkAq8aXpcf/","ColorString"),cc.Class({extends:cc.Component,properties:{},start:function(){},colorOfString:function(e){if(null==e||7!=e.length)return null;var t=e.toLowerCase();if("#"==t.charAt(0)){t=t.slice(1);var n=parseInt(t[0]+t[1],16),o=parseInt(t[2]+t[3],16),i=parseInt(t[4]+t[5],16);return new cc.Color(n,o,i,255)}}}),cc._RF.pop()},{}],Guest1_ConfirmDeviceMotionEvent:[function(e,t){"use strict";cc._RF.push(t,"8f065kKO3ZMjZ+0XvZbCxxo","Guest1_ConfirmDeviceMotionEvent");var n=e("Model");cc.Class({extends:cc.Component,properties:{WrongAlert:{default:null,type:cc.Node}},onLoad:function(){this.join=!1,this.AlertText=cc.find("\u756b\u5e03/\u8b66\u544a/\u8b66\u544a\u6587\u5b57"),n.Guest1_Join_JS=this},start:function(){cc.systemEvent.setAccelerometerEnabled(!0),cc.systemEvent.on(cc.SystemEvent.EventType.DEVICEMOTION,this.onDeviceMotionEvent,this),"close"==n.HostWindow&&(this.AlertText.getComponent(cc.Label).string="\u4e3b\u8fa6\u55ae\u4f4d\u5df2\u95dc\u9589\u8996\u7a97\uff0c\u904a\u6232\u4e2d\u6b62",this.WrongAlert.active=!0)},onDeviceMotionEvent:function(e){var t=e.acc.x.toFixed(2),o=e.acc.y.toFixed(2),i=e.acc.z.toFixed(2),r=parseFloat(t)+parseFloat(o)+parseFloat(i);0==r&&"Android"==cc.sys.os&&1==this.join&&"close"!=n.GameStatusMessage&&"\u932f\u8aa4: \u8a72\u5834\u6b21\u904a\u6232\u4e0d\u5141\u8a31\u91cd\u8907\u4e2d\u734e\uff0c\u60a8\u5df2\u4e2d\u734e\uff0c\u7121\u6cd5\u53c3\u52a0\u4e0b\u4e00\u8f2a\u904a\u6232"!=n.CannotJoinGame?(this.AlertText.getComponent(cc.Label).string="\u6b64\u8a2d\u5099\u4e0d\u652f\u63f4\u6416\u4e00\u6416\u529f\u80fd",this.WrongAlert.active=!0,cc.systemEvent.setAccelerometerEnabled(!1)):0!=r&&"Android"==cc.sys.os&&1==this.join&&"close"!=n.GameStatusMessage?(this.join=!1,n.WebSocket_NumberOfPeople_Guest(500,!0)):"close"==n.GameStatusMessage&&"\u932f\u8aa4: \u8a72\u5834\u6b21\u904a\u6232\u4e0d\u5141\u8a31\u91cd\u8907\u4e2d\u734e\uff0c\u60a8\u5df2\u4e2d\u734e\uff0c\u7121\u6cd5\u53c3\u52a0\u4e0b\u4e00\u8f2a\u904a\u6232"!=n.CannotJoinGame&&1==this.join&&(this.join=!1,this.AlertText.getComponent(cc.Label).string="\u8acb\u7b49\u5f85\u4e3b\u8fa6\u65b9\u9023\u63a5\u5f8c\u518d\u52a0\u5165\u904a\u6232",this.WrongAlert.active=!0)},JoinGame:function(){var e=this;this.join=!0,"iOS"==cc.sys.os&&1==this.join&&"close"!=n.GameStatusMessage?"function"==typeof DeviceOrientationEvent.requestPermission&&DeviceOrientationEvent.requestPermission().then(function(t){"granted"===t&&(n.WebSocket_NumberOfPeople_Guest(500,!0),e.join=!1)}).catch(function(e){console.log(e)}):"close"==n.GameStatusMessage&&"\u932f\u8aa4: \u8a72\u5834\u6b21\u904a\u6232\u4e0d\u5141\u8a31\u91cd\u8907\u4e2d\u734e\uff0c\u60a8\u5df2\u4e2d\u734e\uff0c\u7121\u6cd5\u53c3\u52a0\u4e0b\u4e00\u8f2a\u904a\u6232"!=n.CannotJoinGame&&1==this.join&&(this.join=!1,this.AlertText.getComponent(cc.Label).string="\u8acb\u7b49\u5f85\u4e3b\u8fa6\u65b9\u9023\u63a5\u5f8c\u518d\u52a0\u5165\u904a\u6232",this.WrongAlert.active=!0)},ConnetSuccess:function(){""==n.CannotJoinGame?cc.director.loadScene("Guest2_Wait"+n.BackGround_Theme):(this.AlertText.getComponent(cc.Label).string=n.CannotJoinGame,this.WrongAlert.active=!0)},ConnetFail:function(){this.AlertText.getComponent(cc.Label).string="\u7121\u6cd5\u9023\u63a5\u4f3a\u670d\u5668",this.WrongAlert.active=!0},CloseAlert:function(){this.WrongAlert.active=!1,"\u932f\u8aa4: \u8a72\u5834\u6b21\u904a\u6232\u4e0d\u5141\u8a31\u91cd\u8907\u4e2d\u734e\uff0c\u60a8\u5df2\u4e2d\u734e\uff0c\u7121\u6cd5\u53c3\u52a0\u4e0b\u4e00\u8f2a\u904a\u6232"==n.CannotJoinGame&&"close"!=n.HostWindow?cc.director.loadScene("Guest5_Prize"+n.BackGround_Theme):n.HostWindow="open"}}),cc._RF.pop()},{Model:"Model"}],Guest1_JoinGame:[function(e,t){"use strict";cc._RF.push(t,"bb6f1qnP6hJZbNXL4cYNlkr","Guest1_JoinGame");var n=e("Model");cc.Class({extends:cc.Component,properties:{WrongAlert:{default:null,type:cc.Node},AlertText:{default:null,type:cc.Label}},start:function(){n.Guest1_Join_JS=this,"close"==n.HostWindow&&(this.AlertText.string="\u4e3b\u8fa6\u55ae\u4f4d\u5df2\u95dc\u9589\u8996\u7a97\uff0c\u904a\u6232\u4e2d\u6b62",this.WrongAlert.active=!0)},JoinGame:function(){"close"==n.GameStatusMessage&&"\u932f\u8aa4: \u8a72\u5834\u6b21\u904a\u6232\u4e0d\u5141\u8a31\u91cd\u8907\u4e2d\u734e\uff0c\u60a8\u5df2\u4e2d\u734e\uff0c\u7121\u6cd5\u53c3\u52a0\u4e0b\u4e00\u8f2a\u904a\u6232"!=n.CannotJoinGame?(this.AlertText.string="\u8acb\u7b49\u5f85\u4e3b\u8fa6\u65b9\u9023\u63a5\u5f8c\u518d\u52a0\u5165\u904a\u6232",this.WrongAlert.active=!0):n.WebSocket_NumberOfPeople_Guest(500,!0)},ConnetSuccess:function(){""==n.CannotJoinGame?cc.director.loadScene("Guest2_Wait"+n.BackGround_Theme):(this.AlertText.string=n.CannotJoinGame,this.WrongAlert.active=!0)},ConnetFail:function(){this.AlertText.string="\u7121\u6cd5\u9023\u63a5\u4f3a\u670d\u5668",this.WrongAlert.active=!0},CloseAlert:function(){this.WrongAlert.active=!1,"\u932f\u8aa4: \u8a72\u5834\u6b21\u904a\u6232\u4e0d\u5141\u8a31\u91cd\u8907\u4e2d\u734e\uff0c\u60a8\u5df2\u4e2d\u734e\uff0c\u7121\u6cd5\u53c3\u52a0\u4e0b\u4e00\u8f2a\u904a\u6232"==n.CannotJoinGame&&"close"!=n.HostWindow?cc.director.loadScene("Guest5_Prize"+n.BackGround_Theme):n.HostWindow="open"}}),cc._RF.pop()},{Model:"Model"}],Guest1_PrizeInformationItem:[function(e,t){"use strict";cc._RF.push(t,"25fa1HV0jBPHoc8dTS9szjs","Guest1_PrizeInformationItem");var n=e("Model");cc.Class({extends:cc.Component,properties:{timelabel:{default:null,type:cc.Label},roundlabel:{default:null,type:cc.Label},prize_namelabel:{default:null,type:cc.Label}},updateInfo:function(e){this.timelabel.string=n.Win_Time[e],this.roundlabel.string="\u7b2c"+n.getprize_round[e]+"\u8f2a",this.prize_namelabel.string=n.prize_name_guest[e]},start:function(){}}),cc._RF.pop()},{Model:"Model"}],Guest1_PrizeInformation:[function(e,t){"use strict";cc._RF.push(t,"b83ce5vZENGcp/Bx3GTkY93","Guest1_PrizeInformation");var n=e("Model"),o=e("Guest1_PrizeInformationItem");cc.Class({extends:cc.Component,properties:{prize_information:{default:null,type:cc.Node},prize_information_Btn:{default:null,type:cc.Sprite},prize_Btn_UP:{default:null,type:cc.SpriteFrame},prize_Btn_DOWN:{default:null,ype:cc.SpriteFrame},prize_information_Item:{default:null,type:cc.Prefab},items_parent:{default:null,type:cc.Node}},onload:function(){},start:function(){this.OpenPrize_Information=!1,this.itemlist=[],this.SpawnPrizeInformation()},PrizeInformation_Press:function(){0==this.OpenPrize_Information?(this.prize_information_Btn.spriteFrame=this.prize_Btn_UP,this.prize_information.active=!0,this.OpenPrize_Information=!0):(this.prize_information_Btn.spriteFrame=this.prize_Btn_DOWN,this.prize_information.active=!1,this.OpenPrize_Information=!1)},SpawnPrizeInformation:function(){for(var e=0;e<n.prize_name_guest.length;e++){var t=cc.instantiate(this.prize_information_Item);t.parent=this.items_parent;var i=t.getComponent(o);this.itemlist.push(i),this.itemlist[e].updateInfo(e)}},update:function(){}}),cc._RF.pop()},{Guest1_PrizeInformationItem:"Guest1_PrizeInformationItem",Model:"Model"}],Guest1_WaitingForQuestion:[function(e,t){"use strict";cc._RF.push(t,"c2bd3wUqZlDsIwM6v+H0Fa5","Guest1_WaitingForQuestion");var n=e("Model");cc.Class({extends:cc.Component,properties:{Rank:{default:null,type:cc.Label},Score:{default:null,type:cc.Label},Time:{default:null,type:cc.Label}},onLoad:function(){},start:function(){this.UpdateRankScore()},update:function(){"start"==n.GameStatusMessage&&cc.director.loadScene("Guest2_Answer")},UpdateRankScore:function(){this.Rank.string=n.Rank,this.Score.string=n.Score,this.Time.string=n.gametimelimit}}),cc._RF.pop()},{Model:"Model"}],Guest2_Game:[function(e,t){"use strict";cc._RF.push(t,"dad24nwGSpLXoN5VdJLp2I3","Guest2_Game");var n=e("Model"),o=e("Guest1_WaitingForQuestion");cc.Class({extends:o,properties:{OptionsText:{default:[],type:cc.Label},OptionsColor:{default:[],type:cc.Sprite},UnChooseOption:{default:null,type:cc.SpriteFrame},WrongChoose:{default:[],type:cc.SpriteFrame},Question:{default:null,type:cc.Label}},onLoad:function(){this.OptionsOriginalColor=[],this.CurrentChoose=null,this.state=0,n.Answer=3},start:function(){this.Question.string=n.Question[n.QuestionCount],this.UpdateRankScore();for(var e=0;e<4;e++)this.OptionsText[e].string=n.Options[e],this.OptionsOriginalColor[e]=this.OptionsColor[e].spriteFrame},ChooseOptions:function(e,t){if("end"!=n.GameStatusMessage)for(var o=0;o<4;o++)this.CurrentChoose=t,this.OptionsColor[o].spriteFrame=o==t?this.OptionsOriginalColor[o]:this.UnChooseOption},ShowAnswer:function(){n.GameStatusMessage="end"},update:function(){if("end"==n.GameStatusMessage&&0==this.state){this.state=1;for(var e=0;e<4;e++)e==n.Answer?(this.ABCD[e].getChildByName("\u6b63\u78ba").active=!0,this.OptionsColor[e].spriteFrame=this.OptionsOriginalColor[e]):this.ABCD[e].getChildByName("\u932f\u8aa4").active=!0;this.CurrentChoose!=n.Answer?this.OptionsColor[this.CurrentChoose].spriteFrame=this.WrongChoose:this.Score.string=n.Score+1}else"next"==n.GameStatusMessage&&1==this.state&&cc.director.loadScene("WaitingQuestion")}}),cc._RF.pop()},{Guest1_WaitingForQuestion:"Guest1_WaitingForQuestion",Model:"Model"}],Guest2_WaitForStart:[function(e,t){"use strict";cc._RF.push(t,"6dc05RqXWxMa4vuAhRC6dsu","Guest2_WaitForStart");var n=e("Model");cc.Class({extends:cc.Component,properties:{},start:function(){this.waitonesecond=!1,this.scheduleOnce(function(){this.waitonesecond=!0},1.1)},update:function(){"start"!=n.GameStatusMessage&&"gaming"!=n.GameStatusMessage||1!=this.waitonesecond?"end"==n.GameStatusMessage&&1==this.waitonesecond?cc.director.loadScene("Guest5_Prize"+n.BackGround_Theme):"close"==n.GameStatusMessage&&1==this.waitonesecond&&(n.HostWindow="close",cc.director.loadScene("Guest1_JoinGame"+n.BackGround_Theme)):0==n.AlreadyPlayed?cc.director.loadScene("Guest3_CountDown"+n.BackGround_Theme):cc.director.loadScene("Guest5_Prize")}}),cc._RF.pop()},{Model:"Model"}],Guest4_CatchRedpacket:[function(e,t){"use strict";cc._RF.push(t,"bcb12aXiNtNJqC5IhrlOMRA","Guest4_CatchRedpacket");var n=e("Model");cc.Class({extends:cc.Component,properties:{aniRedPacket:{default:null,type:cc.Node},aniButton:{default:null,type:cc.Node},aniHand:{default:null,type:cc.Node}},onLoad:function(){cc.director.getPhysicsManager().enabled=!0},start:function(){this.RopeCount=0,this.ButtunClickCheck=0,this.aniButtunStates="None",this.schedule(this.CheckCountinuePress,.5)},Rope:function(){"None"==this.aniButtunStates?(this.aniButtunStates="\u958b\u59cb\u5957\u7d05\u5305",this.aniButton.getComponent(sp.Skeleton).setAnimation(0,"animation3",!0),this.aniHand.getComponent(sp.Skeleton).timeScale=2.5,this.aniRedPacket.getComponent(sp.Skeleton).setAnimation(0,"catch1-2",!1),this.aniRedPacket.getComponent(sp.Skeleton).addAnimation(0,"catch1-3",!0)):"\u958b\u59cb\u5957\u7d05\u5305"==this.aniButtunStates&&this.RopeCount<20&&(this.RopeCount++,20==this.RopeCount&&(this.unschedule(this.CheckCountinuePress),n.Lottery_Guest(),this.scheduleOnce(function(){"thanks"==n.result?this.aniRedPacket.getComponent(sp.Skeleton).setAnimation(0,"catch1-5",!1):this.aniRedPacket.getComponent(sp.Skeleton).setAnimation(0,"catch1-4",!1)},3),this.scheduleOnce(function(){n.GameStatusMessage="end"},4.2)))},CheckCountinuePress:function(){this.RopeCount!=this.ButtunClickCheck?this.ButtunClickCheck=this.RopeCount:(this.RopeCount=0,this.ButtunClickCheck=0)}}),cc._RF.pop()},{Model:"Model"}],Guest4_GameCountDown_ShowTime:[function(e,t){"use strict";cc._RF.push(t,"19103C1C8ROE6IEqrTwBI9B","Guest4_GameCountDown_ShowTime");var n=e("Model"),o=e("Guest4_GameCountDown");cc.Class({extends:o,properties:{countdown:{default:null,type:cc.Node},NoLinitTimeImg:{default:null,type:cc.Node},countdownText:{default:null,type:cc.Label},waitForCount:{default:null,type:cc.Node}},start:function(){this.alreadyend=!1,0==n.XMLTimeLimit&&(this.countdown.active=!1,this.NoLinitTimeImg.active=!0)},update:function(){1==n.XMLTimeLimit&&(this.countdownText.string=n.gametimeCountDown),"end"==n.GameStatusMessage&&0==this.alreadyend?(this.alreadyend=!0,this.waitForCount.active=!0,this.scheduleOnce(function(){n.Lottery_Guest()},5),this.scheduleOnce(function(){cc.director.loadScene("Guest5_Prize"+n.BackGround_Theme)},6)):"close"==n.GameStatusMessage&&0==this.alreadyend&&(this.alreadyend=!0,n.HostWindow="close",cc.director.loadScene("Guest1_JoinGame"+n.BackGround_Theme))}}),cc._RF.pop()},{Guest4_GameCountDown:"Guest4_GameCountDown",Model:"Model"}],Guest4_GameCountDown:[function(e,t){"use strict";cc._RF.push(t,"037baTi8DRKwokRLHQEF/UG","Guest4_GameCountDown");var n=e("Model");cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){},update:function(){"end"==n.GameStatusMessage?cc.director.loadScene("Guest5_Prize"+n.BackGround_Theme):"close"==n.GameStatusMessage&&(n.HostWindow="close",cc.director.loadScene("Guest1_JoinGame"+n.BackGround_Theme))}}),cc._RF.pop()},{Model:"Model"}],Guest4_ShakeRedpacket:[function(e,t){"use strict";cc._RF.push(t,"da8fbrVeyxAB7FB9/coyTfy","Guest4_ShakeRedpacket");var n=e("Model");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.GetPrize=!1,this.shakecount=0},start:function(){cc.systemEvent.setAccelerometerEnabled(!0),cc.systemEvent.on(cc.SystemEvent.EventType.DEVICEMOTION,this.onDeviceMotionEvent,this)},onDeviceMotionEvent:function(e){var t=e.acc.x.toFixed(2),o=e.acc.y.toFixed(2),i=e.acc.z.toFixed(2);this.speed=Math.abs(t-.2)+Math.abs(o-.2)+Math.abs(i-.2),this.speed>2?(this.shakecount++,this.shakecount>=5&&0==this.GetPrize&&(cc.systemEvent.setAccelerometerEnabled(!1),cc.systemEvent.off(cc.SystemEvent.EventType.DEVICEMOTION,this.onDeviceMotionEvent,this),this.GetPrize=!0,n.Lottery_Guest(),this.scheduleOnce(function(){n.GameStatusMessage="end"},3))):this.shakecount=0}}),cc._RF.pop()},{Model:"Model"}],Guest4_Whack_a_mole:[function(e,t){"use strict";cc._RF.push(t,"83d95EkbptGn5JBBdtEmj8P","Guest4_Whack_a_mole");var n=e("Model");cc.Class({extends:cc.Component,properties:{mouseHoles:{default:null,type:cc.Node},mouseTypeImg:{default:[],type:[cc.SpriteFrame]},mouseIndexArr:null},onLoad:function(){this.Hammer=cc.find("\u69cc\u5b50"),n.WebSocket_UpDateScore_Guest(),n.Score=0},start:function(){this.mouseIndexArr=[],this.node.on("touchstart",function(e){this.Hammer.setPosition(e.currentTouch._startPoint.x+100,e.currentTouch._startPoint.y-90),this.Hammer.active=!0,this.scheduleOnce(function(){this.Hammer.active=!1},.15)},this),this.schedule(function(){this.MouseComeOut()},.5)},updateMouseNodeInfo:function(e,t){e.getComponent("Guest_MouseManager").isLive=!0,e.getComponent("Guest_MouseManager").tag=t},MouseComeOut:function(){for(var e=0;e<3;e++){var t=Math.floor(Math.random()*this.mouseHoles.childrenCount),n=Math.floor(Math.random()*this.mouseTypeImg.length);if(-1===this.mouseIndexArr.indexOf(t)){var o=this.mouseHoles.children[t].getChildByName("\u906e\u7f69").getChildByName("\u9f20");this.updateMouseNodeInfo(o,n),this.mouseIndexArr.push(t),o.getComponent(cc.Sprite).spriteFrame=this.mouseTypeImg[n],o.getComponent("Guest_MouseManager").GetData(t,n),o.getComponent("Guest_MouseManager").MouseAnimation()}}}}),cc._RF.pop()},{Model:"Model"}],Guest5_PrizeRecordItem:[function(e,t){"use strict";cc._RF.push(t,"34a39kGdyJLpY+shmDebf2c","Guest5_PrizeRecordItem");var n=e("Model");cc.Class({extends:cc.Component,properties:{timelabel:{default:null,type:cc.Label},roundlabel:{default:null,type:cc.Label},prize_namelabel:{default:null,type:cc.Label},redeemBtn:{default:null,type:cc.Node},redeemBtn_img_Close:{default:null,type:cc.SpriteFrame},AlreadyExchange:{default:null,type:cc.Node},continueBtn:{default:null,type:cc.SpriteFrame},confirmBtn:{default:null,type:cc.SpriteFrame},confirmBtnDone:{default:null,type:cc.SpriteFrame}},updateInfo:function(e){this.catchindex=e,this.prize_id=n.prize_ID[e].toString(),this.timelabel.string=n.Win_Time[e],this.roundlabel.string=n.getprize_round[e],this.prize_namelabel.string=n.prize_name_guest[e],"yes"==n.exchangePrize[e]&&(this.redeemBtn.getComponent(cc.Sprite).spriteFrame=this.redeemBtn_img_Close,this.redeemBtn.getComponent(cc.Button).interactable=!1,this.AlreadyExchange.active=!0)},openRedeem:function(){n.WhitchPrize_index=this.catchindex,this.redeem.active=!0,this.clickcount=0,this.KeyPassword.on("editing-did-began",this.callback,this),this.KeyPasswordSure.on("click",this.SurePassword,this),this.KeyPasswordCancle.on("click",this.CanclePassword,this),this.redeem_PrizeName.getComponent(cc.Label).string=this.prize_namelabel.string,"site"==n.prize_method[n.WhitchPrize_index]?n.prize_method_chinese="\u73fe\u5834\u514c\u63db":"mail"==n.prize_method[n.WhitchPrize_index]&&(n.prize_method_chinese="\u90f5\u4ef6\u514c\u63db"),this.redeem_PrizeMethod.getComponent(cc.Label).string="\u514c\u734e\u65b9\u5f0f: "+n.prize_method_chinese,this.ShowPicture(n.WhitchPrize_index),"yes"==n.exchangePrize[n.WhitchPrize_index]?(this.exchangeBtn.off("click",this.Exchange,this),this.exchangeBtn.getComponent(cc.Sprite).spriteFrame=this.confirmBtnDone,this.AlreadyExchange.active=!0):(this.exchangeBtn.getComponent(cc.Sprite).spriteFrame=this.continueBtn,this.exchangeBtn.on("click",this.Exchange,this))},ShowPicture:function(e){var t=this;cc.assetManager.loadRemote(n.Domain+n.prize_picture[e],{ext:".jpg"},function(e,n){if(e)console.log("\u932f\u8aa4");else{var o=new cc.SpriteFrame(n);t.redeem_PrizePicture.getComponent(cc.Sprite).spriteFrame=o}})},Exchange:function(){"no"==n.exchangePrize[n.WhitchPrize_index]&&(0==this.clickcount?(this.WrongPassword.active=!1,this.exchangeBtn.getComponent(cc.Sprite).spriteFrame=this.confirmBtn,this.clickcount++,this.PasswordMask.active=!0):(this.exchangeBtn.getComponent(cc.Sprite).spriteFrame=this.confirmBtnDone,this.exchangeBtn.off("click",this.Exchange,this),this.redeemBtn.getComponent(cc.Sprite).spriteFrame=this.redeemBtn_img_Close,this.redeemBtn.getComponent(cc.Button).interactable=!1,this.AlreadyExchange.active=!0,n.exchangePrize[n.WhitchPrize_index]="yes",n.PrizeStatus(this.prize_id)))},callback:function(){this.WrongPassword.active=!1},SurePassword:function(){this.KeyPassword.getComponent(cc.EditBox).string==n.password[n.WhitchPrize_index]?this.PasswordMask.active=!1:this.WrongPassword.active=!0,this.KeyPassword.getComponent(cc.EditBox).string=""},CanclePassword:function(){this.clickcount=0,this.exchangeBtn.getComponent(cc.Sprite).spriteFrame=this.continueBtn,this.KeyPassword.getComponent(cc.EditBox).string="",this.PasswordMask.active=!1,this.WrongPassword.active=!1},onLoad:function(){this.redeem=cc.find("\u756b\u5e03/\u514c\u63db\u756b\u9762"),this.redeem_PrizeName=cc.find("\u756b\u5e03/\u514c\u63db\u756b\u9762/\u734e\u54c1\u540d\u7a31"),this.redeem_PrizeMethod=cc.find("\u756b\u5e03/\u514c\u63db\u756b\u9762/\u514c\u734e\u65b9\u5f0f"),this.redeem_PrizePicture=cc.find("\u756b\u5e03/\u514c\u63db\u756b\u9762/\u734e\u54c1\u7167\u7247\u6846/\u734e\u54c1\u906e\u7f69/\u734e\u54c1\u5716\u7247"),this.exchangeBtn=cc.find("\u756b\u5e03/\u514c\u63db\u756b\u9762/\u7e7c\u7e8c\u6309\u9215"),this.PasswordMask=cc.find("\u756b\u5e03/\u5bc6\u78bc\u906e\u7f69"),this.KeyPassword=cc.find("\u756b\u5e03/\u5bc6\u78bc\u906e\u7f69/\u514c\u63db\u5bc6\u78bc\u6b04"),this.KeyPasswordSure=cc.find("\u756b\u5e03/\u5bc6\u78bc\u906e\u7f69/\u78ba\u5b9a"),this.KeyPasswordCancle=cc.find("\u756b\u5e03/\u5bc6\u78bc\u906e\u7f69/\u53d6\u6d88"),this.WrongPassword=cc.find("\u756b\u5e03/\u5bc6\u78bc\u906e\u7f69/\u932f\u8aa4\u63d0\u793a"),this.KeyPassword.getComponent(cc.EditBox).string=""},start:function(){}}),cc._RF.pop()},{Model:"Model"}],Guest5_Prize:[function(e,t){"use strict";cc._RF.push(t,"36c4a49rStLe63/oPQEoHYv","Guest5_Prize");var n=e("Model"),o=e("Guest5_PrizeRecordItem");cc.Class({extends:cc.Component,properties:{items:{default:null,type:cc.Prefab},Redeem:{default:null,type:cc.Node},Win:{default:null,type:cc.Node},Lose:{default:null,type:cc.Node},Note:{default:null,type:cc.Node},CannotNextRound:{default:null,type:cc.SpriteFrame}},onLoad:function(){this.itemlist=[],this.prize_parents=cc.find("\u756b\u5e03/\u5df2\u7372\u5f97\u7684\u734e\u54c1\u5217\u8868/view/\u5167\u5bb9")},start:function(){"thanks"==n.result&&0==n.AlreadyPlayed&&"\u932f\u8aa4: \u8a72\u5834\u6b21\u904a\u6232\u4e0d\u5141\u8a31\u91cd\u8907\u4e2d\u734e\uff0c\u60a8\u5df2\u4e2d\u734e\uff0c\u7121\u6cd5\u53c3\u52a0\u4e0b\u4e00\u8f2a\u904a\u6232"!=n.CannotJoinGame?this.Lose.active=!0:"thanks"!=n.result&&0==n.AlreadyPlayed&&"\u932f\u8aa4: \u8a72\u5834\u6b21\u904a\u6232\u4e0d\u5141\u8a31\u91cd\u8907\u4e2d\u734e\uff0c\u60a8\u5df2\u4e2d\u734e\uff0c\u7121\u6cd5\u53c3\u52a0\u4e0b\u4e00\u8f2a\u904a\u6232"!=n.CannotJoinGame?(this.Win.active=!0,"close"==n.AllowRePrize&&(n.CannotJoinGame="\u932f\u8aa4: \u8a72\u5834\u6b21\u904a\u6232\u4e0d\u5141\u8a31\u91cd\u8907\u4e2d\u734e\uff0c\u60a8\u5df2\u4e2d\u734e\uff0c\u7121\u6cd5\u53c3\u52a0\u4e0b\u4e00\u8f2a\u904a\u6232",this.Note.getComponent(cc.Sprite).spriteFrame=this.CannotNextRound)):"\u932f\u8aa4: \u8a72\u5834\u6b21\u904a\u6232\u4e0d\u5141\u8a31\u91cd\u8907\u4e2d\u734e\uff0c\u60a8\u5df2\u4e2d\u734e\uff0c\u7121\u6cd5\u53c3\u52a0\u4e0b\u4e00\u8f2a\u904a\u6232"==n.CannotJoinGame&&(this.Note.getComponent(cc.Sprite).spriteFrame=this.CannotNextRound),this.setData(),this.GameStateJudge=!0},setData:function(){for(var e=0;e<n.prize_name_guest.length;e++){var t=cc.instantiate(this.items);t.parent=this.prize_parents;var i=t.getComponent(o);this.itemlist.push(i),this.itemlist[e].updateInfo(e)}},CloseRedeem:function(){this.Redeem.active=!1},CloseWin:function(){this.Win.active=!1},CloseLose:function(){this.Lose.active=!1},update:function(){"open"==n.GameStatusMessage&&"\u932f\u8aa4: \u8a72\u5834\u6b21\u904a\u6232\u4e0d\u5141\u8a31\u91cd\u8907\u4e2d\u734e\uff0c\u60a8\u5df2\u4e2d\u734e\uff0c\u7121\u6cd5\u53c3\u52a0\u4e0b\u4e00\u8f2a\u904a\u6232"!=n.CannotJoinGame&&1==this.GameStateJudge&&(n.AlreadyPlayed=0,n.result="thanks",cc.director.loadScene("Guest1_JoinGame"+n.BackGround_Theme))}}),cc._RF.pop()},{Guest5_PrizeRecordItem:"Guest5_PrizeRecordItem",Model:"Model"}],Guest_MouseManager:[function(e,t){"use strict";cc._RF.push(t,"25315n6hs9I2Zo5QX1kiHB3","Guest_MouseManager");var n=e("Model");cc.Class({extends:cc.Component,properties:{isLive:!1,tag:null,dead:{default:null,type:cc.SpriteFrame},bomb:{default:null,type:cc.SpriteFrame},AddPoint:{default:null,type:cc.Node},MinusPoint:{default:null,type:cc.Node}},onLoad:function(){this.HolesParent=cc.find("\u756b\u5e03/\u5834\u666f/\u5730\u9f20\u6d1e"),this.GameManager=cc.find("\u756b\u5e03").getComponent("Guest4_Whack_a_mole"),this.GameScore=cc.find("\u756b\u5e03/\u5834\u666f/\u5f97\u5206\u6846/\u5206\u6578")},start:function(){this.node.on("touchstart",this.Hit,this),this.StartPosition=this.node.position,this.HitAniTarget=null,this.delytime=0,this.AddPoint_OriPos=this.AddPoint.position,this.MinusPoint_OriPos=this.MinusPoint.position},Hit:function(){1==this.isLive&&(this.mouseani.stop(),this.isLive=!1,this.node.setPosition(-462.525,414.31,0),this.node.getComponent(cc.Sprite).spriteFrame=2==this.tag?this.bomb:this.dead,this.tag<2?(0==this.tag?(this.AddPoint.getComponent(cc.Label).string=1,n.Score+=1):(this.AddPoint.getComponent(cc.Label).string=3,n.Score+=3),this.AddPoint.active=!0,this.HitAniTarget=this.AddPoint):2==this.tag&&(n.Score-=1,n.Score=n.Score<0?0:n.Score,this.MinusPoint.active=!0,this.HitAniTarget=this.MinusPoint),this.HitAnimation(),this.GameScore.getComponent(cc.Label).string=n.Score,this.scheduleOnce(function(){this.HitAniTarget.opacity=255,this.AddPoint.active=!1,this.AddPoint.position=this.AddPoint_OriPos,this.MinusPoint.active=!1,this.MinusPoint.position=this.MinusPoint_OriPos,this.ResetHole()},.5))},GetData:function(e,t){this.randomNodeIndex=e,this.delytime=2==t?1:.5},MouseAnimation:function(){var e=this;this.mouseani=cc.tween(this.node).by(.5,{position:cc.v2(0,520)}).delay(this.delytime).by(.5,{position:cc.v2(0,-510)}).call(function(){e.ResetHole()}).start()},HitAnimation:function(){this.hitani=cc.tween(this.HitAniTarget).to(.5,{opacity:0,position:cc.v2(this.HitAniTarget.position.x,40)}).start()},ResetHole:function(){this.node.position=this.StartPosition,this.GameManager.mouseIndexArr.splice(this.GameManager.mouseIndexArr.indexOf(this.randomNodeIndex,0),1)}}),cc._RF.pop()},{Model:"Model"}],Guest_rwdPlayer:[function(e,t){"use strict";cc._RF.push(t,"47ce2xxDsBPgqV10snO3sxM","Guest_rwdPlayer"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){window.addEventListener("orientationchange",function(){cc.view._orientation!=cc.macro.ORIENTATION_AUTO&&cc.view.setOrientation(cc.macro.ORIENTATION_AUTO),180!=window.orientation&&0!=window.orientation||cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT),90!=window.orientation&&-90!=window.orientation||cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT)})}}),cc._RF.pop()},{}],HelloWorld:[function(e,t){"use strict";cc._RF.push(t,"1eb9e6WzEpPLpaae3N7ZWEa","HelloWorld");var n=e("./goeasy-2.0.12.min.js");window.Global={goEasy:null},cc.Class({extends:cc.Component,properties:{editbox:cc.EditBox,goEasy:null,content:""},onLoad:function(){this.initGoEasy(),this.connectGoEasy(),this.subscribe()},start:function(){},initGoEasy:function(){Global.goEasy=n.getInstance({host:"singapore.goeasy.io",appkey:"BC-64f4ade695d54cdcbcd9c4413fd94e1f",modules:["pubsub"]})},connectGoEasy:function(){var e=this;Global.goEasy.connect({onSuccess:function(){console.log("\u8fde\u63a5\u6210\u529f"),e.updateContent({content:"\u8fde\u63a5\u6210\u529f"})},onFailed:function(t){var n={content:"Failed to connect GoEasy, code:"+t.code+",error:"+t.content};e.updateContent(n)},onProgress:function(t){var n={content:"\u8fde\u63a5\u4e2d"+t};console.log("\u8fde\u63a5\u4e2d"),e.updateContent(n)}})},updateContent:function(e){var t=this.getCurrentTime()+" "+e.content;console.log(t)},subscribe:function(){var e=this;Global.goEasy.pubsub.subscribe({channel:"my_channel",onMessage:function(t){e.updateContent(t),cc.log("\u6536\u5230\u6d88\u606f")},onSuccess:function(){e.updateContent({content:"Channel\u8ba2\u9605\u6210\u529f\u3002"})},onFailed:function(t){var n={content:"errorCode:"+t.code+",\u9519\u8bef\u4fe1\u606f:"+t.content};e.updateContent(n)}})},publish:function(){""!=this.content&&Global.goEasy.pubsub.publish({channel:"my_channel",message:this.content,onSuccess:function(){console.log("\u6d88\u606f\u53d1\u5e03\u6210\u529f\u3002")},onFailed:function(e){console.log("\u6d88\u606f\u53d1\u9001\u5931\u8d25\uff0c\u9519\u8bef\u7f16\u7801\uff1a"+e.code+" \u9519\u8bef\u4fe1\u606f\uff1a"+e.content)}}),this.editbox.string=""},onChanged:function(e,t){this.content=e,this.editbox=t},getCurrentTime:function(){var e=new Date;return e.getHours()+":"+e.getMinutes()},update:function(){}}),cc._RF.pop()},{"./goeasy-2.0.12.min.js":"goeasy-2.0.12.min"}],Host1_Begin:[function(e,t){"use strict";cc._RF.push(t,"17b47HkTOJLkaG/+zNZSvjZ","Host1_Begin");var n=e("Model");cc.Class({extends:cc.Component,properties:{round:{default:null,type:cc.Label},NowPeople:{default:null,type:cc.Label},aud:{default:null,type:cc.AudioSource},Session:{default:null,type:cc.Label},WrongAlert:{default:null,type:cc.Node}},onLoad:function(){n.connet_ws=!1,this.Session.string="\u7576\u524d\u5834\u6b21 : "+n.Session,this.AlertText=cc.find("\u756b\u5e03/\u8b66\u544a/\u8b66\u544a\u6587\u5b57")},start:function(){cc.director.preloadScene("Host3_Game")},touchBegin:function(){0==n.people?(this.AlertText.getComponent(cc.Label).string="\u5c1a\u672a\u6709\u73a9\u5bb6\u52a0\u5165\u904a\u6232",this.WrongAlert.active=!0):(1==n.XMLTimeLimit&&(n.gametimeCountDown=n.gametimelimit),n.CurrentRound=n.round,n.WebSocket_GameStatus_Host("start",.1),this.scheduleOnce(function(){1==n.connet_ws?(n.GameStatusMessage="start",cc.director.loadScene("Host2_CountDown"+n.BackGround_Theme),n.connet_ws=!1):(this.AlertText.getComponent(cc.Label).string="\u5c1a\u672a\u8207\u4f3a\u670d\u5668\u9023\u63a5",this.WrongAlert.active=!0)},.7))},CloseAlert:function(){this.WrongAlert.active=!1},update:function(){this.round.string=n.round,this.NowPeople.string=n.people}}),cc._RF.pop()},{Model:"Model"}],Host1_ComboBox:[function(e,t){"use strict";cc._RF.push(t,"c10feOZfKlIu4q7VKCG/Htl","Host1_ComboBox");var n=e("Model"),o=e("weel");cc.Class({extends:cc.Component,properties:{FirstOption:{default:null,type:cc.Button},MainMode:{default:null,type:cc.Label},Rule:{default:null,type:cc.Label},OptionsBox:{default:null,type:cc.Node},Winner_scroll:{default:null,type:cc.Node},Prize_scroll:{default:null,type:cc.Node},weel:{default:null,type:cc.Node},wheel_out_Light:{default:null,type:cc.Node}},onLoad:function(){this.Weel_js=cc.find("\u756b\u5e03").getComponent(o)},start:function(){this.ChooseColor=this.FirstOption.normalColor,this.NormalColor=this.FirstOption.disabledColor,this.HoverColor=this.FirstOption.pressedColor,this.lastChoose=this.FirstOption,this.BoxStatus="close"},OptionBoxFuc:function(e,t){"controlBox"==t?this.schedule(this.ProgressBar,.01):(this.Weel_js.wheelState=0,t.includes("\u5e78\u904b\u8f2a\u76e4")&&(this.weel.stopAllActions(),this.weel.rotation=0,this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0,"usual",!0),this.wheel_out_Light.getComponent(sp.Skeleton).timeScale=1),n.mode=t.includes("\u9806\u5e8f\u53c3\u8207")?"order":"simultaneous",this.Winner_scroll.active=!t.includes("\u9806\u5e8f\u53c3\u8207"),this.Prize_scroll.active=!!t.includes("\u9806\u5e8f\u53c3\u8207"),t.includes("\u540c\u6642\u53c3\u8207")&&this.aniSlow_In(),this.MainMode.string=t,this.Rule.string=t.includes("\u9806\u5e8f\u53c3\u8207")?"\u53c3\u52a0\u8005\u4f9d\u5e8f\u4e0a\u53f0\u62bd\u734e\uff0c\u4e26\u6703\u5728\u73fe\u5834\u767c\u653e\u734e\u54c1":"\u53c3\u52a0\u8005\u6383QRC\uff0c\u6703\u767c\u653e\u62bd\u734e\u6b21\u6578\uff0c\u5c07\u5728\u5404\u81ea\u7684\u624b\u6a5f\u4e0a\u62bd\u734e",this.lastChoose.normalColor=this.NormalColor,this.lastChoose.hoverColor=this.HoverColor,e.target.getComponent(cc.Button).normalColor=e.target.getComponent(cc.Button).hoverColor=this.ChooseColor,this.lastChoose=e.target.getComponent(cc.Button),this.schedule(this.ProgressBar,.01))},ProgressBar:function(){"close"==this.BoxStatus?(this.OptionsBox.active=!0,this.OptionsBox.getComponent(cc.Sprite).fillRange-=.2,this.OptionsBox.getComponent(cc.Sprite).fillRange<=-1&&(this.unschedule(this.ProgressBar),this.BoxStatus="open")):(this.OptionsBox.getComponent(cc.Sprite).fillRange+=.2,this.OptionsBox.getComponent(cc.Sprite).fillRange>=0&&(this.unschedule(this.ProgressBar),this.OptionsBox.active=!1,this.BoxStatus="close"))},aniSlow_In:function(){var e=cc.tween(this.weel).by(10,{angle:360},{easing:"sineIn"}),t=cc.tween(this.wheel).by(5,{angle:360}).repeatForever();this.ani_wheelState1=cc.tween(this.weel).then(e).then(t).start()}}),cc._RF.pop()},{Model:"Model",weel:"weel"}],Host1_Congratulations:[function(e,t){"use strict";cc._RF.push(t,"613f4QghntKYon8kxwB9vBH","Host1_Congratulations");var n=e("Model");cc.Class({extends:cc.Component,properties:{prizeName:{default:null,type:cc.Label},prizeAvatar:{default:null,type:cc.Sprite}},updateInfo:function(e){var t=this;this.prizeName.string="\u606d\u559c\u7372\u5f97 "+n.prize_name_guest,cc.assetManager.loadRemote(n.Prizestack_picture[e],{ext:".jpg"},function(e,n){if(e)console.log("\u932f\u8aa4");else{var o=new cc.SpriteFrame(n);t.prizeAvatar.spriteFrame=o}})},onLoad:function(){},start:function(){}}),cc._RF.pop()},{Model:"Model"}],Host1_QRC:[function(e,t){"use strict";cc._RF.push(t,"4796bjRVSRAf5kel14YmIma","Host1_QRC");var n=e("Model");cc.Class({extends:cc.Component,properties:{},start:function(){var e=new QRCode(-1,QRErrorCorrectLevel.H);e.addData("https://hilives.net/interact/game/redpack?activity_id="+n.activity_id+"&game_id="+n.game_id),e.make();for(var t=this.node.getComponent(cc.Graphics),o=this.node.width/e.getModuleCount(),i=this.node.height/e.getModuleCount(),r=0;r<e.getModuleCount();r++)for(var s=0;s<e.getModuleCount();s++){e.isDark(r,s)?t.fillColor=cc.Color.BLACK:t.fillColor=cc.Color.WHITE;var a=Math.ceil((s+1)*o)-Math.floor(s*o),u=Math.ceil((r+1)*o)-Math.floor(r*o);t.rect(Math.round(s*o),Math.round(r*i),a,u),t.fill()}}}),cc._RF.pop()},{Model:"Model"}],Host1_ShowQuestion:[function(e,t){"use strict";cc._RF.push(t,"db8feOc69tHCbzSR5QPl9mm","Host1_ShowQuestion");var n=e("Model");cc.Class({extends:cc.Component,properties:{Bar:{default:null,type:cc.Sprite},Question:{default:null,type:cc.Label}},onLoad:function(){},start:function(){n.QuestionCount++,this.schedule(this.ProgressBar,.01)},ProgressBar:function(){this.Bar.getComponent(cc.Sprite).fillRange-=.003,this.Bar.getComponent(cc.Sprite).fillRange<=0&&(this.unschedule(this.ProgressBar),n.WebSocket_GameStatus_Host("start",.1),cc.director.loadScene("Host2_Game"))}}),cc._RF.pop()},{Model:"Model"}],Host1_WeelShowWinner:[function(e,t){"use strict";cc._RF.push(t,"eeb698HErRIJKOhBXrHgdOq","Host1_WeelShowWinner");var n=e("Model"),o=e("Host3_ShowNewWinner"),i=e("Host4_WinnerRedpaket");cc.Class({extends:o,properties:{Session:{default:null,type:cc.Label}},start:function(){this.items_parent=cc.find("\u756b\u5e03/\u4e2d\u734e\u5217\u8868/view/\u5167\u5bb9"),n.WebSocket_NumberOfLottery_Host(),this.Session.string="\u7576\u524d\u5834\u6b21 : "+n.Session},SpawnNewWinner:function(){this.indexcount++,this.index.push(this.indexcount);var e=cc.instantiate(this.items);e.parent=this.items_parent,e.setSiblingIndex(0);var t=e.getComponent(i);this.itemlist.push(t),this.itemlist[this.indexcount-1].updateInfo(this.indexcount-1)}}),cc._RF.pop()},{Host3_ShowNewWinner:"Host3_ShowNewWinner",Host4_WinnerRedpaket:"Host4_WinnerRedpaket",Model:"Model"}],Host2_Game:[function(e,t){"use strict";cc._RF.push(t,"e75dbxyPdZGi5ZhayAt05CV","Host2_Game");var n=e("Model");cc.Class({extends:cc.Component,properties:{Result:{default:[],type:cc.Sprite},ResultAnswered:{default:[],type:cc.Node},PeopleAnswered:{default:null,type:cc.Label},NowQuestionCount:{default:null,type:cc.Label},Options:{default:[],type:cc.Node},OptionsText:{default:[],type:cc.Node},NextQuestion:{default:null,type:cc.SpriteFrame},NoQuestion:{default:null,type:cc.SpriteFrame},Question:{default:null,type:cc.Label},Rank:{default:[],type:cc.Node},ShowAnswerString:{default:null,type:cc.Label},TimeBar:{default:null,type:cc.Sprite}},onLoad:function(){this.timenode=cc.find("\u756b\u5e03/\u79d2\u6578\u8dd1\u689d/\u79d2\u6578"),n.XMLTimeLimit=!0,this.lerp=1.1/n.gametimelimit*.03,this.count=0,this.Answer=2,this.schedule(this.TimeBarProgress,.03)},start:function(){n.GameStatusMessage="open",this.ColorString=this.node.getComponent("ColorString"),this.SeeResult=!1,this.PeopleAnswered.string=10,n.AnswerResult=[10,15,20,30],n.people=75,this.NowQuestionCount.string=n.QuestionCount+"/"+n.Question.length;for(var e=0;e<4;e++);this.SpawnNewWinner(),console.log(this.ColorString),console.log(n)},SpawnNewWinner:function(){for(var e=0;e<5;e++)this.Rank[e].getChildByName("\u73a9\u5bb6\u540d\u5b50").getComponent(cc.Label).string="\u751c\u751c",this.Rank[e].getChildByName("\u73a9\u5bb6\u5206\u6578").getChildByName("\u5206\u6578").getComponent(cc.Label).string="123",this.Rank[e].getChildByName("\u73a9\u5bb6\u8017\u6642").getChildByName("\u8017\u6642").getComponent(cc.Label).string="321",this.PlayDarkAni(this.Rank[e].getChildByName("\u9ed1\u5e03"))},AnswerButton:function(){0==this.SeeResult?n.GameStatusMessage="end":n.QuestionCount==n.Question.length?cc.director.loadScene("Host3_Last"):(n.QuestionCount++,cc.director.loadScene("Host1_Question"))},PrintResult:function(){this.SeeResult=!0,this.timenode.active=!1,this.ShowAnswerString.string=n.QuestionCount==n.Question.length?"\u7d50\u7b97":"\u4e0b\u4e00\u984c",this.TimeBar.fillRange=0,this.schedule(this.ProgressBar,.01);for(var e=0;e<4;e++)this.ResultAnswered[e].active=!0,this.ResultAnswered[e].getComponent(cc.Label).string=n.AnswerResult[e]+"\u4eba",this.i=0,e!=this.Answer&&(this.Options[e].color=this.ColorString.colorOfString("#043737"),this.OptionsText[e].color=this.ColorString.colorOfString("#043737"));for(e=0;e<5;e++)this.PlayBrightAni(this.Rank[e].getChildByName("\u9ed1\u5e03"))},PlayBrightAni:function(e){cc.tween(e).to(2,{opacity:255}).start()},PlayDarkAni:function(e){cc.tween(e).to(2,{opacity:0}).start()},ProgressBar:function(){if(this.Result[this.i].fillRange-=.01,this.Result[this.i].fillRange<=-n.AnswerResult[this.i]/n.people){if(this.unschedule(this.ProgressBar),this.i++,this.i>3)return;this.schedule(this.ProgressBar,.01)}},TimeBarProgress:function(){this.TimeBar.fillRange-=this.lerp,this.count++,console.log(this.TimeBar.fillRange),this.TimeBar.fillRange<0&&(console.log(this.count),this.unschedule(this.TimeBarProgress))},update:function(){"end"==n.GameStatusMessage&&0==this.SeeResult&&this.PrintResult()}}),cc._RF.pop()},{Model:"Model"}],Host3_GameTimeCountDown:[function(e,t){"use strict";cc._RF.push(t,"edcd5kCsdpKrZH8BJltQ2Jk","Host3_GameTimeCountDown");var n=e("Model");cc.Class({extends:cc.Component,properties:{countdownText:{default:null,type:cc.Label}},onLoad:function(){1==n.XMLTimeLimit?(this.countdownText.string=n.gametimeCountDown,this.schedule(function(){this.countdown()},1,n.gametimelimit+1)):0==n.XMLTimeLimit&&"redpack"==n.GameName&&(this.NoLimitTime=cc.find("\u756b\u5e03/\u5834\u666f/\u5012\u6578\u71c8\u7c60/\u7121\u9650\u6642"),this.NoLimitTime.active=!0)},start:function(){},countdown:function(){"end"!=n.GameStatusMessage&&(n.gametimeCountDown--,n.WebSocket_GameStatus_Host("gaming",.1),this.countdownText.string=n.gametimeCountDown,0==n.gametimeCountDown&&(n.WebSocket_GameStatus_Host("end",.1),n.GameStatusMessage="end"))},update:function(){}}),cc._RF.pop()},{Model:"Model"}],Host3_RankRecordItem:[function(e,t){"use strict";cc._RF.push(t,"d675baYGPBGOqmNjozupxfo","Host3_RankRecordItem");var n=e("Model");cc.Class({extends:cc.Component,properties:{playerName:{default:null,type:cc.Label},Score:{default:null,type:cc.Label},Time:{default:null,type:cc.Label},playerAvatar:{default:null,type:cc.Sprite},Rank:{default:null,type:cc.Label}},onLoad:function(){},updateInfo:function(e){var t=this;this.playerName.string=n.winner_name[e],this.Score.string=n.winner_score[e],this.Time.string=n.winner_Taketime,e>3&&(this.Rank.string=e+1),cc.assetManager.loadRemote(n.winner_picture[e],{ext:".jpg"},function(e,n){if(e)console.log("\u932f\u8aa4");else{var o=new cc.SpriteFrame(n);t.playerAvatar.spriteFrame=o}})},start:function(){}}),cc._RF.pop()},{Model:"Model"}],Host3_ShowNewWinner_NewestWinner:[function(e,t){"use strict";cc._RF.push(t,"01c0cvG7rtNEKfeKqtPa8Hn","Host3_ShowNewWinner_NewestWinner");var n=e("Model"),o=e("Host3_ShowNewWinner");cc.Class({extends:o,properties:{items3_Text:{default:null,type:cc.Label},items4_Text:{default:null,type:cc.Label},items3_Picture:{default:null,type:cc.Sprite},items4_Picture:{default:null,type:cc.Sprite}},onLoad:function(){this.itemlist=[],this.winlist=[],this.index=[],this.indexcount=0,this.alreadyend=!1,this.items3_Text.string="",this.items3_Picture.spriteFrame=null,n.WinnerData=this,n.SpawnNewestWinner=!0},NewestWinner:function(){var e=this;this.items3_Picture.spriteFrame=null,this.items3_Text.string=n.winner_name[n.winner_name.length-1],cc.assetManager.loadRemote(n.winner_picture[n.winner_name.length-1],{ext:".jpg"},function(t,n){if(t)console.log("\u932f\u8aa4");else{var o=new cc.SpriteFrame(n);e.items3_Picture.spriteFrame=o}}),n.winner_name.length>=2?(e.items4_Picture.spriteFrame=null,this.items4_Text.string=n.winner_name[n.winner_name.length-2],cc.assetManager.loadRemote(n.winner_picture[n.winner_name.length-2],{ext:".jpg"},function(t,n){if(t)console.log("\u932f\u8aa4");else{var o=new cc.SpriteFrame(n);e.items4_Picture.spriteFrame=o}})):(this.items4_Text.string="",this.items4_Picture.spriteFrame=null)}}),cc._RF.pop()},{Host3_ShowNewWinner:"Host3_ShowNewWinner",Model:"Model"}],Host3_ShowNewWinner_Score:[function(e,t){"use strict";cc._RF.push(t,"03276Fbw89CPYjVjkDILSwm","Host3_ShowNewWinner_Score");var n=e("Model"),o=e("Host3_WinRecordItem_Score"),i=e("Host3_ShowNewWinner");cc.Class({extends:i,properties:{round:{default:null,type:cc.Label},WaitingRank:{default:null,type:cc.Node}},onLoad:function(){this.alreadyend=!1,this.itemlist=[],this.winlist=[],this.index=[],this.indexcount=0,n.WinnerData=this,n.SpawnNewestWinner=!1},start:function(){this.items_parent=cc.find("\u756b\u5e03/\u4e2d\u734e\u5217\u8868/view/\u5167\u5bb9"),n.WebSocket_NumberOfLottery_Score_Host(),this.round.string=n.CurrentRound},SpawnNewWinner:function(){if(n.winner_name.length%2==0){this.indexcount++,this.index.push(this.indexcount),(t=cc.instantiate(this.items)).parent=this.items_parent;var e=t.getComponent(o);this.itemlist.push(e),this.itemlist[this.indexcount-1].updateInfo(this.indexcount-1)}else{var t;this.indexcount++,this.index.push(this.indexcount),(t=cc.instantiate(this.items2)).parent=this.items_parent,e=t.getComponent(o),this.itemlist.push(e),this.itemlist[this.indexcount-1].updateInfo(this.indexcount-1)}},ClearRank:function(){this.indexcount=0,this.index.length=0,this.itemlist.length=0,this.items_parent.removeAllChildren()},update:function(){"end"==n.GameStatusMessage&&0==this.alreadyend&&(this.alreadyend=!0,this.WaitingRank.active=!0,this.scheduleOnce(function(){cc.director.loadScene("Host4_Last"+n.BackGround_Theme)},6))}}),cc._RF.pop()},{Host3_ShowNewWinner:"Host3_ShowNewWinner",Host3_WinRecordItem_Score:"Host3_WinRecordItem_Score",Model:"Model"}],Host3_ShowNewWinner:[function(e,t){"use strict";cc._RF.push(t,"061559Bg5ZGurxX7ddMHO9N","Host3_ShowNewWinner");var n=e("Model"),o=e("Host3_WinRecordItem");cc.Class({extends:cc.Component,properties:{items:{default:null,type:cc.Prefab},items2:{default:null,type:cc.Prefab},prize_total:{default:null,type:cc.Label}},onLoad:function(){this.itemlist=[],this.winlist=[],this.index=[],this.indexcount=0,this.alreadyend=!1,cc.director.getPhysicsManager().enabled=!0,n.WinnerData=this,n.SpawnNewestWinner=!1},start:function(){this.items_parent=cc.find("\u756b\u5e03/\u4e2d\u734e\u5217\u8868/view/\u5167\u5bb9"),n.WebSocket_NumberOfLottery_Host(),this.prize_total.string=n.prize_total},SpawnNewWinner:function(){if(n.winner_name.length%2==0){this.indexcount++,this.index.push(this.indexcount),(t=cc.instantiate(this.items)).parent=this.items_parent,t.setSiblingIndex(0);var e=t.getComponent(o);this.itemlist.push(e),this.itemlist[this.indexcount-1].updateInfo(this.indexcount-1)}else{var t;this.indexcount++,this.index.push(this.indexcount),(t=cc.instantiate(this.items2)).parent=this.items_parent,t.setSiblingIndex(0),e=t.getComponent(o),this.itemlist.push(e),this.itemlist[this.indexcount-1].updateInfo(this.indexcount-1)}this.prize_total.string=n.prize_total},CloseGame:function(){n.WebSocket_GameStatus_Host("end",.1),n.GameStatusMessage="end"},update:function(){"end"==n.GameStatusMessage&&0==this.alreadyend&&(this.alreadyend=!0,n.NumberOfLotteryWS_Host.close(),cc.director.loadScene("Host4_Last"+n.BackGround_Theme))}}),cc._RF.pop()},{Host3_WinRecordItem:"Host3_WinRecordItem",Model:"Model"}],Host3_ShowWinner:[function(e,t){"use strict";cc._RF.push(t,"7b4a1Hsh89NeIGf55SCL1EQ","Host3_ShowWinner");var n=e("Model"),o=e("Host3_WinRecordItem");cc.Class({extends:cc.Component,properties:{Rank:{default:[],type:cc.Node}},onLoad:function(){this.itemlist=[],this.winlist=[],this.index=[],this.indexcount=0,this.items_parent=cc.find("\u756b\u5e03/\u4e2d\u734e\u5217\u8868/view/\u5167\u5bb9")},start:function(){this.SpawnWinner()},SpawnWinner:function(){for(var e=0;e<3;e++){if(null==n.winner_picture[e])return;var t=this.Rank[e],i=t.getChildByName("\u982d\u76f8\u6846").getChildByName("\u906e\u7f69").getChildByName("\u73a9\u5bb6\u982d\u50cf").getComponent(cc.Sprite).spriteFrame;t.getChildByName("\u73a9\u5bb6\u540d\u7a31").getComponent(cc.Label).string=n.winner_name[e],t.getChildByName("\u73a9\u5bb6\u5206\u6578").getChildByName("\u5206\u6578").getComponent(cc.Label).string=n.winner_Score[e],t.getChildByName("\u73a9\u5bb6\u8017\u6642").getChildByName("\u8017\u6642").getComponent(cc.Label).string=n.winner_Taketime[e],cc.assetManager.loadRemote(n.winner_picture[e],{ext:".jpg"},function(e,t){if(e)console.log("\u932f\u8aa4");else{var n=new cc.SpriteFrame(t);i.spriteFrame=n}})}for(e=3;e<n.winner_name.length;e++){var r=cc.instantiate(this.items);r.parent=this.items_parent;var s=r.getComponent(o);this.itemlist.push(s),this.itemlist[e].updateInfo(e)}}}),cc._RF.pop()},{Host3_WinRecordItem:"Host3_WinRecordItem",Model:"Model"}],Host3_WinRecordItem_Score:[function(e,t){"use strict";cc._RF.push(t,"e7c76p0jrlDFbC91FqfD5fX","Host3_WinRecordItem_Score");var n=e("Model"),o=e("Host3_WinRecordItem");cc.Class({extends:o,properties:{Score:{default:null,type:cc.Label}},updateInfo:function(e){var t=this;this.playerName.string=n.winner_name[e],this.Score.string=n.winner_score[e],cc.assetManager.loadRemote(n.winner_picture[e],{ext:".jpg"},function(e,n){if(e)console.log("\u932f\u8aa4");else{var o=new cc.SpriteFrame(n);t.playerAvatar.spriteFrame=o}})},onLoad:function(){},start:function(){}}),cc._RF.pop()},{Host3_WinRecordItem:"Host3_WinRecordItem",Model:"Model"}],Host3_WinRecordItem:[function(e,t){"use strict";cc._RF.push(t,"9bc09ZSX01DaKAtO2ymPTAw","Host3_WinRecordItem");var n=e("Model");cc.Class({extends:cc.Component,properties:{playerName:{default:null,type:cc.Label},playerAvatar:{default:null,type:cc.Sprite}},updateInfo:function(e){var t=this;this.playerName.string=n.winner_name[e],cc.assetManager.loadRemote(n.winner_picture[e],{ext:".jpg"},function(e,n){if(e)console.log("\u932f\u8aa4");else{var o=new cc.SpriteFrame(n);t.playerAvatar.spriteFrame=o}})},onLoad:function(){},start:function(){}}),cc._RF.pop()},{Model:"Model"}],Host4_ShowWinner:[function(e,t){"use strict";cc._RF.push(t,"950f2YBL+VE0pB4ISoh9tdi","Host4_ShowWinner");var n=e("Host4_WinnerRedpaket"),o=e("Model");cc.Class({extends:cc.Component,properties:{items:{default:null,type:cc.Prefab},round:{default:null,type:cc.Label},WrongAlert:{default:null,type:cc.Node}},onLoad:function(){this.itemlist=[],this.winlist=[],this.index=[],this.indexcount=0,this.items_parent=cc.find("\u756b\u5e03/\u4e2d\u734e\u5217\u8868/view/\u5167\u5bb9"),this.AlertText=cc.find("\u756b\u5e03/\u8b66\u544a/\u8b66\u544a\u6587\u5b57")},start:function(){this.SpawnWinner(),this.round.string=o.CurrentRound},NextRound:function(){0==o.prize_total?(this.AlertText.getComponent(cc.Label).string="\u6c92\u6709\u734e\u54c1\u4e86\uff0c\u7121\u6cd5\u958b\u555f\u4e0b\u4e00\u8f2a",this.WrongAlert.active=!0):(o.WebSocket_GameStatus_Host("open",.1),this.scheduleOnce(function(){1==o.connet_ws?(o.GameStatusMessage="open",o.winner_name=[],o.prize_name_host=[],o.winner_picture=[],o.prize_name_host=[],o.winner_score=[],cc.director.loadScene("Host1_Start"+o.BackGround_Theme),o.connet_ws=!1):(this.AlertText.getComponent(cc.Label).string="\u5c1a\u672a\u8207\u4f3a\u670d\u5668\u9023\u63a5",this.WrongAlert.active=!0)},.6))},CloseAlert:function(){this.WrongAlert.active=!1},SpawnWinner:function(){for(var e=0;e<o.winner_name.length;e++){var t=cc.instantiate(this.items);t.parent=this.items_parent;var i=t.getComponent(n);this.itemlist.push(i),this.itemlist[e].updateInfo(e)}},update:function(){}}),cc._RF.pop()},{Host4_WinnerRedpaket:"Host4_WinnerRedpaket",Model:"Model"}],Host4_WinnerRedpaket:[function(e,t){"use strict";cc._RF.push(t,"0e162/m1CBNZLvJg8kV82EK","Host4_WinnerRedpaket");var n=e("Model");cc.Class({extends:cc.Component,properties:{playerName:{default:null,type:cc.Label},prize_name:{default:null,type:cc.Label},playerAvatar:{default:null,type:cc.Sprite}},updateInfo:function(e){var t=this;this.playerName.string=n.winner_name[e],this.playerAvatar.spriteFrames=n.winner_picture[e],this.prize_name.string=n.prize_name_host[e],cc.assetManager.loadRemote(n.winner_picture[e],{ext:".jpg"},function(e,n){if(e)console.log("\u932f\u8aa4");else{var o=new cc.SpriteFrame(n);t.playerAvatar.spriteFrame=o}})},onLoad:function(){},start:function(){}}),cc._RF.pop()},{Model:"Model"}],Host_MouseManager:[function(e,t){"use strict";cc._RF.push(t,"e23b3EXmPNLnrwxcZ/ZKoiT","Host_MouseManager");var n=e("Guest_MouseManager");cc.Class({extends:n,properties:{},onLoad:function(){this.HolesParent=cc.find("\u756b\u5e03/\u5834\u666f/\u5730\u9f20\u6d1e"),this.GameManager=cc.find("\u756b\u5e03").getComponent("Host_RandomSpawn")},start:function(){this.StartPosition=this.node.position,this.HitAniTarget=null,this.delytime=0,this.AddPoint_OriPos=this.AddPoint.position,this.MinusPoint_OriPos=this.MinusPoint.position},Hit:function(e){1==this.isLive&&(this.mouseani.stop(),this.isLive=!1,this.node.setPosition(0,-185.826,0),this.node.getComponent(cc.Sprite).spriteFrame=2==this.tag?this.bomb:this.dead,e.active=!0,this.scheduleOnce(function(){e.active=!1},.3),this.tag<2?(this.AddPoint.getComponent(cc.Label).string=0==this.tag?1:3,this.AddPoint.active=!0,this.HitAniTarget=this.AddPoint):2==this.tag&&(this.MinusPoint.active=!0,this.HitAniTarget=this.MinusPoint),this.HitAnimation(),this.scheduleOnce(function(){this.HitAniTarget.opacity=255,this.AddPoint.active=!1,this.AddPoint.position=this.AddPoint_OriPos,this.MinusPoint.active=!1,this.MinusPoint.position=this.MinusPoint_OriPos,this.ResetHole()},.5))}}),cc._RF.pop()},{Guest_MouseManager:"Guest_MouseManager"}],Host_RandomSpawn:[function(e,t){"use strict";cc._RF.push(t,"91bc3keIb9BRqI/N2ZbePz0","Host_RandomSpawn");var n=e("Guest4_Whack_a_mole");cc.Class({extends:n,properties:{},onLoad:function(){},start:function(){this.mouseIndexArr=[],this.schedule(function(){this.MouseComeOut()},.5),cc.director.getScene()._name.includes("Host3_Game")&&this.schedule(function(){this.RandomHit()},.2)},updateMouseNodeInfo:function(e,t){e.getComponent("Host_MouseManager").isLive=!0,e.getComponent("Host_MouseManager").tag=t},RandomHit:function(){var e=Math.floor(Math.random()*this.mouseHoles.childrenCount);if(1===this.mouseIndexArr.indexOf(e)){var t=this.mouseHoles.children[e].getChildByName("\u906e\u7f69").getChildByName("\u9f20"),n=this.mouseHoles.children[e].getChildByName("\u69cc\u5b50");t.getComponent("Host_MouseManager").Hit(n)}}}),cc._RF.pop()},{Guest4_Whack_a_mole:"Guest4_Whack_a_mole"}],Model:[function(e,t){"use strict";function n(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var o=t[n].split("=");if(o[0]==e)return o[1]}return""}cc._RF.push(t,"e7bd7G7ruVO1L6VM6c+ndqb","Model"),t.exports={WhitchPrize_index:0,XMLTimeLimit:!1,gametimelimit:5,gametimeCountDown:0,round:1,Domain:null,GameStatusMessage:"close",result:"thanks",prize_total:0,role:null,Game_Information:function(){var e="https://"+o.local_ID+"/v1/interact/game/"+o.GameName+"?game_id="+o.game_id,t=new XMLHttpRequest;t.open("GET",e,!0),t.onreadystatechange=function(){if(4==t.readyState&&t.status>=200&&t.status<=207){t.responseText;var e=JSON.parse(t.responseText);o.Session=e.data.title,o.AllowRePrize=e.data.allow,o.game_type=e.data.game_type,"open"==e.data.limit_time?(o.XMLTimeLimit=!0,o.gametimelimit=e.data.second):o.XMLTimeLimit=!1}},t.send()},PrizeStatus:function(e){var t="https://"+o.local_ID+"/v1/staffmanage/winning/json",n=new XMLHttpRequest;n.open("PUT",t,!0),n.onreadystatechange=function(){4==n.readyState&&n.status>=200&&n.status<=207&&n.responseText},n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify({id:e,status:"yes"}))},RoleComfirm:function(){var e="https://"+o.local_ID+"/v1/user?activity_id="+o.activity_id+"&game_id="+o.game_id+"&game="+o.GameName+"&session_id="+o.session_id,t=new XMLHttpRequest;t.open("GET",e,!0),t.onreadystatechange=function(){if(4==t.readyState&&t.status>=200&&t.status<=207){var e=JSON.parse(t.responseText);o.role=e.data.User.role,o.User_id=e.data.User.user_id,o.User_Name=e.data.User.name,o.User_Picture=e.data.User.avatar,o.round=e.data.Game.round,o.prize_total=e.data.Game.amount,o.chance=e.data.Times,o.PrizeStaffs=e.data.PrizeStaffs;for(var n=0;n<e.data.PrizeStaffs.length;n++)o.prize_ID[n]=e.data.PrizeStaffs[n].id,o.prize_name_guest[n]=e.data.PrizeStaffs[n].prize_name,o.prize_method[n]=e.data.PrizeStaffs[n].method,o.password[n]=e.data.PrizeStaffs[n].password,o.Win_Time[n]=e.data.PrizeStaffs[n].win_time,o.getprize_round[n]=e.data.PrizeStaffs[n].round,o.prize_picture[n]=e.data.PrizeStaffs[n].picture,o.exchangePrize[n]=e.data.PrizeStaffs[n].status;o.CheckRole=!0}else 4==t.readyState&&t.status>=400&&(e=JSON.parse(t.responseText),o.CheckRole=!0,o.CannotJoinGame=e.message)},t.send()},Lottery_Guest:function(){var e="https://"+o.local_ID+"/v1/game/lucky?activity_id="+o.activity_id+"&game_id="+o.game_id+"&game="+o.GameName+"&session_id="+o.session_id+"&mode="+o.mode,t=new XMLHttpRequest;t.open("GET",e,!0),t.onreadystatechange=function(){if(4==t.readyState&&t.status>=200&&t.status<=207){var e=JSON.parse(t.responseText);if(o.result=e.data.PrizeStaff.method,"lottery"==o.GameName)o.prize_ID=e.data.PrizeStaff.prize_id,o.prize_name_guest=e.data.PrizeStaff.prize_name,o.prize_picture=e.data.PrizeStaff.picture,o.prize_type=e.data.PrizeStaff.prize_type,o.PrizeStaffs=e.data.PrizeStaffs,o.Game_js.lettorey();else for(var n=0;n<e.data.PrizeStaffs.length;n++)o.prize_ID[n]=e.data.PrizeStaffs[n].id,o.prize_name_guest[n]=e.data.PrizeStaffs[n].prize_name,o.prize_method[n]=e.data.PrizeStaffs[n].method,o.password[n]=e.data.PrizeStaffs[n].password,o.Win_Time[n]=e.data.PrizeStaffs[n].win_time,o.getprize_round[n]=e.data.PrizeStaffs[n].round,o.prize_picture[n]=e.data.PrizeStaffs[n].picture,o.exchangePrize[n]=e.data.PrizeStaffs[n].status}else 4==t.readyState&&t.status>=400&&(e=JSON.parse(t.responseText),o.CannotJoinGame=e.message)},t.send()},winner_name:[],winner_picture:[],winner_id:[],winner_score:[],WinnerData:null,WebSocket_NumberOfPeople_Guest:function(t,n){0==n?(o.NumberOfPeople_Guest=new WebSocket("wss://"+o.local_ID+"/ws/v1/game/staff?activity_id="+o.activity_id+"&game_id="+o.game_id+"&game="+o.GameName),o.NumberOfPeople_Guest.onopen=function(){},o.NumberOfPeople_Guest.onerror=function(){},o.NumberOfPeople_Guest.onclose=function(){"\u932f\u8aa4: \u8a72\u5834\u6b21\u904a\u6232\u4e0d\u5141\u8a31\u91cd\u8907\u4e2d\u734e\uff0c\u60a8\u5df2\u4e2d\u734e\uff0c\u7121\u6cd5\u53c3\u52a0\u4e0b\u4e00\u8f2a\u904a\u6232"!=o.CannotJoinGame&&o.WebSocket_NumberOfPeople_Guest(1e3,!1)}):setTimeout(function(){o.NumberOfPeople_Guest.readyState===WebSocket.OPEN?o.NumberOfPeople_Guest.send(JSON.stringify({User:{user_id:o.User_id,name:o.User_Name,avatar:o.User_Picture},Game:{round:"start"==o.GameStatusMessage||"gaming"==o.GameStatusMessage?o.round-1:o.round}})):"\u932f\u8aa4: \u8a72\u5834\u6b21\u904a\u6232\u4e0d\u5141\u8a31\u91cd\u8907\u4e2d\u734e\uff0c\u60a8\u5df2\u4e2d\u734e\uff0c\u7121\u6cd5\u53c3\u52a0\u4e0b\u4e00\u8f2a\u904a\u6232"!=o.CannotJoinGame?o.Guest1_Join_JS.ConnetFail():o.Guest1_Join_JS.ConnetSuccess()},t),o.NumberOfPeople_Guest.onmessage=function(t){var n=e("Model"),o=JSON.parse(t.data);n.CannotJoinGame=o.error,n.AlreadyPlayed=o.PrizeStaff.id;for(var i=0;i<o.PrizeStaffs.length;i++)n.prize_ID[i]=o.PrizeStaffs[i].id,n.prize_name_guest[i]=o.PrizeStaffs[i].prize_name,n.prize_method[i]=o.PrizeStaffs[i].method,n.password[i]=o.PrizeStaffs[i].password,n.Win_Time[i]=o.PrizeStaffs[i].win_time,n.getprize_round[i]=o.PrizeStaffs[i].round,n.prize_picture[i]=o.PrizeStaffs[i].picture,n.exchangePrize[i]=o.PrizeStaffs[i].status;n.Guest1_Join_JS.ConnetSuccess()}},WebSocket_NumberOfPeople_Host:function(){var t=new WebSocket("wss://"+o.local_ID+"/ws/v1/game/people?activity_id="+o.activity_id+"&game_id="+o.game_id+"&game="+o.GameName);t.onopen=function(){},t.onmessage=function(t){var n=e("Model"),o=JSON.parse(t.data);n.people=o.Game.people,n.round=o.Game.round},t.onerror=function(){},t.onclose=function(){o.WebSocket_NumberOfPeople_Host()}},WebSocket_GameStatus_Guest:function(){var t=new WebSocket("wss://"+o.local_ID+"/ws/v1/game/status/guest?activity_id="+o.activity_id+"&game_id="+o.game_id+"&game="+o.GameName);t.onopen=function(){},t.onmessage=function(t){var n=e("Model"),o=JSON.parse(t.data);n.GameStatusMessage=o.Game.status,n.round=o.Game.round,n.gametimeCountDown=o.Game.second},t.onerror=function(){},t.onclose=function(){o.WebSocket_GameStatus_Guest()}},WebSocket_GameStatus_Host:function(t,n){o.GameStatusWS_Host.onopen=function(){},o.GameStatusWS_Host.onmessage=function(t){var n=e("Model"),o=JSON.parse(t.data);n.GameStatusMessage=o.Game.status,n.connet_ws=!0},o.GameStatusWS_Host.onerror=function(){},o.GameStatusWS_Host.onclose=function(){o.connet_ws=!1,o.GameStatusWS_Host=new WebSocket("wss://"+o.local_ID+"/ws/v1/game/status/host?activity_id="+o.activity_id+"&game_id="+o.game_id+"&game="+o.GameName),o.WebSocket_GameStatus_Host(t,1e3)},setTimeout(function(){o.GameStatusWS_Host.readyState===WebSocket.OPEN?"gaming"==t&&1==o.XMLTimeLimit?o.GameStatusWS_Host.send(JSON.stringify({Game:{status:t,round:o.round,second:o.gametimeCountDown}})):o.GameStatusWS_Host.send(JSON.stringify({Game:{status:t,round:"end"==t?o.round-1:o.round}})):o.connet_ws=!1},n)},WebSocket_UpDateScore_Guest:function(){var t=new WebSocket("wss://"+o.local_ID+"/ws/v1/game/score?activity_id="+o.activity_id+"&game_id="+o.game_id+"&game="+o.GameName);t.onopen=function(){},t.onmessage=function(t){e("Model"),JSON.parse(t.data)},t.onerror=function(){},t.onclose=function(){"gaming"==o.GameStatusMessage?o.WebSocket_UpDateScore_Guest():clearInterval(n)};var n=setInterval(function(){t.readyState===WebSocket.OPEN&&t.send(JSON.stringify({Game:{status:o.GameStatusMessage,round:o.round-1,score:o.Score},User:{user_id:o.User_id}}))},500)},WebSocket_NumberOfLottery_Host:function(){o.NumberOfLotteryWS_Host.onopen=function(){},o.NumberOfLotteryWS_Host.onmessage=function(t){var n=e("Model"),o=JSON.parse(t.data);n.prize_total=o.Game.amount;for(var i=0;i<o.PrizeStaffs.length;i++)0==n.winner_id.includes(o.PrizeStaffs[i].id)&&(n.winner_id[i]=o.PrizeStaffs[i].id,n.winner_name[i]=o.PrizeStaffs[i].name,n.winner_picture[i]=o.PrizeStaffs[i].avatar,n.prize_name_host[i]=o.PrizeStaffs[i].prize_name,n.WinnerData.SpawnNewWinner());"end"!=n.GameStatusMessage&&n.winner_name.length>0&&1==n.SpawnNewestWinner?n.WinnerData.NewestWinner():"end"==n.GameStatusMessage&&n.NumberOfLotteryWS_Host.close()},o.NumberOfLotteryWS_Host.onerror=function(){},o.NumberOfLotteryWS_Host.onclose=function(){"start"==o.GameStatusMessage&&(o.NumberOfLotteryWS_Host=new WebSocket("wss://"+o.local_ID+"/ws/v1/game/winning/staff?activity_id="+o.activity_id+"&game_id="+o.game_id+"&game="+o.GameName),o.WebSocket_NumberOfLottery_Host())}},WebSocket_NumberOfLottery_Score_Host:function(){o.NumberOfLotteryWS_Host.onopen=function(){},o.NumberOfLotteryWS_Host.onmessage=function(t){var n=e("Model"),o=JSON.parse(t.data);n.prize_total=o.Game.amount,n.WinnerData.ClearRank();for(var i=0;i<o.PrizeStaffs.length;i++)n.winner_id[i]=o.PrizeStaffs[i].id,n.winner_name[i]=o.PrizeStaffs[i].name,n.winner_picture[i]=o.PrizeStaffs[i].avatar,n.prize_name_host[i]=o.PrizeStaffs[i].prize_name,n.winner_score[i]=o.PrizeStaffs[i].score,n.WinnerData.SpawnNewWinner();"end"==n.GameStatusMessage&&n.NumberOfLotteryWS_Host.close()},o.NumberOfLotteryWS_Host.onerror=function(){},o.NumberOfLotteryWS_Host.onclose=function(){"gaming"==o.GameStatusMessage&&(o.NumberOfLotteryWS_Host=new WebSocket("wss://"+o.local_ID+"/ws/v1/game/winning/staff?activity_id="+o.activity_id+"&game_id="+o.game_id+"&game="+o.GameName),o.WinnerData.WebSocket_NumberOfLottery_Host())}},AlreadyPlayed:0,people:0,activity_id:null,game_id:null,liffstate:null,User_id:null,User_Name:null,User_Picture:null,prize_ID:[],Win_Time:[],prize_name_guest:[],prize_name_host:[],prize_method:[],prize_method_chinese:null,password:[],prize_picture:[],getprize_round:[],exchangePrize:[],GameStatusWS_Host:null,NumberOfLotteryWS_Host:null,NumberOfPeople_Guest:null,Session:null,CannotJoinGame:"",AllowRePrize:"",CheckRole:!1,connet_ws:!1,Guest1_Join_JS:"",GameName:"",SpawnNewestWinner:!1,session_id:"",CurrentRound:0,HostWindow:"open",Score:0,Skin:"",Local_ID:"",BackGround_Theme:"",AnswerResult:[],Question:[],QuestionCount:0,Options:[],QuestionPicture:[],Answer:0,Rank:0,winner_TakeTime:0,mode:"",chance:0,Prize_Infromation:function(){var e="https://"+o.local_ID+"/v1/interact/game/"+o.GameName+"/prize?game_id="+o.game_id,t=new XMLHttpRequest;t.open("GET",e,!0),t.onreadystatechange=function(){if(4==t.readyState&&t.status>=200&&t.status<=207){for(var e=JSON.parse(t.responseText),n=0;n<e.data.length;n++)o.Prizestack_id[n]=e.data[n].prize_id,o.Prizestack_name[n]=e.data[n].name,o.Prizestack_picture[n]=e.data[n].picture;o.Game_js.SpawnPrize()}else 4==t.readyState&&t.status>=400&&(e=JSON.parse(t.responseText),o.CannotJoinGame=e.message)},t.send()},prize_type:"",Prizestack_id:[],Prizestack_name:[],Prizestack_picture:[],Game_js:"",game_type:"",PrizeStaffs:""};var o=e("Model");o.activity_id=n("activity_id"),o.game_id=n("game_id"),o.liffstate=n("liff.state"),o.session_id=function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){for(var n=e[t];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf("chatroom_session="))return n.substring("chatroom_session=".length,n.length)}return null}(),function(){if(""!=o.activity_id&&""!=o.game_id||o.liffstate.length>13&&(o.liffstate=o.liffstate.substr(17,o.liffstate.length)),o.liffstate.includes("%26game_id%3D")){var e=o.liffstate.split("%26game_id%3D");o.activity_id=e[0],2==e.length&&(e=e[1].split("#mst_challenge"),o.game_id=e[0])}}(),cc._RF.pop()},{Model:"Model"}],NewScript:[function(e,t){"use strict";cc._RF.push(t,"6d0efRnsChM6Jd1eAmnyvDU","NewScript"),e("Model"),cc.Class({extends:cc.Component,properties:{Ingame:{default:[],type:[cc.Node]},animalAtlas:{default:[],type:[cc.SpriteFrame]}},onLoad:function(){},start:function(){this.KK()},KK:function(){}}),cc._RF.pop()},{Model:"Model"}],RoleConfirm:[function(e,t){"use strict";cc._RF.push(t,"4b008WMP59FvIX0HbAAwdXl","RoleConfirm");var n=e("Model");cc.Class({extends:cc.Component,properties:{WrongAlert:{default:null,type:cc.Node},AlertText:{default:null,type:cc.Label}},onLoad:function(){n.GameName=cc.director.getScene()._name.substr(12,cc.director.getScene()._name.length),n.local_ID="hilives.net"==window.location.host?"api.hilives.net":"apidev.hilives.net",n.Domain="https://"+window.location.host,this.CheckRole=!1,n.GameStatusMessage="open",n.Game_Information()},start:function(){n.RoleComfirm()},JudgeError:function(){1==n.CheckRole&&""==n.CannotJoinGame?this.JudgeRole():1==n.CheckRole&&""!=n.CannotJoinGame&&(this.AlertText.string=n.CannotJoinGame,this.WrongAlert.active=!0,n.CheckRole=!1)},JudgeRole:function(){n.CheckRole=!1,"guest"==n.role&&0==this.CheckRole?(this.CheckRole=!0,n.WebSocket_NumberOfPeople_Guest(1e3,!1),n.WebSocket_GameStatus_Guest(),"turntable"==n.game_type?cc.director.loadScene("Guest1_Weel"+n.BackGround_Theme):"jiugongge"==n.game_type?cc.director.loadScene("Guest1_Jiugongge"+n.BackGround_Theme):cc.director.loadScene("Guest1_JoinGame"+n.BackGround_Theme)):"host"==n.role&&0==this.CheckRole&&(this.CheckRole=!0,n.GameStatusWS_Host=new WebSocket("wss://"+n.local_ID+"/ws/v1/game/status/host?activity_id="+n.activity_id+"&game_id="+n.game_id+"&game="+n.GameName),this.scheduleOnce(function(){n.WebSocket_GameStatus_Host("open",.1),n.WebSocket_NumberOfPeople_Host(),"turntable"==n.game_type?(n.NumberOfLotteryWS_Host=new WebSocket("wss://"+n.local_ID+"/ws/v1/game/winning/staff?activity_id="+n.activity_id+"&game_id="+n.game_id+"&game="+n.GameName),cc.director.loadScene("Host1_Weel"+n.BackGround_Theme)):"jiugongge"==n.game_type?(n.NumberOfLotteryWS_Host=new WebSocket("wss://"+n.local_ID+"/ws/v1/game/winning/staff?activity_id="+n.activity_id+"&game_id="+n.game_id+"&game="+n.GameName),cc.director.loadScene("Host1_Jiugongge"+n.BackGround_Theme)):cc.director.loadScene("Host1_Start"+n.BackGround_Theme)},1))},update:function(){this.JudgeError()}}),cc._RF.pop()},{Model:"Model"}],Skin:[function(e,t){"use strict";cc._RF.push(t,"cd804C+XgNEHYsQUS337SkZ","Skin"),e("Model"),cc.Class({extends:cc.Component,properties:{SkinType:{default:null,type:cc.Sprite}},onLoad:function(){},start:function(){}}),cc._RF.pop()},{Model:"Model"}],ani:[function(e,t){"use strict";cc._RF.push(t,"58d98+WtihHuKwhuv8/GTaa","ani"),cc.Class({extends:cc.Component,properties:{GoBtn:{default:null,type:cc.Node},wheel:{default:null,type:cc.Node}},onLoad:function(){this.Prize_total=16,this.wheelState=0,this.IDAngle=360/this.Prize_total,this.Prize_Angle=0,this.GoBtn.on(cc.Node.EventType.MOUSE_DOWN,this.StartBtn,this)},StartBtn:function(){0===this.wheelState&&(this.wheelState=1,this.aniSlow_In())},lettorey:function(){this.Prize_ID=Math.floor(Math.random()*this.Prize_total),console.log(this.Prize_ID),this.Prize_Angle=this.Prize_ID*this.IDAngle;var e=this.Prize_Angle+Math.floor(this.IDAngle/2),t=this.Prize_Angle-Math.floor(this.IDAngle/2);this.FinalAngle=Math.floor(Math.random()*(e-(t+1))+t),console.log("FinalAngle :"+this.FinalAngle),this.wheelState=2,this.aniSlow_Out()},aniSlow_In:function(){var e=cc.tween(this.wheel).by(2,{angle:360},{easing:"circIn"}),t=cc.tween(this.wheel).by(.5,{angle:360}).repeatForever();this.ani_wheelState1=cc.tween(this.wheel).then(e).then(t).start()},aniSlow_Out:function(){var e=this;this.ani_wheelState1.stop();var t=1==Math.round(Math.random())?"circOut":"backOut",n=360*Math.ceil(this.wheel.angle/360)-this.wheel.angle;console.log("\u5dee\u503c: "+n),cc.tween(this.wheel).by(6,{angle:360+n+e.FinalAngle},{easing:t}).call(function(){e.ShowPrize()}).start()},ShowPrize:function(){console.log("\u734e\u54c1\u89d2\u5ea6: "+this.Prize_Angle),console.log("\u8f2a\u76e4\u5230\u9054\u7684\u89d2\u5ea6: "+this.wheel.angle),this.wheelState=0,console.log("\u606d\u559c\u62bd\u5230"+50*(this.Prize_ID+1)+"\u5143"),alert("\u606d\u559c\u62bd\u5230"+50*(this.Prize_ID+1)+"\u5143")}}),cc._RF.pop()},{}],"goeasy-2.0.12.min":[function(e,t,n){(function(e){"use strict";var o,i;cc._RF.push(t,"73b74QnRwRA4phQ5aA3bI9k","goeasy-2.0.12.min"),o="undefined"!=typeof self?self:void 0,i=function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=120)}([function(e,t){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){t.__esModule=!0;var o,i=(o=n(128))&&o.__esModule?o:{default:o};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,i.default)(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.noop=t.GoEasyDomainNumber=t.env=t.goEasyArray=t.UUID=t.calibrator=void 0;var o=n(83),i=n(150),r=n(154),s=n(92),a=n(93);t.calibrator=o.calibrator,t.UUID=i.UUID,t.goEasyArray=r.goEasyArray,t.env=s.env,t.GoEasyDomainNumber=a.GoEasyDomainNumber,t.noop=function(){}},function(e,t,n){e.exports={default:n(155),__esModule:!0}},function(e,t,n){t.__esModule=!0;var o,i=(o=n(20))&&o.__esModule?o:{default:o};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){t.__esModule=!0;var o=s(n(157)),i=s(n(21)),r=s(n(20));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,r.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}},function(e,t,n){e.exports={default:n(175),__esModule:!0}},function(e){var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={WRITE:"WRITE",READ:"READ",NONE:"NONE"}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={default:"default",text:"text",image:"image",video:"video",audio:"audio",emoji:"emoji",file:"file"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),i=a(n(1)),r=n(2),s=a(n(8));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){var n=this;(0,o.default)(this,e),this.uuid=null,this.name="",this.params=null,this.success=null,this.fail=null,this.permission=s.default.NONE,this.singleTimeout=0,this.totalTimeout=0,this.startTime=0,this.complete=!1,this.retried=0,this.uuid=r.UUID.get(),this.name=t.name,this.params=t.params,this.permission=t.permission,this.totalTimeout=t.totalTimeout,this.singleTimeout=t.singleTimeout,this.success=function(e){n.complete||(n.complete=!0,t.success(e))},this.fail=function(e){n.complete||(n.complete=!0,t.fail(e))}}return(0,i.default)(e,[{key:"start",value:function(){this.startTime=Date.now()}},{key:"isTimeout",value:function(){return this.startTime+this.totalTimeout<Date.now()}}]),e}();t.default=u},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EmitType={authorize:"authorize",manualDisconnect:"manualDisconnect",subscribe:"subscribe",unsubscribe:"unsubscribe",publish:"publish",ack:"ack",historyMessages:"historyMessages",hereNow:"hereNow",hereNowByUserIds:"hereNowByUserIds",imLastConversations:"imLastConversations",markPrivateMessageAsRead:"markPrivateMessageAsRead",markGroupMessageAsRead:"markGroupMessageAsRead",imGroupOnlineCount:"imGroupOnlineCount",imHereNow:"imHereNow",imGroupHereNow:"imGroupHereNow",publishIM:"publishIM",imHistory:"imHistory",subscribeUserPresence:"subscribeUserPresence",unsubscribeUserPresence:"unsubscribeUserPresence",subscribeGroupPresence:"subscribeGroupPresence",unsubscribeGroupPresence:"unsubscribeGroupPresence",removeConversation:"removeConversation",topConversation:"topConversation",imData:"imData",subscribeGroups:"subscribeGroups",unsubscribeGroup:"unsubscribeGroup"}},function(e,t,n){t.__esModule=!0;var o=r(n(3)),i=r(n(193));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,n,r){null===t&&(t=Function.prototype);var s=(0,i.default)(t,n);if(void 0===s){var a=(0,o.default)(t);return null===a?void 0:e(a,n,r)}if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(r)}},function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("","return this")();"number"==typeof __g&&(__g=t)},function(e,t,n){var o=n(59)("wks"),i=n(46),r=n(13).Symbol,s="function"==typeof r;(e.exports=function(e){return o[e]||(o[e]=s&&r[e]||(s?r:i)("Symbol."+e))}).store=o},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SocketTimeout={connect:1500,reconnectionDelayMax:3e3,commonQuerySingle:2500,commonQueryTotal:12e3,commonRequestSingle:1700,commonRequestTotal:12e3,commonInfiniteSingle:1700,commonInfiniteTotal:864e5}},function(e,t,n){var o=n(13),i=n(7),r=n(35),s=n(26),a=n(27),u=function e(t,n,u){var c,l,f,d=t&e.F,h=t&e.G,p=t&e.S,m=t&e.P,y=t&e.B,g=t&e.W,v=h?i:i[n]||(i[n]={}),_=v.prototype,b=h?o:p?o[n]:(o[n]||{}).prototype;for(c in h&&(u=n),u)(l=!d&&b&&void 0!==b[c])&&a(v,c)||(f=l?b[c]:u[c],v[c]=h&&"function"!=typeof b[c]?u[c]:y&&l?r(f,o):g&&b[c]==f?function(e){var t=function(t,n,o){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,o)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):m&&"function"==typeof f?r(Function.call,f):f,m&&((v.virtual||(v.virtual={}))[c]=f,t&e.R&&_&&!_[c]&&s(_,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.str=t.noop=t.GoEasyDomainNumber=t.env=t.goEasyArray=t.UUID=t.calibrator=void 0;var o=n(196),i=n(2);t.calibrator=i.calibrator,t.UUID=i.UUID,t.goEasyArray=i.goEasyArray,t.env=i.env,t.GoEasyDomainNumber=i.GoEasyDomainNumber,t.noop=i.noop,t.str=o.str},function(e,t,n){e.exports=!n(30)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var o=n(23);e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){t.__esModule=!0;var o=s(n(133)),i=s(n(141)),r="function"==typeof i.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function s(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===r(o.default)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":r(e)}},function(e,t,n){e.exports={default:n(161),__esModule:!0}},function(e,t,n){var o=n(19),i=n(79),r=n(55),s=Object.defineProperty;t.f=n(18)?Object.defineProperty:function(e,t,n){if(o(e),t=r(t,!0),o(n),i)try{return s(e,t,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var o=n(81),i=n(56);e.exports=function(e){return o(i(e))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Conversion=t.ConversationType=t.Conversations=void 0;var o=n(101),i=n(69),r=n(191);t.Conversations=r.Conversations,t.ConversationType=i.ConversationType,t.Conversion=o.Conversion},function(e,t,n){var o=n(22),i=n(45);e.exports=n(18)?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={DISCONNECTED:"disconnected",DISCONNECTING:"disconnecting",CONNECTING:"connecting",CONNECTED:"connected",RECONNECTING:"reconnecting",RECONNECTED:"reconnected",EXPIRED_RECONNECTED:"reconnected",CONNECT_FAILED:"connect_failed"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ImEventType=t.eventCenter=void 0;var o=n(190),i=n(100);t.eventCenter=o.eventCenter,t.ImEventType=i.ImEventType},function(e){e.exports=function(e){try{return!!e()}catch(i){return!0}}},function(e,t,n){var o=n(80),i=n(60);e.exports=Object.keys||function(e){return o(e,i)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SocketTimeout=t.IMTimeout=void 0;var o=n(15);t.IMTimeout={},t.SocketTimeout=o.SocketTimeout},function(e,t,n){e.exports={default:n(208),__esModule:!0}},function(e,t,n){var o=n(253),i=n(254),r=n(256),s=n(257);"undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),"undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),t.protocol=3;var a=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},u=o(a),c={type:"error",data:"parser error"},l=n(258);t.encodePacket=function(e,t,n,o){"function"==typeof t&&(o=t,t=!1),"function"==typeof n&&(o=n,n=null),void 0===e.data||e.data.buffer||e.data;var i=a[e.type];return void 0!==e.data&&(i+=n?s.encode(String(e.data),{strict:!1}):String(e.data)),o(""+i)},t.decodePacket=function(e,t,n){if(void 0===e)return c;if("string"==typeof e){if(n&&!1===(e=function(e){try{e=s.decode(e,{strict:!1})}catch(t){return!1}return e}(e)))return c;var o=e.charAt(0);return Number(o)==o&&u[o]?e.length>1?{type:u[o],data:e.substring(1)}:{type:u[o]}:c}o=new Uint8Array(e)[0];var i=sliceBuffer(e,1);return l&&"blob"===t&&(i=new l([i])),{type:u[o],data:i}},t.encodePayload=function(e,n,o){"function"==typeof n&&(o=n,n=null);var s=i(e);if(!e.length)return o("0:");!function(e,t,n){for(var o=new Array(e.length),i=r(e.length,n),s=function(e,n,i){t(n,function(t,n){o[e]=n,i(t,o)})},a=0;a<e.length;a++)s(a,e[a],i)}(e,function(e,o){t.encodePacket(e,!!s&&n,!0,function(e){o(null,function(e){return e.length+":"+e}(e))})},function(e,t){return o(t.join(""))})},t.decodePayload=function(e,n,o){var i;if("function"==typeof n&&(o=n,n=null),""===e)return o(c,0,1);for(var r,s,a="",u=0,l=e.length;u<l;u++){var f=e.charAt(u);if(":"===f){if(""===a||a!=(r=Number(a)))return o(c,0,1);if(a!=(s=e.substr(u+1,r)).length)return o(c,0,1);if(s.length){if(i=t.decodePacket(s,n,!0),c.type===i.type&&c.data===i.data)return o(c,0,1);if(!1===o(i,u+r,l))return}u+=r,a=""}else a+=f}return""!==a?o(c,0,1):void 0}},function(e,t,n){var o=n(44);e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,i){return e.call(t,n,o,i)}}return function(){return e.apply(t,arguments)}}},function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e){e.exports=!0},function(e,t){t.f={}.propertyIsEnumerable},function(e){e.exports={}},function(e,t,n){var o=n(56);e.exports=function(e){return Object(o(e))}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={message:"message",imMessage:"imMessage",userPresence:"userPresence",groupPresence:"groupPresence"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=C(n(6)),i=C(n(0)),r=C(n(1)),s=n(29),a=n(25),u=n(192),c=C(n(9)),l=C(n(207)),f=C(n(224)),d=C(n(107)),h=C(n(225)),p=C(n(226)),m=C(n(227)),y=C(n(228)),g=C(n(229)),v=C(n(230)),_=C(n(231)),b=C(n(232)),w=C(n(233));function C(e){return e&&e.__esModule?e:{default:e}}var S=function(){function e(){(0,i.default)(this,e),this._event=s.eventCenter,this._goEasyUploader=null,this._goEasySocket=null,this._dataCache=null,this._messageSender=null,this._history=null,this._conversations=null,this._iMReceiver=null,this._groupMessageReceive=null,this._groupPresenceSubscriber=null,this._groupOnlineCount=null,this._groupHereNow=null,this._privateMessageReceive=null,this._userPresenceSubscriber=null,this._userHereNow=null}return(0,r.default)(e,[{key:"on",value:function(e,t){this._event.on(e,t)}},{key:"initialBeforeConnect",value:function(t){e.userId=t.id,e.userData=t.data,this._dataCache=new w.default(this,t),this._messageSender=new l.default(this),this._history=new f.default(this),this._goEasyUploader=new d.default(this),this._userHereNow=new v.default(this),this._groupHereNow=new _.default(this),this._groupOnlineCount=new m.default(this)}},{key:"initialAfterConnect",value:function(){this._iMReceiver=new b.default(this),this._conversations=new a.Conversations(this),this._groupPresenceSubscriber=new y.default(this),this._groupMessageReceive=new h.default(this),this._userPresenceSubscriber=new g.default(this),this._privateMessageReceive=new p.default(this)}},{key:"initialGoEasySocket",value:function(e){this._goEasySocket=e}},{key:"createTextMessage",value:function(e){return u.messageCreator.create(c.default.text,e)}},{key:"createImageMessage",value:function(e){return u.messageCreator.create(c.default.image,e)}},{key:"createFileMessage",value:function(e){return u.messageCreator.create(c.default.file,e)}},{key:"createAudioMessage",value:function(e){return u.messageCreator.create(c.default.audio,e)}},{key:"createVideoMessage",value:function(e){return u.messageCreator.create(c.default.video,e)}},{key:"createCustomMessage",value:function(e){return u.messageCreator.create(e.type,e)}},{key:"latestConversations",value:function(){return this._conversations?this._conversations.latestConversations():o.default.reject({code:500,content:"Please connect GoEasyIM first."})}},{key:"groupMarkAsRead",value:function(e,t){return this._conversations.groupMarkAsRead(e,t)}},{key:"privateMarkAsRead",value:function(e,t){return this._conversations.privateMarkAsRead(e,t)}},{key:"removePrivateConversation",value:function(e){return this._conversations.removeConversation(e,a.ConversationType.PRIVATE)}},{key:"removeGroupConversation",value:function(e){return this._conversations.removeConversation(e,a.ConversationType.GROUP)}},{key:"topPrivateConversation",value:function(e,t){return this._conversations.topConversation(e,t,a.ConversationType.PRIVATE)}},{key:"topGroupConversation",value:function(e,t){return this._conversations.topConversation(e,t,a.ConversationType.GROUP)}},{key:"history",value:function(e){return this._history.history(e)}},{key:"upload",value:function(e,t,n){return this._goEasyUploader.upload(e,t,n)}},{key:"sendSystemMessage",value:function(e,t){return this._messageSender.send(e,t,a.ConversationType.SYSTEM)}},{key:"sendMessage",value:function(e){return this._messageSender.sendMessage(e)}},{key:"sendPrivateMessage",value:function(e,t){return this._messageSender.send(e,t,a.ConversationType.PRIVATE)}},{key:"subscribeUserPresence",value:function(e){return this._userPresenceSubscriber.presence(e)}},{key:"unsubscribeUserPresence",value:function(e){return this._userPresenceSubscriber.unPresence(e)}},{key:"hereNow",value:function(e){return this._userHereNow.hereNow(e,a.ConversationType.PRIVATE)}},{key:"sendGroupMessage",value:function(e,t){return this._messageSender.send(e,t,a.ConversationType.GROUP)}},{key:"subscribeGroup",value:function(e){return this._groupMessageReceive.subscribe(e)}},{key:"unsubscribeGroup",value:function(e){return this._groupMessageReceive.unsubscribe(e)}},{key:"subscribeGroupPresence",value:function(e){return this._groupPresenceSubscriber.presence(e)}},{key:"unsubscribeGroupPresence",value:function(e){return this._groupPresenceSubscriber.unPresence(e)}},{key:"groupHereNow",value:function(e){return this._groupHereNow.hereNow(e)}},{key:"groupOnlineCount",value:function(e){return this._groupOnlineCount.get(e)}}]),e}();S.version=null,S.userId=void 0,S.userData=null,t.default=S},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(21)),i=l(n(0)),r=l(n(1)),s=l(n(42)),a=n(2),u=(l(n(9)),l(n(49))),c=n(25);function l(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){(0,i.default)(this,e),this.type="",this.to={type:null,id:null,data:null},this.timestamp=Date.now(),this.senderId=null,this.payload=null,this.messageId=a.UUID.get(),this.status=u.default.new,this.validate(t),this.setSenderId(),this.setType(t),this.setNotification(t),this.setPayload(t),this.setTo(t),this.setData()}return(0,r.default)(e,[{key:"validate",value:function(e){if(!a.calibrator.isObject(e))throw Error("it is an empty message.")}},{key:"setType",value:function(){throw Error("Abstract method")}},{key:"setNotification",value:function(e){if(e.notification){if(!a.calibrator.isObject(e.notification))throw Error("notification require an object.");if(a.calibrator.isEmpty(e.notification.title))throw Error("notification's title is empty.");if(a.calibrator.isEmpty(e.notification.body))throw Error("notification's body is empty.");if(e.notification.title.length>32)throw Error("notification's title over max length 32");if(e.notification.body.length>50)throw Error("notification's body over max length 50");this.notification=e.notification}}},{key:"setPayload",value:function(){this.payload=(0,o.default)(null)}},{key:"setSenderId",value:function(){if(!s.default.userId)throw Error("please call connect() first.");this.senderId=s.default.userId}},{key:"setTo",value:function(e){this.to=e.to}},{key:"setData",value:function(){this.to&&this.to.type==c.ConversationType.GROUP&&(this.senderData=s.default.userData)}}]),e}();t.default=f},function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},function(e,t,n){var o=n(22).f,i=n(27),r=n(14)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,r)&&o(e,r,{configurable:!0,value:t})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(21)),i=c(n(0)),r=c(n(1)),s=n(2),a=n(25),u=c(n(49));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){(0,i.default)(this,e)}return(0,r.default)(e,null,[{key:"assemble",value:function(e){if(!s.calibrator.isDef(e))return null;try{var t=(0,o.default)(null);return t.type=e.mt,t.timestamp=e.ts,t.senderId=e.s,t.payload=JSON.parse(e.p),t.messageId=e.i,t.status=u.default.success,e.t==a.ConversationType.GROUP?(t.groupId=e.r,t.senderData=e.d?JSON.parse(e.d):{}):t.receiverId=e.r,t}catch(n){throw Error(n)}}}]),e}();t.default=l},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={new:"new",sending:"sending",success:"success",fail:"fail"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(3)),i=f(n(0)),r=f(n(1)),s=f(n(4)),a=f(n(12)),u=f(n(5)),c=f(n(70)),l=n(17);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,r.default)(t,[{key:"validate",value:function(e){if((0,a.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"validate",this).call(this,e),!l.calibrator.isDef(e.file))throw Error("file is empty.")}},{key:"setPayload",value:function(e){(0,a.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPayload",this).call(this,e)}}]),t}(c.default);t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(3)),i=l(n(0)),r=l(n(1)),s=l(n(4)),a=l(n(12)),u=l(n(5)),c=n(17);function l(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,r.default)(t,[{key:"validate",value:function(e){if((0,a.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"validate",this).call(this,e),!c.calibrator.isDef(e.file))throw Error("file is empty.")}},{key:"setPayload",value:function(e){(0,a.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPayload",this).call(this,e)}}]),t}(l(n(70)).default);t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(3)),i=c(n(0)),r=c(n(1)),s=c(n(4)),a=c(n(12)),u=c(n(5));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,r.default)(t,[{key:"validate",value:function(e){if((0,a.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"validate",this).call(this,e),!(e.file instanceof File))throw Error("wrong file type.");if(0==e.file.size)throw Error("File size is 0.");if(e.file.size>31457280)throw Error("message-length limit 30mib")}},{key:"setPayload",value:function(e){(0,a.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPayload",this).call(this,e),this.payload.contentType=e.file.type,this.payload.name=e.file.name,this.payload.size=e.file.size;var n=(window.URL||window.webkitURL).createObjectURL(e.file);this.payload.url=n}}]),t}(c(n(70)).default);t.default=l},function(e,t,n){(function(o){function i(){var e;try{e=t.storage.debug}catch(n){}return!e&&void 0!==o&&"env"in o&&(e=o.env.DEBUG),e}(t=e.exports=n(241)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var o="color: "+this.color;e.splice(1,0,o,"color: inherit");var i=0,r=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(r=++i)}),e.splice(r,0,o)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=i,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(i())}).call(t,n(73))},function(e,t,n){var o=n(23),i=n(13).document,r=o(i)&&o(i.createElement);e.exports=function(e){return r?i.createElement(e):{}}},function(e,t,n){var o=n(23);e.exports=function(e,t){if(!o(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!o(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!o(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!o(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},function(e,t,n){var o=n(59)("keys"),i=n(46);e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,n){var o=n(7),i=n(13),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:o.version,mode:n(37)?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var o=n(19),i=n(137),r=n(60),s=n(58)("IE_PROTO"),a=function(){},u=function(){var e,t=n(54)("iframe"),o=r.length;for(t.style.display="none",n(87).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;o--;)delete u.prototype[r[o]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=o(e),n=new a,a.prototype=null,n[s]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){t.f=n(14)},function(e,t,n){var o=n(13),i=n(7),r=n(37),s=n(62),a=n(22).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=r?{}:o.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var o=n(38),i=n(45),r=n(24),s=n(55),a=n(27),u=n(79),c=Object.getOwnPropertyDescriptor;t.f=n(18)?c:function(e,t){if(e=r(e),t=s(t,!0),u)try{return c(e,t)}catch(n){}if(a(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t,n){var o=n(16),i=n(7),r=n(30);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],s={};s[e]=t(n),o(o.S+o.F*r(function(){n(1)}),"Object",s)}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleType={IM:"IM",PUBSUB:"PUBSUB"}},function(e,t,n){var o=n(44);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,o){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=o}),this.resolve=o(t),this.reject=o(n)}(e)}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationType={GROUP:"group",PRIVATE:"private"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(3)),i=f(n(0)),r=f(n(1)),s=f(n(4)),a=f(n(12)),u=f(n(5)),c=f(n(43)),l=f(n(9));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){(0,i.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.file=null,n.onProgress=null,n.setFile(e.file),n.setOnProgress(e.onProgress),n}return(0,u.default)(t,e),(0,r.default)(t,[{key:"validate",value:function(e){(0,a.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"validate",this).call(this,e)}},{key:"setPayload",value:function(e){(0,a.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPayload",this).call(this,e),this.payload.size="",this.payload.contentType="",this.payload.name="",this.payload.url=""}},{key:"setType",value:function(){this.type=l.default.file}},{key:"setFile",value:function(e){this.file=e}},{key:"setOnProgress",value:function(e){this.onProgress=e}}]),t}(c.default);t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),i=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,o.default)(this,e)}return(0,i.default)(e,[{key:"upload",value:function(){throw Error("Not implementation yet.")}}]),e}();t.default=s},function(e,t,n){e.exports={default:n(234),__esModule:!0}},function(e){var t,n,o=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(i){try{return t.call(null,e,0)}catch(i){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=a(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(){return[]},o.binding=function(){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){var o,i=(o=n(33))&&o.__esModule?o:{default:o};n(243)("socket.io-parser");var r=n(246),s=n(247);function a(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=a,t.Decoder=c;var u=t.ERROR+'"encode error"';function c(){this.reconstructor=null}function l(e){this.reconPack=e,this.buffers=[]}function f(e){return{type:t.ERROR,data:"parser error: "+e}}a.prototype.encode=function(e,n){n([function(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var o=function(e){try{return(0,i.default)(e)}catch(t){return!1}}(e.data);if(!1===o)return u;n+=o}return n}(e)])},r(c.prototype),c.prototype.add=function(e){var n;if("string"!=typeof e)throw new Error("Unknown type: "+e);n=function(e){var n=0,o={type:Number(e.charAt(0))};if(null==t.types[o.type])return f("unknown packet type "+o.type);if(t.BINARY_EVENT===o.type||t.BINARY_ACK===o.type){for(var i="";"-"!==e.charAt(++n)&&(i+=e.charAt(n),n!=e.length););if(i!=Number(i)||"-"!==e.charAt(n))throw new Error("Illegal attachments");o.attachments=Number(i)}if("/"===e.charAt(n+1))for(o.nsp="";++n&&","!==(a=e.charAt(n))&&(o.nsp+=a,n!==e.length););else o.nsp="/";var r=e.charAt(n+1);if(""!==r&&Number(r)==r){for(o.id="";++n;){var a;if(null==(a=e.charAt(n))||Number(a)!=a){--n;break}if(o.id+=e.charAt(n),n===e.length)break}o.id=Number(o.id)}if(e.charAt(++n)){var u=function(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(n));if(!1===u||o.type!==t.ERROR&&!s(u))return f("invalid payload");o.data=u}return o}(e),this.emit("decoded",n)},c.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=binary.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){var o=n(34),i=n(113);function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=r,i(r.prototype),r.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},r.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=o.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),o=0,i=n.length;o<i;o++){var r=n[o].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}},function(e){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){(function(o){function i(){var e;try{e=t.storage.debug}catch(n){}return!e&&void 0!==o&&"env"in o&&(e=o.env.DEBUG),e}(t=e.exports=n(259)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var o="color: "+this.color;e.splice(1,0,o,"color: inherit");var i=0,r=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(r=++i)}),e.splice(r,0,o)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=i,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(i())}).call(t,n(73))},function(e,t,n){e.exports=!n(18)&&!n(30)(function(){return 7!=Object.defineProperty(n(54)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var o=n(27),i=n(24),r=n(126)(!1),s=n(58)("IE_PROTO");e.exports=function(e,t){var n,a=i(e),u=0,c=[];for(n in a)n!=s&&o(a,n)&&c.push(n);for(;t.length>u;)o(a,n=t[u++])&&(~r(c,n)||c.push(n));return c}},function(e,t,n){var o=n(36);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},function(e,t,n){var o=n(57),i=Math.min;e.exports=function(e){return e>0?i(o(e),9007199254740991):0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.calibrator=void 0;var o=s(n(20)),i=s(n(0)),r=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var a=new(function(){function e(){(0,i.default)(this,e)}return(0,r.default)(e,[{key:"isUndef",value:function(e){return null==e}},{key:"isTrue",value:function(e){return!0===e}},{key:"isFalse",value:function(e){return!1===e}},{key:"isPrimitive",value:function(e){return"string"==typeof e||"number"==typeof e||"symbol"===(void 0===e?"undefined":(0,o.default)(e))||"boolean"==typeof e}},{key:"isDef",value:function(e){return null!=e}},{key:"isObject",value:function(e){return null!==e&&"object"===(void 0===e?"undefined":(0,o.default)(e))}},{key:"isPlainObject",value:function(e){return"[object Object]"===Object.prototype.toString.call(e)}},{key:"isRegExp",value:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}},{key:"isValidArrayIndex",value:function(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}},{key:"isStringOrNumber",value:function(e){return"string"==typeof e||"number"==typeof e}},{key:"isString",value:function(e){return"string"==typeof e}},{key:"isNumber",value:function(e){return"number"==typeof e}},{key:"isArray",value:function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{key:"isEmpty",value:function(e){return this.isArray(e)?0==e.length:this.isObject(e)?!this.isDef(e):!this.isNumber(e)&&(this.isString(e)?""==e.trim():!this.isDef(e))}},{key:"isNative",value:function(e){return"function"==typeof e&&/native code/.test(e.toString())}},{key:"isFunction",value:function(e){return"function"==typeof e}}]),e}());t.calibrator=a},function(e,t,n){var o=n(135)(!0);n(85)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=o(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var o=n(37),i=n(16),r=n(86),s=n(26),a=n(39),u=n(136),c=n(47),l=n(88),f=n(14)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,p,m,y,g){u(n,t,p);var v,_,b,w=function(e){if(!d&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},C=t+" Iterator",S="values"==m,k=!1,E=e.prototype,M=E[f]||E["@@iterator"]||m&&E[m],P=M||w(m),T=m?S?w("entries"):P:void 0,O="Array"==t&&E.entries||M;if(O&&(b=l(O.call(new e)))!==Object.prototype&&b.next&&(c(b,C,!0),o||"function"==typeof b[f]||s(b,f,h)),S&&M&&"values"!==M.name&&(k=!0,P=function(){return M.call(this)}),o&&!g||!d&&!k&&E[f]||s(E,f,P),a[t]=P,a[C]=h,m)if(v={values:S?P:w("values"),keys:y?P:w("keys"),entries:T},g)for(_ in v)_ in E||r(E,_,v[_]);else i(i.P+i.F*(d||k),t,v);return v}},function(e,t,n){e.exports=n(26)},function(e,t,n){var o=n(13).document;e.exports=o&&o.documentElement},function(e,t,n){var o=n(27),i=n(40),r=n(58)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),o(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){n(138);for(var o=n(13),i=n(26),r=n(39),s=n(14)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var c=a[u],l=o[c],f=l&&l.prototype;f&&!f[s]&&i(f,s,c),r[c]=r.Array}},function(e,t,n){var o=n(80),i=n(60).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,i)}},function(){},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.env=void 0;var o=s(n(20)),i=s(n(0)),r=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var a=new(function(){function e(){(0,i.default)(this,e)}return(0,r.default)(e,[{key:"isWx",value:function(){return!("undefined"==typeof wx||!wx.getLocation||"undefined"==typeof GameGlobal&&"function"==typeof WebSocket&&"function"==typeof XMLHttpRequest)}},{key:"isUni",value:function(){return!("object"!==("undefined"==typeof uni?"undefined":(0,o.default)(uni))||!uni.getSystemInfo)}},{key:"isSupportHtmlPlus",value:function(){return!!("object"===("undefined"==typeof plus?"undefined":(0,o.default)(plus))&&plus.navigator&&plus.navigator.getUserAgent()&&plus.navigator.getUserAgent().indexOf("Html5Plus")>-1)}},{key:"isTT",value:function(){return!("object"!==("undefined"==typeof tt?"undefined":(0,o.default)(tt))||!tt.getSystemInfo)}},{key:"isBrowserClient",value:function(){return this.isUni()?"function"==typeof WebSocket&&"function"==typeof XMLHttpRequest&&"object"==("undefined"==typeof localStorage?"undefined":(0,o.default)(localStorage)):!(this.isReactNative()||this.isWx()||this.isTT())}},{key:"isReactNative",value:function(){return"undefined"!=typeof navigator&&"ReactNative"==navigator.product}}]),e}());t.env=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.GoEasyDomainNumber=void 0;var o=u(n(0)),i=u(n(1)),r=n(92),s=n(163),a=u(n(164));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,o.default)(this,e)}return(0,i.default)(e,null,[{key:"refreshNumber",value:function(){var e=Math.floor(Math.random()*(a.default.maxNumber-1)+1);return r.env.isBrowserClient()&&(e=parseInt(s.storage.getData("goEasyNode"))||e),e>0&&e<a.default.maxNumber?e+=1:e==a.default.maxNumber&&(e=1),r.env.isBrowserClient()&&s.storage.setData("goEasyNode",e),e}}]),e}();t.GoEasyDomainNumber=c},function(e,t,n){e.exports={default:n(172),__esModule:!0}},function(e,t,n){var o=n(36),i=n(14)("toStringTag"),r="Arguments"==o(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),i))?n:r?o(t):"Object"==(s=o(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var o=n(19),i=n(44),r=n(14)("species");e.exports=function(e,t){var n,s=o(e).constructor;return void 0===s||null==(n=o(s)[r])?t:i(n)}},function(e,t,n){var o,i,r,s=n(35),a=n(182),u=n(87),c=n(54),l=n(13),f=l.process,d=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,m=l.Dispatch,y=0,g={},v=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},_=function(e){v.call(e.data)};d&&h||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++y]=function(){a("function"==typeof e?e:Function(e),t)},o(y),y},h=function(e){delete g[e]},"process"==n(36)(f)?o=function(e){f.nextTick(s(v,e,1))}:m&&m.now?o=function(e){m.now(s(v,e,1))}:p?(r=(i=new p).port2,i.port1.onmessage=_,o=s(r.postMessage,r,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(o=function(e){l.postMessage(e+"","*")},l.addEventListener("message",_,!1)):o="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),v.call(e)}}:function(e){setTimeout(s(v,e,1),0)}),e.exports={set:d,clear:h}},function(e){e.exports=function(e){try{return{e:!1,v:e()}}catch(i){return{e:!0,v:i}}}},function(e,t,n){var o=n(19),i=n(23),r=n(68);e.exports=function(e,t){if(o(e),i(t)&&t.constructor===e)return t;var n=r.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ImEventType=void 0;var o,i=(0,((o=n(21))&&o.__esModule?o:{default:o}).default)(null);i.PRIVATE_MESSAGE_RECEIVED="PRIVATE_MESSAGE_RECEIVED",i.GROUP_MESSAGE_RECEIVED="GROUP_MESSAGE_RECEIVED",i.SYSTEM_MESSAGE_RECEIVED="SYSTEM_MESSAGE_RECEIVED",i.CONVERSATIONS_UPDATED="CONVERSATIONS_UPDATED",i.CONNECTED="CONNECTED",i.CONNECTING="CONNECTING",i.DISCONNECTED="DISCONNECTED",i.USER_PRESENCE="USER_PRESENCE",i.GROUP_PRESENCE="GROUP_PRESENCE",t.ImEventType=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Conversion=void 0;var o=u(n(0)),i=u(n(1)),r=n(69),s=u(n(42)),a=u(n(48));function u(e){return e&&e.__esModule?e:{default:e}}t.Conversion=function(){function e(){(0,o.default)(this,e),this.type="",this.lastMessage=null,this.unread=0,this.top=!1,this.data=null,this.lc=0,this.lm=0}return(0,i.default)(e,null,[{key:"buildByInMessage",value:function(t){var n=new e;return n.data={},n.type=t.t,n.lastMessage=a.default.assemble(t),n.lc=n.lastMessage.timestamp-1,n.lm=n.lastMessage.timestamp,n.unread=0,t.t==r.ConversationType.GROUP?n.groupId=t.r:s.default.userId==t.r?n.userId=t.s:n.userId=t.r,n}},{key:"buildByOutMessage",value:function(t,n,o){var i=new e;return i.type=n,i.lastMessage=t,i.lm=i.lastMessage.timestamp,i.lc=i.lm,i.unread=0,n==r.ConversationType.GROUP?(i.groupId=o,i.lastMessage.groupId=o):(i.userId=o,i.lastMessage.receiverId=o),i}},{key:"buildByConversation",value:function(t,n){var o=new e;o.type=n.t,n.lmsg.t=n.t,o.lastMessage=a.default.assemble(n.lmsg),o.unread=0,o.lc=n.lcts,o.lm=o.lastMessage.timestamp,o.top=n.top||!1;var i=n.d?JSON.parse(n.d):{};return o.data=i,n.t==r.ConversationType.GROUP?(o.groupId=n.g,t.putGroupData(o.groupId,i)):(o.userId=n.uid,t.putUserData(o.userId,i),s.default.userId==n.lmsg.s?o.lastMessage.senderData=s.default.userData:o.lastMessage.senderData=i),o}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(0)),i=s(n(1)),r=n(2);function s(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){(0,o.default)(this,e)}return(0,i.default)(e,null,[{key:"resolve",value:function(){return r.env.isUni()?"uniApp":r.env.isWx()?"wx":"html"}}]),e}();t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(3)),i=d(n(0)),r=d(n(1)),s=d(n(4)),a=d(n(12)),u=d(n(5)),c=d(n(43)),l=d(n(9)),f=n(2);function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,r.default)(t,[{key:"validate",value:function(e){if(f.calibrator.isEmpty(e.text)||""==e.text.trim())throw Error("text is empty")}},{key:"setType",value:function(){this.type=l.default.text}},{key:"setPayload",value:function(e){(0,a.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPayload",this).call(this,e),this.payload.text=e.text}}]),t}(c.default);t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),i=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,o.default)(this,e)}return(0,i.default)(e,[{key:"build",value:function(){throw Error("Not implementation yet.")}}]),e}();t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(6)),i=d(n(3)),r=d(n(0)),s=d(n(1)),a=d(n(4)),u=d(n(5)),c=d(n(106)),l=d(n(9)),f=d(n(107));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){(0,r.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return n.im=null,n.goEasyUploader=new f.default(e),n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"build",value:function(e){var t=this;return new o.default(function(n,o){var i=new c.default;t.upload(e).then(function(t){var o=t.content,r=void 0===o?{}:o;(i=e.payload).url=r.url,i.name=r.newFileName,n(i)}).catch(function(e){o(e)})})}},{key:"upload",value:function(e){var t=e.type==l.default.video?e.payload.video.name:e.payload.name;return this.goEasyUploader.upload(e.file,t,e.onProgress,e.type)}}]),t}(d(n(104)).default);t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=(o=n(0))&&o.__esModule?o:{default:o};t.default=function e(){(0,i.default)(this,e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(6)),i=u(n(0)),r=u(n(1)),s=n(214),a=u(n(218));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){(0,i.default)(this,e),this.requestBuilder=null,this.fileUploader=s.fileUploader,this.requestBuilder=new a.default(t)}return(0,r.default)(e,[{key:"upload",value:function(e,t,n,i){var r=this;return new o.default(function(o,s){r.requestBuilder.build(e,t,i).then(function(e){o(r.doUpload(e,n))}).catch(function(e){s(e)})})}},{key:"customizeUpload",value:function(e,t){this.doUpload(e,t)}},{key:"doUpload",value:function(e,t){return this.fileUploader.upload(e,t)}}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=(o=n(0))&&o.__esModule?o:{default:o};t.default=function e(t,n,o,r,s){(0,i.default)(this,e),this.host="",this.headers={},this.parameters={},this.file={},this.payload={},this.host=t,this.headers=n,this.parameters=o,this.file=r,this.payload=s}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),i=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,o.default)(this,e)}return(0,i.default)(e,[{key:"build",value:function(){}},{key:"newFileName",value:function(e){return e&&e.newFilename||""}}]),e}();t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(0)),i=l(n(1)),r=l(n(28)),s=l(n(8)),a=l(n(237)),u=l(n(238)),c=n(2);function l(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(){(0,o.default)(this,e),this.io=u.default,this.status=r.default.DISCONNECTED,this.permissions=[s.default.NONE],this.emitter=null,this.connectedObservers=[],this.disconnectedObservers=[],this.emitter=new a.default(this)}return(0,i.default)(e,[{key:"connect",value:function(){this.status=r.default.CONNECTING}},{key:"emit",value:function(e){this.emitter.emit(e)}},{key:"doEmit",value:function(){}},{key:"on",value:function(e,t){this.io.on(e,t)}},{key:"disconnect",value:function(){this.io.disconnect()}},{key:"getStatus",value:function(){return this.status}},{key:"addConnectedObserver",value:function(e){c.calibrator.isFunction(e)&&this.connectedObservers.push(e)}},{key:"addDisconnectedObserver",value:function(e){c.calibrator.isFunction(e)&&this.disconnectedObservers.push(e)}},{key:"notify",value:function(e,t){for(var n=0;n<e.length;n++)e[n](t)}}]),e}();t.default=f},function(e,t,n){var o,i=(o=n(20))&&o.__esModule?o:{default:o},r=n(248),s=n(115),a=n(116),u=n(74),c=n(117),l=n(118),f=(n(53)("socket.io-client:manager"),n(271)),d=n(272),h=n(93).GoEasyDomainNumber,p=Object.prototype.hasOwnProperty;function m(e,t){if(!(this instanceof m))return new m(e,t);e&&"object"===(void 0===e?"undefined":(0,i.default)(e))&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||u;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}function y(){var e=!1;return"object"===("undefined"==typeof uni?"undefined":(0,i.default)(uni))&&uni.getSystemInfo&&(e=!0),e&&!0===getApp().uniAppRunningBackend}e.exports=m,m.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)p.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},m.prototype.updateSocketIds=function(){for(var e in this.nsps)p.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},m.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},a(m.prototype),m.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},m.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},m.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},m.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},m.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},m.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},m.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},m.prototype.open=m.prototype.connect=function(e){if(this.readyState,~this.readyState.indexOf("open"))return this;this.uri,this.engine=r(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var o=c(t,"open",function(){n.onopen(),e&&e()}),i=c(t,"error",function(t){if("undefined"!=typeof window){var o=parseInt(n.uri.match(/[1-9][0-9]*/g)[0]),i=h.refreshNumber();n.uri=n.uri.replace(o,i)}if(n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var r=new Error("Connection error");r.data=t,e(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout,a=setTimeout(function(){o.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(o),this.subs.push(i),this},m.prototype.onopen=function(){this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(c(e,"data",l(this,"ondata"))),this.subs.push(c(e,"ping",l(this,"onping"))),this.subs.push(c(e,"pong",l(this,"onpong"))),this.subs.push(c(e,"error",l(this,"onerror"))),this.subs.push(c(e,"close",l(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",l(this,"ondecoded")))},m.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},m.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},m.prototype.ondata=function(e){this.decoder.add(e)},m.prototype.ondecoded=function(e){this.emit("packet",e)},m.prototype.onerror=function(e){this.emitAll("error",e)},m.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new s(this,e,t),this.nsps[e]=n;var o=this;n.on("connecting",i),n.on("connect",function(){n.id=o.generateId(e)}),this.autoConnect&&i()}function i(){~f(o.connecting,n)||o.connecting.push(n)}return n},m.prototype.destroy=function(e){var t=f(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},m.prototype.packet=function(e){var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var o=0;o<n.length;o++)t.engine.write(n[o],e.options);t.encoding=!1,t.processPacketQueue()}))},m.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},m.prototype.cleanup=function(){for(var e=this.subs.length,t=0;t<e;t++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},m.prototype.close=m.prototype.disconnect=function(){this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},m.prototype.onclose=function(e){this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},m.prototype.reconnect=function(){if(y(),this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||(y()?(e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error","Uniapp running backend, skipped reconnect...")):e.open(function(t){t?(e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):e.onreconnect()})))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},m.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){var o=n(250),i=n(263);t.polling=function(e){var t=!1,n=!1;if(e.jsonp,"undefined"!=typeof location){var i="https:"===location.protocol,r=location.port;r||(r=i?443:80),t=e.hostname!==location.hostname||r!==e.port,n=e.secure!==i}return e.xdomain=t,e.xscheme=n,new o(e)},t.websocket=i},function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,o=this._callbacks["$"+e];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<o.length;i++)if((n=o[i])===t||n.fn===t){o.splice(i,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var o=0,i=(n=n.slice(0)).length;o<i;++o)n[o].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e){var t,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,i={},r=0,s=0;function a(e){var t="";do{t=n[e%o]+t,e=Math.floor(e/o)}while(e>0);return t}function u(){var e=a(+new Date);return e!==t?(r=0,t=e):e+"."+a(r++)}for(;s<o;s++)i[n[s]]=s;u.encode=a,u.decode=function(e){var t=0;for(s=0;s<e.length;s++)t=t*o+i[e.charAt(s)];return t},e.exports=u},function(e,t,n){var o,i=(o=n(20))&&o.__esModule?o:{default:o},r=n(74),s=n(116),a=n(267),u=n(117),c=n(118),l=(n(53)("socket.io-client:socket"),n(268)),f=n(269);e.exports=p;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=s.prototype.emit;function p(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}s(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[u(e,"open",c(this,"onopen")),u(e,"packet",c(this,"onpacket")),u(e,"close",c(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},p.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},p.prototype.emit=function(e){if(d.hasOwnProperty(e))return h.apply(this,arguments),this;var t=a(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:f(t))?r.BINARY_EVENT:r.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(this.ids,this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},p.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},p.prototype.onopen=function(){if("/"!==this.nsp)if(this.query){var e="object"===(0,i.default)(this.query)?l.encode(this.query):this.query;this.packet({type:r.CONNECT,query:e})}else this.packet({type:r.CONNECT})},p.prototype.onclose=function(e){this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},p.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===r.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},p.prototype.onevent=function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?h.apply(this,t):this.receiveBuffer.push(t)},p.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var o=a(arguments);t.packet({type:f(o)?r.BINARY_ACK:r.ACK,id:e,data:o})}}},p.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(e.id,e.data,t.apply(this,e.data),delete this.acks[e.id]):e.id},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)h.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){this.nsp,this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(this.nsp,this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(e){return this.flags.compress=e,this},p.prototype.binary=function(e){return this.flags.binary=e,this}},function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,o=this._callbacks["$"+e];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<o.length;i++)if((n=o[i])===t||n.fn===t){o.splice(i,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var o=0,i=(n=n.slice(0)).length;o<i;++o)n[o].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e){var t=[].slice;e.exports=function(e,n){if("string"==typeof n&&(n=e[n]),"function"!=typeof n)throw new Error("bind() requires a function");var o=t.call(arguments,2);return function(){return n.apply(e,o.concat(t.call(arguments)))}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.uniApp=void 0;var o=s(n(0)),i=s(n(1)),r=n(2);function s(e){return e&&e.__esModule?e:{default:e}}var a=new(function(){function e(){(0,o.default)(this,e),this.overrided=!1}return(0,i.default)(e,[{key:"overrideUniShowHideMethods",value:function(){if(r.env.isUni()&&!this.overrided&&getApp()&&void 0!==getApp().$options){this.overrided=!0;var e=getApp().$options;if(void 0!==e.onShow){var t=e.onShow[0];e.onShow[0]=function(){getApp().uniAppRunningBackend=!1,t&&t.call(e)}}if(void 0!==e.onHide){var n=e.onHide[0];e.onHide[0]=function(){getApp().uniAppRunningBackend=!0,n&&n.call(e)}}}}},{key:"runningBackend",value:function(){return getApp().uniAppRunningBackend}}]),e}());t.uniApp=a},function(e,t,n){var o=r(n(121)),i=r(n(276));function r(e){return e&&e.__esModule?e:{default:e}}o.default.version=i.default.version,e.exports=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=m(n(122)),i=m(n(0)),r=m(n(1)),s=m(n(131)),a=m(n(171)),u=n(29),c=n(15),l=n(25),f=m(n(28)),d=m(n(236)),h=n(2),p=n(67);function m(e){return e&&e.__esModule?e:{default:e}}var y=function(){function e(t){if((0,i.default)(this,e),this.goEasySocket=null,this.pubsub=null,this.im=null,null!==e.instance&&e.instance.getConnectionStatus()!==f.default.DISCONNECTED)return e.instance;this.validateOptions(t),this.setUriAndOpts(t),this.options=t,this.options.artifactVersion=e.version,this.pubsub=new s.default(t),this.im=new a.default(t)}return(0,r.default)(e,[{key:"connect",value:function(e){this.getConnectionStatus()!==f.default.DISCONNECTED&&h.calibrator.isObject(e)&&h.calibrator.isFunction(e.onFailed)?e.onFailed({code:408,content:"It is already connected, don't try again until disconnect() is called. "}):(this.extendOptions(e),this.pubsub.initialBeforeConnect(),this.im.initialBeforeConnect({id:e.id,data:e.data}),this.goEasySocket=new d.default(this.options),this.im.initialGoEasySocket(this.goEasySocket),this.goEasySocket.connect(),this.pubsub.initialGoEasySocket(this.goEasySocket),this.im.initialAfterConnect())}},{key:"disconnect",value:function(e){this.goEasySocket.disconnect(e).then(function(){h.calibrator.isObject(e)&&h.calibrator.isFunction(e.onSuccess)&&e.onSuccess()}).catch(function(t){h.calibrator.isObject(e)&&h.calibrator.isFunction(e.onFailed)&&e.onFailed(t)})}},{key:"getConnectionStatus",value:function(){return this.goEasySocket?this.goEasySocket.getStatus():f.default.DISCONNECTED}},{key:"validateOptions",value:function(e){var t="";if(!h.calibrator.isObject(e))throw t="options is require an object.",Error(t);if(!h.calibrator.isPrimitive(e.appkey)||0==e.appkey.length)throw t="Invalid options:'host' is empty.",Error(t);if(!h.calibrator.isPrimitive(e.host)||0==e.host.length)throw t="Invalid options:'host' is empty.",Error(t);if(!h.calibrator.isArray(e.modules))throw t="Invalid options: 'modules' must be nonempty array",Error(t);var n=(0,o.default)(p.ModuleType),i=e.modules.map(function(e){var o=e.toUpperCase();if(!n.includes(o))throw t="Invalid options: module '"+e+"' is not support",Error(t);return o});e.modules=i}},{key:"extendOptions",value:function(e){if(h.calibrator.isFunction(e.onSuccess)?this.options.onSuccess=e.onSuccess:this.options.onSuccess=h.noop,h.calibrator.isFunction(e.onFailed)?this.options.onFailed=e.onFailed:this.options.onFailed=h.noop,h.calibrator.isFunction(e.onProgress)?this.options.onProgress=e.onProgress:this.options.onProgress=h.noop,!this.options.modules.includes(p.ModuleType.IM)||!h.calibrator.isEmpty(e.id)&&h.calibrator.isStringOrNumber(e.id)){var t="anonymous-"+Math.floor(1e5*Math.random()+1);this.options.id=e.id||t}else if(h.calibrator.isObject(e)&&h.calibrator.isFunction(e.onFailed))throw{code:400,content:"TypeError: id requires number or string."};if(h.calibrator.isDef(e.data)&&!h.calibrator.isObject(e.data))throw{code:400,content:"TypeError: data requires an object."};if((h.calibrator.isDef(e.data)?String(e.data).length:0)>300){if(h.calibrator.isObject(e)&&h.calibrator.isFunction(e.onFailed))throw{code:400,content:"user.data-length limit 300 byte."}}else this.options.data=e.data;h.calibrator.isDef(e.otp)&&(this.options.otp=e.otp)}},{key:"setUriAndOpts",value:function(e){var t="://"+h.GoEasyDomainNumber.refreshNumber()+e.host;if(h.env.isBrowserClient()){var n=void 0;!0===e.supportOldBrowser?(n=["polling","websocket"],e.forceTLS=!1):n=["websocket"],!1===e.forceTLS?e.uri="http"+t+":80":e.uri="https"+t+":443",e.opts={transports:n,timeout:c.SocketTimeout.connect}}else e.uri="https://wx-"+e.host+":443",e.opts={transports:["websocket"],reconnectionDelayMax:c.SocketTimeout.reconnectionDelayMax}}}],[{key:"getInstance",value:function(t){return null===e.instance&&(e.instance=new e(t)),e.instance}}]),e}();y.IM_EVENT=u.ImEventType,y.IM_SCENE=l.ConversationType,y.version="2.0.0",y.instance=null,t.default=y},function(e,t,n){e.exports={default:n(123),__esModule:!0}},function(e,t,n){n(124),e.exports=n(7).Object.values},function(e,t,n){var o=n(16),i=n(125)(!1);o(o.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){var o=n(18),i=n(31),r=n(24),s=n(38).f;e.exports=function(e){return function(t){for(var n,a=r(t),u=i(a),c=u.length,l=0,f=[];c>l;)n=u[l++],o&&!s.call(a,n)||f.push(e?[n,a[n]]:a[n]);return f}}},function(e,t,n){var o=n(24),i=n(82),r=n(127);e.exports=function(e){return function(t,n,s){var a,u=o(t),c=i(u.length),l=r(s,c);if(e&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var o=n(57),i=Math.max,r=Math.min;e.exports=function(e,t){return(e=o(e))<0?i(e+t,0):r(e,t)}},function(e,t,n){e.exports={default:n(129),__esModule:!0}},function(e,t,n){n(130);var o=n(7).Object;e.exports=function(e,t,n){return o.defineProperty(e,t,n)}},function(e,t,n){var o=n(16);o(o.S+o.F*!n(18),"Object",{defineProperty:n(22).f})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(0)),i=f(n(1)),r=f(n(132)),s=f(n(165)),a=f(n(166)),u=f(n(167)),c=f(n(169)),l=n(67);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){(0,o.default)(this,e),this.goEasySocket=null,this.publisher=null,this.subscriber=null,this.presence=null,this.histories=null,this.options=null,this.hereNows=null,this.neverConnect=!0,this.options=t}return(0,i.default)(e,[{key:"initialGoEasySocket",value:function(e){this.goEasySocket=e,this.subscriber.initialGoEasySocket(),this.presence.initialGoEasySocket()}},{key:"initialBeforeConnect",value:function(){this.neverConnect=!1,this.publisher=new a.default(this),this.subscriber=new u.default(this),this.histories=new r.default(this),this.presence=new c.default(this),this.hereNows=new s.default(this)}},{key:"validateOptions",value:function(){var e=this.options;if(!e.modules||!e.modules.includes(l.ModuleType.PUBSUB))throw Error("Invalid options: module '"+l.ModuleType.PUBSUB+"' is not enabled")}},{key:"publish",value:function(e){this.validateOptions(),this.publisher.publish(e)}},{key:"subscribe",value:function(e){this.validateOptions(),this.subscriber.subscribe(e)}},{key:"unsubscribe",value:function(e){this.validateOptions(),this.subscriber.unsubscribe(e)}},{key:"subscribePresence",value:function(e){this.validateOptions(),this.presence.subscribePresence(e)}},{key:"unsubscribePresence",value:function(e){this.validateOptions(),this.presence.unsubscribePresence(e)}},{key:"history",value:function(e){this.validateOptions(),this.histories.get(e)}},{key:"hereNow",value:function(e){this.validateOptions(),this.hereNows.byChannel(e)}},{key:"hereNowByUserIds",value:function(e){this.validateOptions(),this.hereNows.byUserId(e)}}]),e}();d.instance=null,t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(0)),i=l(n(1)),r=n(2),s=n(11),a=l(n(10)),u=l(n(8)),c=n(15);function l(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){(0,o.default)(this,e),this.pubSub=null,this.pubSub=t}return(0,i.default)(e,[{key:"get",value:function(e){if(r.calibrator.isFunction(e.onSuccess)||(e.onSuccess=r.noop),r.calibrator.isFunction(e.onFailed)||(e.onFailed=r.noop),r.calibrator.isDef(e.channel)){r.calibrator.isNumber(e.channel)&&(e.channel=e.channel.toString());var t=new a.default({name:s.EmitType.historyMessages,permission:u.default.READ,params:e,singleTimeout:c.SocketTimeout.commonQuerySingle,totalTimeout:c.SocketTimeout.commonQueryTotal,success:function(t){e.onSuccess({code:t.resultCode||t.code||200,content:t.content})},fail:function(t){e.onFailed({code:t.resultCode||t.code,content:t.content})}});this.pubSub.goEasySocket.emit(t)}else e.onFailed(res)}}]),e}();t.default=f},function(e,t,n){e.exports={default:n(134),__esModule:!0}},function(e,t,n){n(84),n(89),e.exports=n(62).f("iterator")},function(e,t,n){var o=n(57),i=n(56);e.exports=function(e){return function(t,n){var r,s,a=String(i(t)),u=o(n),c=a.length;return u<0||u>=c?e?"":void 0:(r=a.charCodeAt(u))<55296||r>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):r:e?a.slice(u,u+2):s-56320+(r-55296<<10)+65536}}},function(e,t,n){var o=n(61),i=n(45),r=n(47),s={};n(26)(s,n(14)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=o(s,{next:i(1,n)}),r(e,t+" Iterator")}},function(e,t,n){var o=n(22),i=n(19),r=n(31);e.exports=n(18)?Object.defineProperties:function(e,t){i(e);for(var n,s=r(t),a=s.length,u=0;a>u;)o.f(e,n=s[u++],t[n]);return e}},function(e,t,n){var o=n(139),i=n(140),r=n(39),s=n(24);e.exports=n(85)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),r.Arguments=r.Array,o("keys"),o("values"),o("entries")},function(e){e.exports=function(){}},function(e){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(142),__esModule:!0}},function(e,t,n){n(143),n(91),n(148),n(149),e.exports=n(7).Symbol},function(e,t,n){var o=n(13),i=n(27),r=n(18),s=n(16),a=n(86),u=n(144).KEY,c=n(30),l=n(59),f=n(47),d=n(46),h=n(14),p=n(62),m=n(63),y=n(145),g=n(146),v=n(19),_=n(23),b=n(40),w=n(24),C=n(55),S=n(45),k=n(61),E=n(147),M=n(65),P=n(64),T=n(22),O=n(31),R=M.f,F=T.f,N=E.f,A=o.Symbol,I=o.JSON,x=I&&I.stringify,B=h("_hidden"),G=h("toPrimitive"),D={}.propertyIsEnumerable,L=l("symbol-registry"),z=l("symbols"),j=l("op-symbols"),W=Object.prototype,H="function"==typeof A&&!!P.f,U=o.QObject,q=!U||!U.prototype||!U.prototype.findChild,J=r&&c(function(){return 7!=k(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(e,t,n){var o=R(W,t);o&&delete W[t],F(e,t,n),o&&e!==W&&F(W,t,o)}:F,Y=function(e){var t=z[e]=k(A.prototype);return t._k=e,t},V=H&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},Q=function e(t,n,o){return t===W&&e(j,n,o),v(t),n=C(n,!0),v(o),i(z,n)?(o.enumerable?(i(t,B)&&t[B][n]&&(t[B][n]=!1),o=k(o,{enumerable:S(0,!1)})):(i(t,B)||F(t,B,S(1,{})),t[B][n]=!0),J(t,n,o)):F(t,n,o)},K=function(e,t){v(e);for(var n,o=y(t=w(t)),i=0,r=o.length;r>i;)Q(e,n=o[i++],t[n]);return e},X=function(e){var t=D.call(this,e=C(e,!0));return!(this===W&&i(z,e)&&!i(j,e))&&(!(t||!i(this,e)||!i(z,e)||i(this,B)&&this[B][e])||t)},$=function(e,t){if(e=w(e),t=C(t,!0),e!==W||!i(z,t)||i(j,t)){var n=R(e,t);return!n||!i(z,t)||i(e,B)&&e[B][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=N(w(e)),o=[],r=0;n.length>r;)i(z,t=n[r++])||t==B||t==u||o.push(t);return o},ee=function(e){for(var t,n=e===W,o=N(n?j:w(e)),r=[],s=0;o.length>s;)!i(z,t=o[s++])||n&&!i(W,t)||r.push(z[t]);return r};H||(a((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function t(n){this===W&&t.call(j,n),i(this,B)&&i(this[B],e)&&(this[B][e]=!1),J(this,e,S(1,n))};return r&&q&&J(W,e,{configurable:!0,set:t}),Y(e)}).prototype,"toString",function(){return this._k}),M.f=$,T.f=Q,n(90).f=E.f=Z,n(38).f=X,P.f=ee,r&&!n(37)&&a(W,"propertyIsEnumerable",X,!0),p.f=function(e){return Y(h(e))}),s(s.G+s.W+s.F*!H,{Symbol:A});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)h(te[ne++]);for(var oe=O(h.store),ie=0;oe.length>ie;)m(oe[ie++]);s(s.S+s.F*!H,"Symbol",{for:function(e){return i(L,e+="")?L[e]:L[e]=A(e)},keyFor:function(e){if(!V(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){q=!0},useSimple:function(){q=!1}}),s(s.S+s.F*!H,"Object",{create:function(e,t){return void 0===t?k(e):K(k(e),t)},defineProperty:Q,defineProperties:K,getOwnPropertyDescriptor:$,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var re=c(function(){P.f(1)});s(s.S+s.F*re,"Object",{getOwnPropertySymbols:function(e){return P.f(b(e))}}),I&&s(s.S+s.F*(!H||c(function(){var e=A();return"[null]"!=x([e])||"{}"!=x({a:e})||"{}"!=x(Object(e))})),"JSON",{stringify:function(e){for(var t,n,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(n=t=o[1],(_(t)||void 0!==e)&&!V(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!V(t))return t}),o[1]=t,x.apply(I,o)}}),A.prototype[G]||n(26)(A.prototype,G,A.prototype.valueOf),f(A,"Symbol"),f(Math,"Math",!0),f(o.JSON,"JSON",!0)},function(e,t,n){var o=n(46)("meta"),i=n(23),r=n(27),s=n(22).f,a=0,u=Object.isExtensible||function(){return!0},c=!n(30)(function(){return u(Object.preventExtensions({}))}),l=function(e){s(e,o,{value:{i:"O"+ ++a,w:{}}})},f=e.exports={KEY:o,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,o)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[o].i},getWeak:function(e,t){if(!r(e,o)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[o].w},onFreeze:function(e){return c&&f.NEED&&u(e)&&!r(e,o)&&l(e),e}}},function(e,t,n){var o=n(31),i=n(64),r=n(38);e.exports=function(e){var t=o(e),n=i.f;if(n)for(var s,a=n(e),u=r.f,c=0;a.length>c;)u.call(e,s=a[c++])&&t.push(s);return t}},function(e,t,n){var o=n(36);e.exports=Array.isArray||function(e){return"Array"==o(e)}},function(e,t,n){var o=n(24),i=n(90).f,r={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==r.call(e)?function(e){try{return i(e)}catch(t){return s.slice()}}(e):i(o(e))}},function(e,t,n){n(63)("asyncIterator")},function(e,t,n){n(63)("observable")},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.UUID=void 0;var o=s(n(0)),i=s(n(1)),r=s(n(151));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){(0,o.default)(this,e)}return(0,i.default)(e,null,[{key:"get",value:function(){return(0,r.default)().replace(/-/g,"")}}]),e}();t.UUID=a},function(e,t,n){var o,i,r=n(152),s=n(153),a=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||o,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var h=r();null==f&&(f=o=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:u+1,y=p-a+(m-u)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||p>a)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,u=m,i=d;var g=(1e4*(268435455&(p+=122192928e5))+m)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var v=p/4294967296*1e4&268435455;l[c++]=v>>>8&255,l[c++]=255&v,l[c++]=v>>>24&15|16,l[c++]=v>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var _=0;_<6;++_)l[c+_]=f[_];return t||s(l)}},function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var o=n||0,i=t;return[i[e[o++]],i[e[o++]],i[e[o++]],i[e[o++]],"-",i[e[o++]],i[e[o++]],"-",i[e[o++]],i[e[o++]],"-",i[e[o++]],i[e[o++]],"-",i[e[o++]],i[e[o++]],i[e[o++]],i[e[o++]],i[e[o++]],i[e[o++]]].join("")}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.goEasyArray=void 0;var o=u(n(3)),i=u(n(0)),r=u(n(1)),s=u(n(4)),a=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var c=new(function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,a.default)(t,e),(0,r.default)(t,[{key:"deleteByKey",value:function(e,t,n){var o=e.findIndex(function(e){return e[t]==n});o>-1&&e.splice(o,1)}},{key:"unshiftGuid",value:function(e){var t=!1,n=this.findIndex(function(t){return t==e});for(n>-1&&(t=!0,this.splice(n,1)),this.unshift(e);this.length>300;)this.pop();return t}}]),t}(Array));t.goEasyArray=c},function(e,t,n){n(156),e.exports=n(7).Object.getPrototypeOf},function(e,t,n){var o=n(40),i=n(88);n(66)("getPrototypeOf",function(){return function(e){return i(o(e))}})},function(e,t,n){e.exports={default:n(158),__esModule:!0}},function(e,t,n){n(159),e.exports=n(7).Object.setPrototypeOf},function(e,t,n){var o=n(16);o(o.S,"Object",{setPrototypeOf:n(160).set})},function(e,t,n){var o=n(23),i=n(19),r=function(e,t){if(i(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,o){try{(o=n(35)(Function.call,n(65).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function(e,n){return r(e,n),t?e.__proto__=n:o(e,n),e}}({},!1):void 0),check:r}},function(e,t,n){n(162);var o=n(7).Object;e.exports=function(e,t){return o.create(e,t)}},function(e,t,n){var o=n(16);o(o.S,"Object",{create:n(61)})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.storage=void 0;var o=r(n(0)),i=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}var s=new(function(){function e(){(0,o.default)(this,e)}return(0,i.default)(e,[{key:"getCookie",value:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null}},{key:"getData",value:function(e){return window.localStorage?window.localStorage.getItem(e):this.getCookie(e)}},{key:"setCookie",value:function(e,t){var n=new Date;n.setTime(n.getTime()+2592e6),document.cookie=e+"="+escape(t)+";expires="+n.toGMTString()}},{key:"setData",value:function(e,t){window.localStorage?window.localStorage.setItem(e,t):this.setCookie(e,t)}}]),e}());t.storage=s},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={maxNumber:5}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(0)),i=l(n(1)),r=n(2),s=n(11),a=l(n(10)),u=l(n(8)),c=n(15);function l(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){(0,o.default)(this,e),this.pubSub=null,this.pubSub=t}return(0,i.default)(e,[{key:"byChannel",value:function(e){var t={channels:[],includeUsers:!1,distinct:!1};if(r.calibrator.isFunction(e.onSuccess)||(e.onSuccess=r.noop),r.calibrator.isFunction(e.onFailed)||(e.onFailed=r.noop),Array.isArray(e.channels))for(var n=0;n<e.channels.length;n++){var o=e.channels[n];r.calibrator.isNumber(o)&&(o=o.toString()),t.channels.push(o)}if(0!=t.channels.length){1==e.includeUsers&&(t.includeUsers=!0),1==e.distinct&&(t.distinct=!0);var i=new a.default({name:s.EmitType.hereNow,permission:u.default.READ,params:t,singleTimeout:c.SocketTimeout.commonQuerySingle,totalTimeout:c.SocketTimeout.commonQueryTotal,success:function(t){var n=t.content,o=n.channels;for(var i in o)if(o.hasOwnProperty(i)){var r=o[i];r.users=r.users.map(function(e){return e.data=JSON.parse(e.data),e})}e.onSuccess({code:t.resultCode||t.code||200,content:n})},fail:function(t){e.onFailed({code:t.resultCode||t.code||200,content:t.content})}});this.pubSub.goEasySocket.emit(i)}else e.onFailed({code:408,content:"channels is required."})}},{key:"byUserId",value:function(e){var t={userIds:[],distinct:!0};if(r.calibrator.isFunction(e.onSuccess)||(e.onSuccess=r.noop),r.calibrator.isFunction(e.onFailed)||(e.onFailed=r.noop),r.calibrator.isDef(e.userIds)&&(t.userIds=e.userIds),0==e.distinct&&(t.distinct=!1),0===t.userIds.length)e.onFailed({code:400,content:"userIds is required"});else if(t.userIds.length>500)e.onFailed({code:400,content:"userIds is over max length 500"});else{var n=new a.default({name:s.EmitType.hereNowByUserIds,permission:u.default.READ,params:t,singleTimeout:c.SocketTimeout.commonQuerySingle,totalTimeout:c.SocketTimeout.commonQueryTotal,success:function(t){var n=t.content;n=n.map(function(e){var t={};return t.id=e.userId,t.data=e.userData?JSON.parse(e.userData):{},t}),e.onSuccess({code:t.resultCode||t.code||200,content:n})},fail:function(t){e.onFailed({code:t.resultCode||t.code||200,content:t.content})}});this.pubSub.goEasySocket.emit(n)}}}]),e}();t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(0)),i=l(n(1)),r=n(2),s=l(n(10)),a=n(11),u=l(n(8)),c=n(15);function l(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){(0,o.default)(this,e),this.pubSub=null,this.pubSub=t}return(0,i.default)(e,[{key:"publish",value:function(e){if(r.calibrator.isFunction(e.onFailed)||(e.onFailed=r.noop),r.calibrator.isFunction(e.onSuccess)||(e.onSuccess=r.noop),r.calibrator.isEmpty(e.channel))throw{code:400,content:"channel is required."};if(r.calibrator.isNumber(e.channel)&&(e.channel=e.channel.toString()),r.calibrator.isEmpty(e.message))throw{code:400,content:"message is required."};if(r.calibrator.isNumber(e.message)&&(e.message=e.message.toString()),!r.calibrator.isString(e.message))throw{code:400,content:"TypeError: message requires string."};if(r.calibrator.isObject(e.notification)){if(r.calibrator.isEmpty(e.notification.title))throw{code:400,content:"notification.title is required."};if(!r.calibrator.isString(e.notification.title))throw{code:400,content:"TypeError: notification.title requires string."};if(e.notification.title.length>32)throw{code:400,content:"TypeError: notification.title over max length 32."};if(r.calibrator.isEmpty(e.notification.body))throw{code:400,content:"notification.body is required."};if(!r.calibrator.isString(e.notification.body))throw{code:400,content:"TypeError: notification.body must be string."};if(e.notification.body.length>50)throw{code:400,content:"notification.body over max length 50."}}else if(r.calibrator.isPrimitive(e.notification))throw{code:400,content:"TypeError: notification requires an object."};var t={channel:e.channel,content:e.message,nt:e.notification,guid:r.UUID.get()},n=new s.default({name:a.EmitType.publish,params:t,singleTimeout:c.SocketTimeout.commonRequestSingle,totalTimeout:c.SocketTimeout.commonRequestTotal,permission:u.default.WRITE,success:function(){e.onSuccess({code:200,content:"ok"})},fail:function(t){e.onFailed({code:t.resultCode,content:t.content})}});this.pubSub.goEasySocket.emit(n)}}]),e}();t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=h(n(0)),i=h(n(1)),r=n(2),s=h(n(10)),a=n(11),u=h(n(8)),c=h(n(168)),l=h(n(41)),f=n(15),d=h(n(28));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t){(0,o.default)(this,e),this.subscriptions=[],this.pubSub=null,this.pubSub=t}return(0,i.default)(e,[{key:"initialGoEasySocket",value:function(){var e=this.pubSub.goEasySocket;e.addMessageObserver(l.default.message,this.onNewMessage.bind(this)),e.addExpiredReconnectedObserver(this.onExpiredReconnected.bind(this)),e.addConnectedObserver(this.onReconnected.bind(this))}},{key:"resubscribe",value:function(){var e=this.subscriptions.slice(0);this.subscriptions=[];for(var t=0;t<e.length;t++)0!=e[t].channels.length&&this.subscribe(e[t])}},{key:"onExpiredReconnected",value:function(){this.resubscribe()}},{key:"onReconnected",value:function(){this.pubSub.neverConnect||this.pubSub.goEasySocket.status==d.default.RECONNECTED||this.resubscribe()}},{key:"onNewMessage",value:function(e){if(!(e.n.indexOf("_presence")>-1)){e.a&&this.pubSub.goEasySocket.sendAck("ack",{publishGuid:e.i});var t={time:e.t,channel:e.n,content:e.c};this.findSubscriptionByChannel(t.channel).onMessage(t)}}},{key:"formatOptions",value:function(e){var t=!r.calibrator.isEmpty(e.channel),n=!r.calibrator.isEmpty(e.channels);if(this.formatCallback(e),r.calibrator.isFunction(e.onMessage)||(e.onMessage=r.noop),!t&&!n)return e.onFailed({code:400,content:"channel is required"}),!1;if(!t||!n){if(t&&(r.calibrator.isNumber(e.channel)&&(e.channel=e.channel.toString()),e.channels=[e.channel]),n){if(!Array.isArray(e.channels)||0==e.channels.length)return void e.onFailed({code:400,content:"channels must be an array"});if(e.channels.length>500)return e.onFailed({code:400,content:"channels over max length:500"}),!1;for(var o=0,i=e.channels.length;o<i;o++)if(r.calibrator.isNumber(e.channels[o])&&(e.channels[o]=e.channels[o].toString()),r.calibrator.isEmpty(e.channels[o]))return e.onFailed({code:400,content:"Channels array contains empty channel"}),!1}return!0}e.onFailed({code:400,content:"subscribe to either channel or channels, not both"})}},{key:"formatCallback",value:function(e){r.calibrator.isFunction(e.onSuccess)||(e.onSuccess=r.noop),r.calibrator.isFunction(e.onFailed)||(e.onFailed=r.noop)}},{key:"subscribe",value:function(e){var t=this;if(this.formatOptions(e)){var n=new s.default({name:a.EmitType.subscribe,permission:u.default.READ,singleTimeout:f.SocketTimeout.commonInfiniteSingle,totalTimeout:f.SocketTimeout.commonInfiniteTotal,params:{channels:e.channels},success:function(){var n=new c.default({channels:e.channels,onSuccess:e.onSuccess,onFailed:e.onFailed,onMessage:e.onMessage});t.subscriptions.push(n),e.onSuccess({code:200,content:"ok"})},fail:function(t){e.onFailed({code:t.resultCode,content:t.content})}});this.pubSub.goEasySocket.emit(n)}}},{key:"unsubscribe",value:function(e){var t=this;if(this.formatCallback(e),r.calibrator.isDef(e.channel))if(r.calibrator.isNumber(e.channel)&&(e.channel=e.channel.toString()),this.findSubscriptionByChannel(e.channel)){var n=new s.default({name:a.EmitType.unsubscribe,params:{channel:e.channel},permission:u.default.READ,singleTimeout:f.SocketTimeout.commonRequestSingle,totalTimeout:f.SocketTimeout.commonRequestTotal,success:function(){e.onSuccess({code:200,content:"ok"}),t.removeChannel(e.channel)},fail:function(t){e.onFailed({code:t.resultCode,content:t.content})}});this.pubSub.goEasySocket.emit(n)}else e.onFailed({code:400,content:"channel["+e.channel+"] is not subscribed"});else e.onFailed({code:400,content:"channel is required"})}},{key:"removeChannel",value:function(e){for(var t=0;t<this.subscriptions.length;t++)for(var n=this.subscriptions[t].channels,o=0;o<n.length;o++)if(n[o]==e){this.subscriptions[t].channels.splice(o,1);break}}},{key:"findSubscriptionByChannel",value:function(e){for(var t=!1,n=null,o=this.subscriptions.length-1;o>=0;o--){for(var i=this.subscriptions[o].channels,r=0;r<i.length;r++)if(i[r]==e){t=!0,n=this.subscriptions[o];break}if(t)break}return n}}]),e}();t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),i=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){(0,o.default)(this,e),this.channels=[],this.onSuccess=null,this.onFailed=null,this.onMessage=null,this.channels=t.channels,this.onSuccess=t.onSuccess,this.onFailed=t.onFailed,this.onMessage=t.onMessage}return(0,i.default)(e,[{key:"empty",value:function(){}}]),e}();t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=h(n(0)),i=h(n(1)),r=n(2),s=h(n(10)),a=n(11),u=h(n(8)),c=n(15),l=h(n(41)),f=h(n(170)),d=h(n(28));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t){(0,o.default)(this,e),this.presenters=[],this.pubSub=null,this.pubSub=t}return(0,i.default)(e,[{key:"initialGoEasySocket",value:function(){var e=this.pubSub.goEasySocket;e.addMessageObserver(l.default.message,this.onNewMessage.bind(this)),e.addExpiredReconnectedObserver(this.onExpiredReconnected.bind(this)),e.addConnectedObserver(this.onReconnected.bind(this))}},{key:"resubscribe",value:function(){var e=this.presenters.slice(0);this.presenters=[];for(var t=0;t<e.length;t++){for(var n=0;n<e[t].channels.length;n++){var o=e[t].channels[n].split("_presence");e[t].channels[n]=o[0]}0!=e[t].channels.length&&this.subscribePresence(e[t])}}},{key:"onExpiredReconnected",value:function(){this.resubscribe()}},{key:"onReconnected",value:function(){this.pubSub.neverConnect||this.pubSub.goEasySocket.status==d.default.RECONNECTED||this.resubscribe()}},{key:"onNewMessage",value:function(e){if(-1!=e.n.indexOf("_presence")){var t=this.findPresenceByChannel(e.n);if(t){var n=JSON.parse(e.c);n.events=n.events.map(function(e){var t=e.userData?JSON.parse(e.userData):{};return{time:e.time,action:e.action,id:e.userId,data:t}}),t.onPresence(n)}}}},{key:"formatOptions",value:function(e){var t=!r.calibrator.isEmpty(e.channel),n=!r.calibrator.isEmpty(e.channels);if(this.formatCallback(e),r.calibrator.isFunction(e.onPresence)||(e.onPresence=r.noop),!t&&!n)return e.onFailed({code:400,content:"channel is required"}),!1;if(!t||!n){if(t&&(r.calibrator.isNumber(e.channel)&&(e.channel=e.channel.toString()),e.channels=[e.channel]),n){if(!Array.isArray(e.channels)||0==e.channels.length)return void e.onFailed({code:400,content:"channels must be an array"});if(e.channels.length>500)return e.onFailed({code:400,content:"channels over max length:500"}),!1;for(var o=0,i=e.channels.length;o<i;o++)if(r.calibrator.isNumber(e.channels[o])&&(e.channels[o]=e.channels[o].toString()),r.calibrator.isEmpty(e.channels[o]))return e.onFailed({code:400,content:"Channels array contains empty channel"}),!1}return!0}e.onFailed({code:400,content:"subscribe to either channel or channels, not both"})}},{key:"formatCallback",value:function(e){r.calibrator.isFunction(e.onSuccess)||(e.onSuccess=r.noop),r.calibrator.isFunction(e.onFailed)||(e.onFailed=r.noop)}},{key:"subscribePresence",value:function(e){var t=this;if(this.formatOptions(e)){Array.isArray(e.channels)&&(e.channels=e.channels.map(function(e){return e+"_presence"}));var n=new s.default({name:a.EmitType.subscribe,permission:u.default.READ,singleTimeout:c.SocketTimeout.commonInfiniteSingle,totalTimeout:c.SocketTimeout.commonInfiniteTotal,params:{channels:e.channels},success:function(){var n=new f.default({channels:e.channels,onSuccess:e.onSuccess,onFailed:e.onFailed,onPresence:e.onPresence});t.presenters.push(n),e.onSuccess({code:200,content:"ok"})},fail:function(t){e.onFailed({code:t.resultCode,content:t.content})}});this.pubSub.goEasySocket.emit(n)}}},{key:"unsubscribePresence",value:function(e){var t=this;if(this.formatCallback(e),r.calibrator.isDef(e.channel))if(e.channel+="_presence",this.findPresenceByChannel(e.channel)){var n=new s.default({name:a.EmitType.unsubscribe,params:{channel:e.channel},permission:u.default.READ,singleTimeout:c.SocketTimeout.commonRequestSingle,totalTimeout:c.SocketTimeout.commonRequestTotal,success:function(){e.onSuccess({code:200,content:"ok"}),t.removeChannel(e.channel)},fail:function(t){e.onFailed({code:t.resultCode,content:t.content})}});this.pubSub.goEasySocket.emit(n)}else e.onFailed({code:400,content:"channel["+e.channel+"] is not subscribed"});else e.onFailed({code:400,content:"channel is required"})}},{key:"removeChannel",value:function(e){for(var t=0;t<this.presenters.length;t++)for(var n=this.presenters[t].channels,o=0;o<n.length;o++)if(n[o]==e){this.presenters[t].channels.splice(o,1);break}}},{key:"findPresenceByChannel",value:function(e){for(var t=!1,n=null,o=this.presenters.length-1;o>=0;o--){for(var i=this.presenters[o].channels,r=0;r<i.length;r++)if(i[r]==e){t=!0,n=this.presenters[o];break}if(t)break}return n}}]),e}();t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),i=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){(0,o.default)(this,e),this.channels=[],this.onSuccess=null,this.onFailed=null,this.onPresence=null,this.channels=t.channels,this.onSuccess=t.onSuccess,this.onFailed=t.onFailed,this.onPresence=t.onPresence}return(0,i.default)(e,[{key:"empty",value:function(){}}]),e}();t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(94)),i=c(n(0)),r=c(n(1)),s=c(n(42)),a=n(2),u=n(67);function c(e){return e&&e.__esModule?e:{default:e}}var l=null,f=function(){function e(t){(0,i.default)(this,e),this.options=null,this.options=t,l=new s.default}return(0,r.default)(e,[{key:"initialBeforeConnect",value:function(e){l.initialBeforeConnect(e)}},{key:"initialAfterConnect",value:function(){l.initialAfterConnect()}},{key:"initialGoEasySocket",value:function(e){l.initialGoEasySocket(e)}},{key:"validateOptions",value:function(){var e=this.options;if(!e.modules||!e.modules.includes(u.ModuleType.IM))throw Error("Invalid options: module '"+u.ModuleType.IM+"' is not enabled")}},{key:"validateMessageToData",value:function(e){if(!a.calibrator.isObject(e.to))throw{code:400,content:"TypeError: to requires an object."};if(!a.calibrator.isObject(e.to.data))throw{code:400,content:"TypeError: to.data requires an object."}}},{key:"on",value:function(e,t){this.validateOptions(),l.on(e,t)}},{key:"createTextMessage",value:function(e){if(this.validateOptions(),this.validateMessageToData(e),!a.calibrator.isString(e.text))throw{code:400,content:"TypeError: text requires string."};return l.createTextMessage(e)}},{key:"createImageMessage",value:function(e){return this.validateOptions(),this.validateMessageToData(e),l.createImageMessage(e)}},{key:"createFileMessage",value:function(e){return this.validateOptions(),this.validateMessageToData(e),l.createFileMessage(e)}},{key:"createAudioMessage",value:function(e){return this.validateOptions(),this.validateMessageToData(e),l.createAudioMessage(e)}},{key:"createVideoMessage",value:function(e){return this.validateOptions(),this.validateMessageToData(e),l.createVideoMessage(e)}},{key:"createCustomMessage",value:function(e){if(this.validateOptions(),this.validateMessageToData(e),!a.calibrator.isObject(e.payload))throw{code:400,content:"TypeError: payload requires an object."};return l.createCustomMessage(e)}},{key:"latestConversations",value:function(e){this.validateOptions(),l.latestConversations().then(function(t){a.calibrator.isFunction(e.onSuccess)&&e.onSuccess(t)}).catch(function(t){a.calibrator.isFunction(e.onFailed)&&e.onFailed(t)})}},{key:"removePrivateConversation",value:function(e){this.validateOptions(),l.removePrivateConversation(e.userId).then(function(){a.calibrator.isFunction(e.onSuccess)&&e.onSuccess()}).catch(function(t){a.calibrator.isFunction(e.onFailed)&&e.onFailed(t)})}},{key:"removeGroupConversation",value:function(e){this.validateOptions(),l.removeGroupConversation(e.groupId).then(function(){a.calibrator.isFunction(e.onSuccess)&&e.onSuccess()}).catch(function(t){a.calibrator.isFunction(e.onFailed)&&e.onFailed(t)})}},{key:"history",value:function(e){this.validateOptions();var t=(0,o.default)(e,{friendId:e.userId});l.history(t).then(function(t){a.calibrator.isFunction(e.onSuccess)&&e.onSuccess(t)}).catch(function(t){a.calibrator.isFunction(e.onFailed)&&e.onFailed(t)})}},{key:"upload",value:function(e){this.validateOptions(),l.upload(e.file,e.name,e.onProgress).then(function(t){a.calibrator.isFunction(e.onSuccess)&&e.onSuccess(t)}).catch(function(t){a.calibrator.isFunction(e.onFailed)&&e.onFailed(t)})}},{key:"sendMessage",value:function(e){this.validateOptions(),l.sendMessage(e.message).then(function(t){a.calibrator.isFunction(e.onSuccess)&&e.onSuccess(t)}).catch(function(t){a.calibrator.isFunction(e.onFailed)&&e.onFailed(t)})}},{key:"markGroupMessageAsRead",value:function(e){this.validateOptions(),l.groupMarkAsRead(e.groupId,e.timestamp).then(function(t){a.calibrator.isFunction(e.onSuccess)&&e.onSuccess(t)}).catch(function(t){a.calibrator.isFunction(e.onFailed)&&e.onFailed(t)})}},{key:"markPrivateMessageAsRead",value:function(e){this.validateOptions(),l.privateMarkAsRead(e.userId,e.timestamp).then(function(){a.calibrator.isFunction(e.onSuccess)&&e.onSuccess()}).catch(function(t){a.calibrator.isFunction(e.onFailed)&&e.onFailed(t)})}},{key:"topPrivateConversation",value:function(e){this.validateOptions(),l.topPrivateConversation(e.userId,e.top).then(function(){a.calibrator.isFunction(e.onSuccess)&&e.onSuccess()}).catch(function(t){a.calibrator.isFunction(e.onFailed)&&e.onFailed(t)})}},{key:"topGroupConversation",value:function(e){this.validateOptions(),l.topGroupConversation(e.groupId,e.top).then(function(){a.calibrator.isFunction(e.onSuccess)&&e.onSuccess()}).catch(function(t){a.calibrator.isFunction(e.onFailed)&&e.onFailed(t)})}},{key:"subscribeUserPresence",value:function(e){this.validateOptions(),l.subscribeUserPresence(e.userIds).then(function(t){a.calibrator.isFunction(e.onSuccess)&&e.onSuccess(t)}).catch(function(t){a.calibrator.isFunction(e.onFailed)&&e.onFailed(t)})}},{key:"unsubscribeUserPresence",value:function(e){this.validateOptions(),l.unsubscribeUserPresence(e.userId).then(function(t){a.calibrator.isFunction(e.onSuccess)&&e.onSuccess(t)}).catch(function(t){a.calibrator.isFunction(e.onFailed)&&e.onFailed(t)})}},{key:"hereNow",value:function(e){this.validateOptions(),l.hereNow(e).then(function(t){a.calibrator.isFunction(e.onSuccess)&&e.onSuccess(t)}).catch(function(t){a.calibrator.isFunction(e.onFailed)&&e.onFailed(t)})}},{key:"subscribeGroup",value:function(e){this.validateOptions(),l.subscribeGroup(e.groupIds).then(function(t){a.calibrator.isFunction(e.onSuccess)&&e.onSuccess(t)}).catch(function(t){a.calibrator.isFunction(e.onFailed)&&e.onFailed(t)})}},{key:"unsubscribeGroup",value:function(e){this.validateOptions(),l.unsubscribeGroup(e.groupId).then(function(t){a.calibrator.isFunction(e.onSuccess)&&e.onSuccess(t)}).catch(function(t){a.calibrator.isFunction(e.onFailed)&&e.onFailed(t)})}},{key:"subscribeGroupPresence",value:function(e){this.validateOptions(),l.subscribeGroupPresence(e.groupIds).then(function(t){a.calibrator.isFunction(e.onSuccess)&&e.onSuccess(t)}).catch(function(t){a.calibrator.isFunction(e.onFailed)&&e.onFailed(t)})}},{key:"unsubscribeGroupPresence",value:function(e){this.validateOptions(),l.unsubscribeGroupPresence(e.groupId).then(function(t){a.calibrator.isFunction(e.onSuccess)&&e.onSuccess(t)}).catch(function(t){a.calibrator.isFunction(e.onFailed)&&e.onFailed(t)})}},{key:"groupHereNow",value:function(e){this.validateOptions(),l.groupHereNow(e.groupId).then(function(t){a.calibrator.isFunction(e.onSuccess)&&e.onSuccess(t)}).catch(function(t){a.calibrator.isFunction(e.onFailed)&&e.onFailed(t)})}},{key:"groupOnlineCount",value:function(e){this.validateOptions(),l.groupOnlineCount(e.groupId).then(function(t){a.calibrator.isFunction(e.onSuccess)&&e.onSuccess(t)}).catch(function(t){a.calibrator.isFunction(e.onFailed)&&e.onFailed(t)})}}]),e}();t.default=f},function(e,t,n){n(173),e.exports=n(7).Object.assign},function(e,t,n){var o=n(16);o(o.S+o.F,"Object",{assign:n(174)})},function(e,t,n){var o=n(18),i=n(31),r=n(64),s=n(38),a=n(40),u=n(81),c=Object.assign;e.exports=!c||n(30)(function(){var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=o})?function(e,t){for(var n=a(e),c=arguments.length,l=1,f=r.f,d=s.f;c>l;)for(var h,p=u(arguments[l++]),m=f?i(p).concat(f(p)):i(p),y=m.length,g=0;y>g;)h=m[g++],o&&!d.call(p,h)||(n[h]=p[h]);return n}:c},function(e,t,n){n(91),n(84),n(89),n(176),n(188),n(189),e.exports=n(7).Promise},function(e,t,n){var o,i,r,s,a=n(37),u=n(13),c=n(35),l=n(95),f=n(16),d=n(23),h=n(44),p=n(177),m=n(178),y=n(96),g=n(97).set,v=n(183)(),_=n(68),b=n(98),w=n(184),C=n(99),S=u.TypeError,k=u.process,E=k&&k.versions,M=E&&E.v8||"",P=u.Promise,T="process"==l(k),O=function(){},R=i=_.f,F=!!function(){try{var e=P.resolve(1),t=(e.constructor={})[n(14)("species")]=function(e){e(O,O)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(O)instanceof t&&0!==M.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(o){}}(),N=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},A=function(e,t){if(!e._n){e._n=!0;var n=e._c;v(function(){for(var o=e._v,i=1==e._s,r=0,s=function(t){var n,r,s,a=i?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{a?(i||(2==e._h&&B(e),e._h=1),!0===a?n=o:(l&&l.enter(),n=a(o),l&&(l.exit(),s=!0)),n===t.promise?c(S("Promise-chain cycle")):(r=N(n))?r.call(n,u,c):u(n)):c(o)}catch(f){l&&!s&&l.exit(),c(f)}};n.length>r;)s(n[r++]);e._c=[],e._n=!1,t&&!e._h&&I(e)})}},I=function(e){g.call(u,function(){var t,n,o,i=e._v,r=x(e);if(r&&(t=b(function(){T?k.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(o=u.console)&&o.error&&o.error("Unhandled promise rejection",i)}),e._h=T||x(e)?2:1),e._a=void 0,r&&t.e)throw t.v})},x=function(e){return 1!==e._h&&0===(e._a||e._c).length},B=function(e){g.call(u,function(){var t;T?k.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},G=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),A(t,!0))},D=function e(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw S("Promise can't be resolved itself");(n=N(t))?v(function(){var o={_w:r,_d:!1};try{n.call(t,c(e,o,1),c(G,o,1))}catch(i){G.call(o,i)}}):(r._v=t,r._s=1,A(r,!1))}catch(o){G.call({_w:r,_d:!1},o)}}};F||(P=function(e){p(this,P,"Promise","_h"),h(e),o.call(this);try{e(c(D,this,1),c(G,this,1))}catch(t){G.call(this,t)}},(o=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(185)(P.prototype,{then:function(e,t){var n=R(y(this,P));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=T?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new o;this.promise=e,this.resolve=c(D,e,1),this.reject=c(G,e,1)},_.f=R=function(e){return e===P||e===s?new r(e):i(e)}),f(f.G+f.W+f.F*!F,{Promise:P}),n(47)(P,"Promise"),n(186)("Promise"),s=n(7).Promise,f(f.S+f.F*!F,"Promise",{reject:function(e){var t=R(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(a||!F),"Promise",{resolve:function(e){return C(a&&this===s?P:this,e)}}),f(f.S+f.F*!(F&&n(187)(function(e){P.all(e).catch(O)})),"Promise",{all:function(e){var t=this,n=R(t),o=n.resolve,i=n.reject,r=b(function(){var n=[],r=0,s=1;m(e,!1,function(e){var a=r++,u=!1;n.push(void 0),s++,t.resolve(e).then(function(e){u||(u=!0,n[a]=e,--s||o(n))},i)}),--s||o(n)});return r.e&&i(r.v),n.promise},race:function(e){var t=this,n=R(t),o=n.reject,i=b(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,o)})});return i.e&&o(i.v),n.promise}})},function(e){e.exports=function(e,t,n,o){if(!(e instanceof t)||void 0!==o&&o in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var o=n(35),i=n(179),r=n(180),s=n(19),a=n(82),u=n(181),c={},l={};(t=e.exports=function(e,t,n,f,d){var h,p,m,y,g=d?function(){return e}:u(e),v=o(n,f,t?2:1),_=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(r(g)){for(h=a(e.length);h>_;_++)if((y=t?v(s(p=e[_])[0],p[1]):v(e[_]))===c||y===l)return y}else for(m=g.call(e);!(p=m.next()).done;)if((y=i(m,v,p.value,t))===c||y===l)return y}).BREAK=c,t.RETURN=l},function(e,t,n){var o=n(19);e.exports=function(e,t,n,i){try{return i?t(o(n)[0],n[1]):t(n)}catch(s){var r=e.return;throw void 0!==r&&o(r.call(e)),s}}},function(e,t,n){var o=n(39),i=n(14)("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||r[i]===e)}},function(e,t,n){var o=n(95),i=n(14)("iterator"),r=n(39);e.exports=n(7).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||r[o(e)]}},function(e){e.exports=function(e,t,n){var o=void 0===n;switch(t.length){case 0:return o?e():e.call(n);case 1:return o?e(t[0]):e.call(n,t[0]);case 2:return o?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var o=n(13),i=n(97).set,r=o.MutationObserver||o.WebKitMutationObserver,s=o.process,a=o.Promise,u="process"==n(36)(s);e.exports=function(){var e,t,n,c=function(){var o,i;for(u&&(o=s.domain)&&o.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,o&&o.enter()};if(u)n=function(){s.nextTick(c)};else if(!r||o.navigator&&o.navigator.standalone)if(a&&a.resolve){var l=a.resolve(void 0);n=function(){l.then(c)}}else n=function(){i.call(o,c)};else{var f=!0,d=document.createTextNode("");new r(c).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(o){var i={fn:o,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var o=n(13).navigator;e.exports=o&&o.userAgent||""},function(e,t,n){var o=n(26);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:o(e,i,t[i]);return e}},function(e,t,n){var o=n(13),i=n(7),r=n(22),s=n(18),a=n(14)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:o[e];s&&t&&!t[a]&&r.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var o=n(14)("iterator"),i=!1;try{var r=[7][o]();r.return=function(){i=!0},Array.from(r,function(){throw 2})}catch(s){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var r=[7],a=r[o]();a.next=function(){return{done:n=!0}},r[o]=function(){return a},e(r)}catch(s){}return n}},function(e,t,n){var o=n(16),i=n(7),r=n(13),s=n(96),a=n(99);o(o.P+o.R,"Promise",{finally:function(e){var t=s(this,i.Promise||r.Promise),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then(function(){return n})}:e,n?function(n){return a(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){var o=n(16),i=n(68),r=n(98);o(o.S,"Promise",{try:function(e){var t=i.f(this),n=r(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.eventCenter=void 0;var o=u(n(21)),i=u(n(0)),r=u(n(1)),s=n(100),a=n(2);function u(e){return e&&e.__esModule?e:{default:e}}var c=new(function(){function e(){(0,i.default)(this,e),this.subs=null,this.subs=(0,o.default)(null)}return(0,r.default)(e,[{key:"on",value:function(e,t){if(!a.calibrator.isString(e))throw Error("eventType require a string.");if(!a.calibrator.isDef(s.ImEventType[e]))throw Error("event not found.");if(!a.calibrator.isFunction(t))throw Error("event require a callback.");this.subs[e]=t}},{key:"notify",value:function(e,t){var n=this.subs[e];n&&n(t)}}]),e}());t.eventCenter=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Conversations=void 0;var o=v(n(6)),i=v(n(94)),r=v(n(0)),s=v(n(1)),a=n(101),u=v(n(42)),c=n(29),l=n(69),f=v(n(10)),d=v(n(8)),h=n(32),p=n(11),m=n(2),y=v(n(48)),g=v(n(49));function v(e){return e&&e.__esModule?e:{default:e}}t.Conversations=function(){function e(t){(0,r.default)(this,e),this.im=null,this.list=[],this.synchronized=!1,this.im=t,t._iMReceiver.addIMMessageObserver(this.updateByInMessage.bind(this))}return(0,s.default)(e,[{key:"onUpdated",value:function(){var e=this;this.latestConversations().then(function(){e.im._event.notify(c.ImEventType.CONVERSATIONS_UPDATED,{unreadTotal:e.getUnreadTotal(e.list),conversations:e.list.slice(0)})})}},{key:"latestConversations",value:function(){return this.synchronized?this.loadLocalConversations():this.loadServerConversations()}},{key:"updateByInMessage",value:function(e){var t,n=this;t=e.t==l.ConversationType.GROUP?e.r:u.default.userId==e.r?e.s:e.r;var o=this.list.findIndex(function(n){return e.t==l.ConversationType.GROUP&&t==n.groupId||e.t==l.ConversationType.PRIVATE&&t==n.userId}),i=void 0;function r(e){e.type===l.ConversationType.PRIVATE&&(u.default.userId===e.lastMessage.senderId?e.lastMessage.senderData=u.default.userData:e.lastMessage.senderData=e.data)}o>-1?(i=this.list[o],this.list.splice(o,1),i.lc<e.ts&&(i.lastMessage=y.default.assemble(e),i.lm=e.ts),u.default.userId!=e.senderId&&(i.unread+=1),r(i),this.insertOne(i),this.onUpdated()):(i=a.Conversion.buildByInMessage(e),u.default.userId!=e.senderId&&(i.unread+=1),this.insertOne(i),this.im._dataCache.loadData(t,e.t).then(function(e){i.data=e,r(i),n.onUpdated()}).catch(function(){e.t}))}},{key:"updateByOutMessage",value:function(e,t,n,o){var r={};(0,i.default)(r,e),delete r.file;var s=this.list.findIndex(function(e){return e.type==l.ConversationType.GROUP&&n==e.groupId||e.type==l.ConversationType.PRIVATE&&n==e.userId}),c=void 0;s>-1?(c=this.list[s],this.list.splice(s,1),c.unread=0,c.lc=c.lm,c.lastMessage=r,e.status===g.default.success&&(c.lc=e.timestamp,c.lm=e.timestamp)):c=a.Conversion.buildByOutMessage(r,t,n,o),c.data=o;var f=this.im._dataCache;t===l.ConversationType.GROUP?f.putGroupData(c.groupId,o):(f.putUserData(c.userId,o),c.lastMessage.senderData=u.default.userData),this.insertOne(c),this.onUpdated()}},{key:"imLastConversations",value:function(e,t){var n=new f.default({name:p.EmitType.imLastConversations,params:{},permission:d.default.READ,singleTimeout:h.SocketTimeout.commonQuerySingle,totalTimeout:h.SocketTimeout.commonQueryTotal,fail:t,success:e});this.im._goEasySocket.emit(n)}},{key:"loadServerConversations",value:function(){var e=this,t=this.im;return new o.default(function(n,o){e.imLastConversations(function(i){if(200==i.code){for(var r=i.content,s=function(n){var o=r[n],i=e.list.find(function(e){return o.t==l.ConversationType.GROUP&&o.g==e.groupId||o.t==l.ConversationType.PRIVATE&&o.uid==e.userId});m.calibrator.isDef(i)?i.top=o.top:(i=a.Conversion.buildByConversation(t._dataCache,o),e.insertOne(i))},u=0,c=r.length;u<c;u++)s(u);e.synchronized=!0,n({code:200,content:{unreadTotal:e.getUnreadTotal(e.list),conversations:e.list.slice(0)}})}else o(i)},function(e){o({code:e.resultCode,content:e.content})})})}},{key:"loadLocalConversations",value:function(){var e=this,t=[];return this.list.map(function(n){if(!n.data){var o="private"==n.t?n.userId:n.groupId,i=e.im._dataCache.loadData(o,n.t);i.then(function(e){n.data=e}).catch(function(){n.type}),t.push(i)}}),0!=t.length?new o.default(function(n,i){o.default.all(t).then(function(){n({code:200,content:{unreadTotal:e.getUnreadTotal(e.list),conversations:e.list.slice(0)}})}).catch(function(e){i({code:408,content:e.message})})}):o.default.resolve({code:200,content:{unreadTotal:this.getUnreadTotal(this.list),conversations:this.list}})}},{key:"privateMarkAsRead",value:function(e){var t=this.list.find(function(t){return t.userId==e}),n={friendId:e};return this.markAsRead(n,t)}},{key:"groupMarkAsRead",value:function(e){var t=this.list.find(function(t){return t.groupId===e}),n={groupId:e};return this.markAsRead(n,t)}},{key:"markAsRead",value:function(e,t){var n=this;return!t||t.unread<=0?o.default.resolve({code:200,content:"OK"}):(e.lastTimestamp=t.lm,e.lastConsumedTimestamp=t.lc,new o.default(function(o,i){var r=t.type==l.ConversationType.PRIVATE?p.EmitType.markPrivateMessageAsRead:p.EmitType.markGroupMessageAsRead;n.requestEmit(r,e,function(e){200==e.code?(n.resetConversation(t,t.lm,e.content.amount),o({code:200,content:"OK"})):i(e)},function(e){i(e||{code:e.code||408,content:e.content||"Failed to query message"})})}))}},{key:"resetConversation",value:function(e,t,n){t<=e.lc||(e.unread-=n,e.lc=t,this.onUpdated())}},{key:"getUnreadTotal",value:function(e){for(var t=0,n=0,o=e.length;n<o;n++)t+=e[n].unread;return t}},{key:"insertOne",value:function(e){var t=this.getPosIndex(e);this.list.splice(t+1,0,e)}},{key:"getPosIndex",value:function(e){if(0==this.list.length)return-1;for(var t,n,o=0,i=this.list.length;i-o>1;){t=Math.floor((o+i)/2),n=this.list[t];var r=this.compares(e,n);if(0==r)return t;r>0?o=t:i=t}return 0==o&&this.compares(this.list[0],e)>0?-1:o}},{key:"compares",value:function(e,t){var n;return(n=e.top==t.top?t.lastMessage.timestamp-e.lastMessage.timestamp:e.top?-1:1)>0?1:0===n?0:-1}},{key:"removeConversation",value:function(e,t){var n=this,i=t==l.ConversationType.PRIVATE?"userId":"groupId";return m.calibrator.isStringOrNumber(e)?(m.calibrator.isNumber(e)&&(e=e.toString()),-1==this.findConversationIndex(t,e)?o.default.reject({code:400,content:"Failed to remove conversation, "+i+" does not exists."}):new o.default(function(o,i){var r={targetId:e,type:t};n.requestEmit(p.EmitType.removeConversation,r,function(r){var s=n.findConversationIndex(t,e);s>-1&&n.list.splice(s,1),n.onUpdated(),200==r.code?o({}):i({code:r.code||408,content:r.content||"Failed to remove conversation"})},function(e){i({code:e.code||408,content:e.content||"Failed to remove conversation"})})})):o.default.reject({code:400,content:"Failed to remove conversation, "+i+" must be  a string or integer."})}},{key:"topConversation",value:function(e,t,n){var i=this,r=n==l.ConversationType.PRIVATE?"userId":"groupId";if(!m.calibrator.isStringOrNumber(e))return o.default.reject({code:400,content:"Failed to top conversation, "+r+" must be a string or integer."});m.calibrator.isNumber(e)&&(e=e.toString());var s=this.findConversationIndex(n,e);return-1==s||this.list[s].top==t?o.default.reject({code:400,content:"Failed to top conversation, "+r+" does not exists."}):new o.default(function(o,r){var s={targetId:e,top:t,type:n};i.requestEmit(p.EmitType.topConversation,s,function(){var r=i.findConversationIndex(n,e),s=i.list[r];s.top=t,i.list.splice(r,1),i.insertOne(s),i.onUpdated(),o({})},function(e){r({code:e.code||408,content:e.content||"Failed to top Conversation"})})})}},{key:"requestEmit",value:function(e,t,n,o){var i=new f.default({name:e,params:t,permission:d.default.WRITE,singleTimeout:h.SocketTimeout.commonRequestSingle,totalTimeout:h.SocketTimeout.commonRequestTotal,success:n,fail:o});this.im._goEasySocket.emit(i)}},{key:"findConversationIndex",value:function(e,t){return this.list.findIndex(function(n){return e==l.ConversationType.PRIVATE?n.type==e&&n.userId==t:n.type==e&&n.groupId==t})}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.messageCreator=void 0;var o=b(n(0)),i=b(n(1)),r=b(n(50)),s=b(n(197)),a=b(n(198)),u=b(n(199)),c=b(n(51)),l=b(n(200)),f=b(n(201)),d=b(n(202)),h=b(n(203)),p=b(n(204)),m=b(n(205)),y=b(n(102)),g=b(n(103)),v=b(n(52)),_=b(n(206));function b(e){return e&&e.__esModule?e:{default:e}}var w=new(function(){function e(){(0,o.default)(this,e),this.messageTypes={wx:{image:s.default,file:r.default,audio:a.default,video:u.default,text:g.default},uniApp:{image:d.default,file:c.default,audio:l.default,video:f.default,text:g.default},html:{image:h.default,file:v.default,audio:p.default,video:m.default,text:g.default}}}return(0,i.default)(e,[{key:"create",value:function(e,t){var n=y.default.resolve(),o=this.messageTypes[n][e];return o?new o(t):new _.default(t)}}]),e}());t.messageCreator=w},function(e,t,n){e.exports={default:n(194),__esModule:!0}},function(e,t,n){n(195);var o=n(7).Object;e.exports=function(e,t){return o.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var o=n(24),i=n(65).f;n(66)("getOwnPropertyDescriptor",function(){return function(e,t){return i(o(e),t)}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.str=void 0;var o=s(n(0)),i=s(n(1)),r=n(83);function s(e){return e&&e.__esModule?e:{default:e}}var a=new(function(){function e(){(0,o.default)(this,e)}return(0,i.default)(e,[{key:"fileExtension",value:function(e,t){if(r.calibrator.isString(e))try{var n=e.split(t);return n[n.length-1]}catch(o){throw Error(o)}}}]),e}());t.str=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(3)),i=d(n(0)),r=d(n(1)),s=d(n(4)),a=d(n(12)),u=d(n(5)),c=d(n(50)),l=d(n(9)),f=n(17);function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,r.default)(t,[{key:"validate",value:function(e){if((0,a.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"validate",this).call(this,e),!f.calibrator.isDef(e.file.tempFiles)||0==e.file.tempFiles[0].length)throw Error("tempFiles is empty.")}},{key:"setType",value:function(){this.type=l.default.image}},{key:"setFile",value:function(e){var t="chooseMedia:ok"==e.errMsg?e.tempFiles[0].tempFilePath:e.tempFiles[0].path;e.tempFiles[0].path=t,this.file=e}},{key:"setPayload",value:function(e){(0,a.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPayload",this).call(this,e);var n=this,i=e.file.tempFiles[0],r="chooseMedia:ok"==e.file.errMsg?i.tempFilePath:i.path;this.payload.url=r,this.payload.size=i.size,this.payload.width="",this.payload.height="",this.payload.contentType="";var s=f.calibrator.isEmpty(i.name)||null==i.name?r:i.name;this.payload.name="wx-image."+f.str.fileExtension(s,"."),this.payload.contentType="image/"+f.str.fileExtension(s,"."),wx.getImageInfo({src:r,success:function(e){n.payload.width=e.width,n.payload.height=e.height}})}}]),t}(c.default);t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(3)),i=d(n(0)),r=d(n(1)),s=d(n(4)),a=d(n(12)),u=d(n(5)),c=d(n(50)),l=d(n(9)),f=n(17);function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,r.default)(t,[{key:"validate",value:function(e){(0,a.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"validate",this).call(this,e)}},{key:"setType",value:function(){this.type=l.default.audio}},{key:"setPayload",value:function(e){(0,a.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPayload",this).call(this,e);var n=e.file.tempFilePath;this.payload.url=n,this.payload.duration=e.file.duration/1e3,this.payload.size=e.file.fileSize;var i=f.calibrator.isEmpty(e.file.name)||null==e.file.name?n:e.file.name;this.payload.contentType="audio/"+f.str.fileExtension(i,"."),this.payload.name="wx-audio."+f.str.fileExtension(i,".")}}]),t}(c.default);t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=p(n(21)),i=p(n(3)),r=p(n(0)),s=p(n(1)),a=p(n(4)),u=p(n(12)),c=p(n(5)),l=p(n(50)),f=p(n(9)),d=n(2),h=n(17);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,c.default)(t,e),(0,s.default)(t,[{key:"validate",value:function(e){(0,u.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"validate",this).call(this,e)}},{key:"setType",value:function(){this.type=f.default.video}},{key:"setFile",value:function(e){this.file="chooseMedia:ok"==e.errMsg?e.tempFiles[0]:e}},{key:"setPayload",value:function(e){this.payload=(0,o.default)(null);var t=(0,o.default)(null),n=(0,o.default)(null),i="chooseMedia:ok"==e.file.errMsg?e.file.tempFiles[0]:e.file,r=i.duration,s=i.height,a=i.size,u=i.tempFilePath,c=i.thumbTempFilePath,l=i.width,f=i.name,p=void 0===f?"":f,m=d.calibrator.isEmpty(p)?u:p;t.contentType="video/"+h.str.fileExtension(m,"."),t.name="wx-video."+h.str.fileExtension(m,"."),t.url=u,t.width=n.width=l,t.height=n.height=s,t.size=a,t.duration=r,n.url=c,n.contentType="image/jpg",n.name="wx-thumbnail.jpg",this.payload.video=t,this.payload.thumbnail=n}}]),t}(l.default);t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(3)),i=d(n(0)),r=d(n(1)),s=d(n(4)),a=d(n(12)),u=d(n(5)),c=d(n(51)),l=d(n(9)),f=n(17);function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,r.default)(t,[{key:"validate",value:function(e){(0,a.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"validate",this).call(this,e)}},{key:"setType",value:function(){this.type=l.default.audio}},{key:"setPayload",value:function(e){var n=this;(0,a.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPayload",this).call(this,e);var i=this,r=e.file.tempFilePath;this.payload.url=r;var s=f.calibrator.isEmpty(e.file.name)||null==e.file.name?r:e.file.name;if(this.payload.contentType="audio/"+f.str.fileExtension(s,"."),this.payload.name="uni-audio."+f.str.fileExtension(s,"."),f.calibrator.isDef(e.file.duration))this.payload.duration=e.file.duration/1e3;else{this.payload.duration=0;var u=uni.createInnerAudioContext();u.src=r,u.onCanplay(function(){i.payload.duration=u.duration,u.destroy()})}uni.getFileInfo({filePath:r,success:function(e){n.payload.size=e.size}})}}]),t}(c.default);t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=h(n(21)),i=h(n(3)),r=h(n(0)),s=h(n(1)),a=h(n(4)),u=h(n(12)),c=h(n(5)),l=h(n(51)),f=h(n(9)),d=n(17);function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,c.default)(t,e),(0,s.default)(t,[{key:"validate",value:function(e){(0,u.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"validate",this).call(this,e)}},{key:"setType",value:function(){this.type=f.default.video}},{key:"setPayload",value:function(e){var t=(0,o.default)(null),n=(0,o.default)(null);this.payload=(0,o.default)(null);var i=e.file,r=i.duration,s=i.height,a=i.size,u=i.tempFilePath,c=i.width,l=i.name,f=void 0===l?"":l,h=d.calibrator.isEmpty(f)?u:f;t.contentType="video/"+d.str.fileExtension(h,"."),t.name="uni-video."+d.str.fileExtension(h,"."),t.size=a,t.duration=r,t.url=n.url=u,t.width=n.width=c,t.height=n.height=s,n.contentType="image/jpg",n.name="wx-thumbnail.jpg",this.payload.video=t,this.payload.thumbnail=n}}]),t}(l.default);t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(3)),i=d(n(0)),r=d(n(1)),s=d(n(4)),a=d(n(12)),u=d(n(5)),c=d(n(51)),l=n(17),f=d(n(9));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,r.default)(t,[{key:"validate",value:function(e){if((0,a.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"validate",this).call(this,e),!l.calibrator.isDef(e.file.tempFiles)||0==e.file.tempFiles[0].length)throw Error("tempFiles is empty.")}},{key:"setType",value:function(){this.type=f.default.image}},{key:"setPayload",value:function(e){(0,a.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPayload",this).call(this,e);var n=this,i=e.file.tempFiles[0];this.payload.url=i.path,this.payload.size=i.size,this.payload.width="",this.payload.height="";var r=l.calibrator.isEmpty(i.name)||null==i.name?i.path:i.name;this.payload.contentType="image/"+l.str.fileExtension(r,"."),this.payload.name="uni-image."+l.str.fileExtension(r,"."),uni.getImageInfo({src:i.path,success:function(e){n.payload.width=e.width,n.payload.height=e.height}})}}]),t}(c.default);t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(3)),i=f(n(0)),r=f(n(1)),s=f(n(4)),a=f(n(12)),u=f(n(5)),c=f(n(52)),l=f(n(9));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,r.default)(t,[{key:"validate",value:function(e){(0,a.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"validate",this).call(this,e);var n=["gif","jpg","png","jpeg"];if(!n.find(function(t){return t==e.file.type.split("/")[1].toLowerCase()}))throw Error("Only "+n.join(",")+" is supported image.")}},{key:"setType",value:function(){this.type=l.default.image}},{key:"setPayload",value:function(e){var n=this;(0,a.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPayload",this).call(this,e);var i=window.URL||window.webkitURL,r=new Image;r.src=i.createObjectURL(e.file),r.onload=function(){n.payload.width=r.width,n.payload.height=r.height,i.revokeObjectURL(r.src)}}}]),t}(c.default);t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(3)),i=f(n(0)),r=f(n(1)),s=f(n(4)),a=f(n(12)),u=f(n(5)),c=f(n(52)),l=f(n(9));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,r.default)(t,[{key:"validate",value:function(e){(0,a.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"validate",this).call(this,e);var n=["mp3","ogg","wav","wma","ape","acc","mpeg"];if(!n.find(function(t){return t==e.file.type.split("/")[1].toLowerCase()}))throw Error("Only "+n.join(",")+" is supported audio.")}},{key:"setType",value:function(){this.type=l.default.audio}},{key:"setPayload",value:function(e){(0,a.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPayload",this).call(this,e);var n=this,i=window.URL||window.webkitURL,r=document.createElement("audio");r.src=i.createObjectURL(e.file),r.onloadedmetadata=function(){n.payload.duration=r.duration,i.revokeObjectURL(r.src)}}}]),t}(c.default);t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(21)),i=d(n(3)),r=d(n(0)),s=d(n(1)),a=d(n(4)),u=d(n(12)),c=d(n(5)),l=d(n(52)),f=d(n(9));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,c.default)(t,e),(0,s.default)(t,[{key:"validate",value:function(e){(0,u.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"validate",this).call(this,e);var n=["avi","mov","rmvb","rm","flv","mp4","3gp","quicktime"];if(!n.find(function(t){return t==e.file.type.split("/")[1].toLowerCase()}))throw Error("Only "+n.join(",")+" is supported video.")}},{key:"setType",value:function(){this.type=f.default.video}},{key:"setPayload",value:function(e){this.payload=(0,o.default)(null);var t=(0,o.default)(null),n=(0,o.default)(null);t.contentType=e.file.type,t.size=e.file.size,t.duration=0,t.url=n.url="",t.name=e.file.name,t.width=n.width=0,t.height=n.height=0,n.contentType="image/jpg",this.payload.video=t,this.payload.thumbnail=n;var i=this,r=window.URL||window.webkitURL,s=document.createElement("video"),a=r.createObjectURL(e.file);s.src=a,s.onloadedmetadata=function(){i.payload.video.duration=s.duration,i.payload.video.width=i.payload.thumbnail.width=s.videoWidth,i.payload.video.height=i.payload.thumbnail.height=s.videoHeight,i.payload.video.url=a,i.payload.thumbnail.url=function(e){var t=document.createElement("canvas");return t.width=e.videoWidth,t.height=e.videoHeight,t.getContext("2d").drawImage(e,0,0,t.width,t.height),t.toDataURL("image/png")}(s),r.revokeObjectURL(s.src)}}}]),t}(l.default);t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(3)),i=l(n(0)),r=l(n(1)),s=l(n(4)),a=l(n(5)),u=l(n(43)),c=n(2);function l(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return(0,a.default)(t,e),(0,r.default)(t,[{key:"setType",value:function(e){if(!c.calibrator.isStringOrNumber(e.type))throw Error("type require a string or number.");if(c.calibrator.isEmpty(e.type))throw Error("type is empty.");this.type=e.type}},{key:"setPayload",value:function(e){if(c.calibrator.isEmpty(e.payload))throw Error("payload is empty.");if(!c.calibrator.isPlainObject(e.payload)&&!c.calibrator.isStringOrNumber(e.payload))throw Error("payload require object | string | number.");this.payload=e.payload}}]),t}(u.default);t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=y(n(33)),i=y(n(6)),r=y(n(0)),s=y(n(1)),a=y(n(209)),u=y(n(10)),c=n(32),l=y(n(8)),f=n(11),d=y(n(49)),h=n(25),p=y(n(43)),m=n(2);function y(e){return e&&e.__esModule?e:{default:e}}var g=function(){function e(t){(0,r.default)(this,e),this.im=null,this.bulletMessageBuilder=null,this.im=t,this.bulletMessageBuilder=new a.default(t)}return(0,s.default)(e,[{key:"send",value:function(e,t,n){var o=this;return new i.default(function(i,r){t.status===d.default.new?(t.status=d.default.sending,o.bulletMessageBuilder.build(e,t,n).then(function(e){var n=new u.default({name:f.EmitType.publishIM,params:e,permission:l.default.WRITE,singleTimeout:c.SocketTimeout.commonRequestSingle,totalTimeout:c.SocketTimeout.commonRequestTotal,fail:function(e){t.status=d.default.fail,r({code:e.resultCode||408,content:e.content||"Failed to send private message."})},success:function(e){t.status=d.default.success,200==e.resultCode?i({code:200,content:e.content}):r(e)}});o.im._goEasySocket.emit(n)}).catch(function(e){r({code:e.code||400,content:e.content||e})})):r({code:400,content:"Please create a new message, a message can only be sent once"})})}},{key:"sendMessage",value:function(e){var t=this,n=this.im;return new i.default(function(i,r){if(e instanceof p.default)if(e.status===d.default.new){e.status=d.default.sending;var s=e.to;if(delete e.to,s)if(!s.type||s.type!=h.ConversationType.GROUP&&s.type!=h.ConversationType.PRIVATE)r({code:400,content:"message require property to.type"});else if(s.id)if(s.data&&m.calibrator.isFunction(s.data))r({code:400,content:"to.data can not be function"});else{var a=e.notification;if(a)if(m.calibrator.isObject(a)){if(m.calibrator.isEmpty(a.title))return void r({code:400,content:"notification title is required"});if(!m.calibrator.isString(a.title))return void r({code:400,content:"notification title must be string"});if(m.calibrator.isEmpty(e.notification.body))return void r({code:400,content:"notification body is required"});if(!m.calibrator.isString(e.notification.body))return void r({code:400,content:"notification body must be string"})}else if(m.calibrator.isPrimitive(e.notification))return void r({code:400,content:"notification must be an json object"});s.data||(s.data={}),n._conversations.updateByOutMessage(e,s.type,s.id,s.data),t.bulletMessageBuilder.build(s.id,e,s.type).then(function(t){t.d=(0,o.default)(s.data);var a=new u.default({name:f.EmitType.publishIM,params:t,permission:l.default.WRITE,singleTimeout:c.SocketTimeout.commonRequestSingle,totalTimeout:c.SocketTimeout.commonRequestTotal,fail:function(t){e.status=d.default.fail,r({code:t.resultCode||408,content:t.content||"Failed to send private message."})},success:function(t){e.status=d.default.success,e.timestamp=t.content.timestamp,i(e),n._conversations.updateByOutMessage(e,s.type,s.id,s.data)}});n._goEasySocket.emit(a)}).catch(function(e){r({code:e.code||400,content:e.content||e})})}else r({code:400,content:"message require property to.id"});else r({code:400,content:"message require property to."})}else r({code:400,content:"Please create a new message, a message can only be sent once"});else r({code:400,content:"it is invalid message"})})}}]),e}();t.default=g},function(e,t,n){var o=n(7),i=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(33)),i=c(n(6)),r=c(n(0)),s=c(n(1)),a=c(n(210)),u=c(n(211));function c(e){return e&&e.__esModule?e:{default:e}}c(n(9));var l=function(){function e(t){(0,r.default)(this,e),this.im=null,this.im=t}return(0,s.default)(e,[{key:"build",value:function(e,t,n){var r=this;return new i.default(function(i,s){var c=new a.default({to:e,message:t,conversationType:n}),l=t.type;new u.default(l,r.im).build(t).then(function(e){c.p=(0,o.default)(e),i(c)}).catch(function(e){s(e)})})}}]),e}();t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(33)),i=f(n(0)),r=f(n(1)),s=n(17),a=f(n(43)),u=f(n(103)),c=f(n(9)),l=f(n(42));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){(0,i.default)(this,e),this.mt=null,this.to=null,this.p=null,this.t=null,this.guid=null,this.nt=null,this.validate(t.to,t.message),this.mt=t.message.type,this.to=t.to,this.t=t.conversationType,this.guid=t.message.messageId,this.p=t.message.payload,this.nt=t.message.notification}return(0,r.default)(e,[{key:"validate",value:function(e,t){if(!(t instanceof a.default))throw Error("createMessage first.");if(s.calibrator.isEmpty(e))throw Error("userId is empty.");if(!s.calibrator.isStringOrNumber(e))throw Error("userId should be a string or number.");if(l.default.userId==e)throw Error("userId can not be the same as your id.");if(t.type==c.default.text){if(!(t instanceof u.default))throw Error("it is not textMessage");if((0,o.default)(t.payload).length>3072)throw Error("message-length limit 3kb")}}}]),e}();t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(0)),i=n(212),r=u(n(213)),s=u(n(105)),a=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,n){return(0,o.default)(this,e),t==a.default.video?new r.default(n):t==a.default.audio||t==a.default.image||t==a.default.file?new s.default(n):i.simplePayloadBuilder}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.simplePayloadBuilder=void 0;var o=c(n(6)),i=c(n(3)),r=c(n(0)),s=c(n(1)),a=c(n(4)),u=c(n(5));function c(e){return e&&e.__esModule?e:{default:e}}var l=new(function(e){function t(){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).call(this))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"build",value:function(e){return new o.default(function(t,n){try{t(e.payload)}catch(o){n(o)}})}}]),t}(c(n(104)).default));t.simplePayloadBuilder=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(6)),i=f(n(3)),r=f(n(0)),s=f(n(1)),a=f(n(4)),u=f(n(5)),c=f(n(105)),l=f(n(106));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"build",value:function(e){var t=this;return new o.default(function(n,o){var i=new l.default;t.upload(e).then(function(t){t.content,i=e.payload;var o="?x-oss-process=video/snapshot,t_0000,f_jpg,w_"+e.payload.video.width+",m_fast,ar_auto";i.video.url=t.content.url,i.thumbnail.url=t.content.url+o,i.video.name=t.content.newFileName,n(i)}).catch(function(e){o(e)})})}}]),t}(c.default);t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.fileUploader=void 0;var o=c(n(0)),i=c(n(1)),r=c(n(102)),s=n(215),a=n(216),u=n(217);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){(0,o.default)(this,e),this.uploader={uniApp:s.uniAppFileUploader,wx:a.wxFileUploader,html:u.htmlFileUploader}}return(0,i.default)(e,[{key:"upload",value:function(e,t){var n=r.default.resolve();return this.uploader[n].upload(e,t)}}]),e}();t.default=l;var f=new l;t.fileUploader=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.uniAppFileUploader=void 0;var o=c(n(6)),i=c(n(3)),r=c(n(0)),s=c(n(1)),a=c(n(4)),u=c(n(5));function c(e){return e&&e.__esModule?e:{default:e}}var l=new(function(e){function t(){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).call(this))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"upload",value:function(e,t){var n=this;try{return new o.default(function(o,i){uni.uploadFile({url:e.host,filePath:n.getTempFilePath(e),name:"file",formData:e.parameters,success:function(t){if(200===t.statusCode){var n=e.payload;n.message=t.errMsg,o({code:200,content:n})}else i({code:t.statusCode,content:t.errMsg})},fail:function(e){i({code:500,content:e.errMsg})}}).onProgressUpdate(function(e){t&&t(e)})})}catch(i){return new o.default(function(t,n){n({code:500,content:i})})}}},{key:"getTempFilePath",value:function(e){var t=e.file||e.fileRes;return Array.isArray(t.tempFiles)?t.tempFiles[0].path:t.tempFilePath}}]),t}(c(n(71)).default));t.uniAppFileUploader=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.wxFileUploader=void 0;var o=c(n(6)),i=c(n(3)),r=c(n(0)),s=c(n(1)),a=c(n(4)),u=c(n(5));function c(e){return e&&e.__esModule?e:{default:e}}var l=new(function(e){function t(){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"upload",value:function(e,t){var n=this;try{return new o.default(function(o,i){wx.uploadFile({url:e.host,filePath:n.getTempFilePath(e),name:"file",formData:e.parameters,success:function(t){if(200===t.statusCode){var n=e.payload;n.message=t.errMsg,o({code:200,content:n})}else i({code:t.statusCode,content:t.errMsg})},fail:function(e){i({code:500,content:e.errMsg})}}).onProgressUpdate(function(e){t&&t(e)})})}catch(i){return new o.default(function(t,n){n({code:500,content:i})})}}},{key:"getTempFilePath",value:function(e){var t=e.file||e.fileRes;return Array.isArray(t.tempFiles)?t.tempFiles[0].path:t.tempFilePath}}]),t}(c(n(71)).default));t.wxFileUploader=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.htmlFileUploader=void 0;var o=c(n(6)),i=c(n(3)),r=c(n(0)),s=c(n(1)),a=c(n(4)),u=c(n(5));function c(e){return e&&e.__esModule?e:{default:e}}var l=new(function(e){function t(){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).call(this))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"upload",value:function(e,t){try{return new o.default(function(n,o){var i=new XMLHttpRequest;for(var r in i.open("post",e.host,!0),e.headers)i.setRequestHeader(r,e.headers[r]);i.upload.onprogress=function(e){t&&t(e)},i.upload.onloadstart=function(e){t&&t(e)},i.upload.onloadend=function(e){t&&t(e)};var s=new FormData;for(var a in e.parameters)"fileRes"==a?s.append("file",e.parameters[a]):s.append(a,e.parameters[a]);i.send(s),i.onreadystatechange=function(){if(4==i.readyState)if(i.status>=200&&i.status<300||304==i.status){var t=e.payload;t.message=i.responseText,n({code:200,content:t})}else o({code:i.status,content:i.responseText})}})}catch(n){return new o.default(function(t,o){o({code:500,content:n})})}}}]),t}(c(n(71)).default));t.htmlFileUploader=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(6)),i=u(n(0)),r=u(n(1)),s=u(n(219)),a=u(n(223));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){(0,i.default)(this,e),this.uploadTokenResolver=null,this.uploadTokenResolver=new a.default(t)}return(0,r.default)(e,[{key:"build",value:function(e,t,n){var i=this;return new o.default(function(o,r){i.uploadTokenResolver.resolve(t).then(function(t){var i=t.content;o(new s.default(i.vendor).build(i,e,n))}).catch(function(e){r(e)})})}}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=(o=n(0))&&o.__esModule?o:{default:o},r=n(220),s=n(221),a=n(222);t.default=function e(t){return(0,i.default)(this,e),t==r.OssType.aliYun?s.aliYunOSSRequestBuilder:a.qiNiuYunOSSRequestBuilder}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.OssType={aliYun:"ALI",qiNiu:"QN"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.aliYunOSSRequestBuilder=void 0;var o=f(n(3)),i=f(n(0)),r=f(n(1)),s=f(n(4)),a=f(n(5)),u=f(n(108)),c=f(n(109)),l=f(n(9));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this))}return(0,a.default)(t,e),(0,r.default)(t,[{key:"url",value:function(e){return e.host+"/"+e.dir+"/"+this.newFileName(e)}},{key:"build",value:function(e,t,n){var o={key:e.dir+"/"+this.newFileName(e),OSSAccessKeyId:e.accessKeyId,policy:e.policy,signature:e.signature,success_action_status:"200",fileRes:t};l.default.file===n&&(o={key:e.dir+"/"+this.newFileName(e),OSSAccessKeyId:e.accessKeyId,policy:e.policy,signature:e.signature,success_action_status:"200","Content-Disposition":"attachment;filename="+t.name,fileRes:t});var i={newFileName:this.newFileName(e),url:this.url(e)};return new u.default(e.host,null,o,t,i)}}]),t}(c.default);t.default=d;var h=new d;t.aliYunOSSRequestBuilder=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.qiNiuYunOSSRequestBuilder=void 0;var o=l(n(3)),i=l(n(0)),r=l(n(1)),s=l(n(4)),a=l(n(5)),u=l(n(109)),c=l(n(108));function l(e){return e&&e.__esModule?e:{default:e}}var f=new(function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this))}return(0,a.default)(t,e),(0,r.default)(t,[{key:"url",value:function(e){return e.downloadUrl}},{key:"build",value:function(e,t){var n={key:this.newFileName(e),token:e.token,file:t},o={newFileName:this.newFileName(e),url:this.url(e)};return new c.default(e.host,null,n,t,o)}}]),t}(u.default));t.qiNiuYunOSSRequestBuilder=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(6)),i=c(n(0)),r=c(n(1)),s=c(n(10)),a=c(n(8)),u=n(32);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){(0,i.default)(this,e),this.im=null,this.im=t}return(0,r.default)(e,[{key:"resolve",value:function(e){var t=this;return new o.default(function(n,o){var i=new s.default({name:"uploadToken",params:{filename:e},permission:a.default.WRITE,singleTimeout:u.SocketTimeout.commonRequestSingle,totalTimeout:u.SocketTimeout.commonRequestTotal,fail:function(e){o(e)},success:function(e){200==e.code?n(e):o(e)}});t.im._goEasySocket.emit(i)})}}]),e}();t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(21)),i=d(n(6)),r=d(n(0)),s=d(n(1)),a=n(17),u=d(n(10)),c=d(n(8)),l=n(32),f=n(11);function d(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(t){(0,r.default)(this,e),this.im=null,this.im=t}return(0,s.default)(e,[{key:"history",value:function(e){var t=this;return new i.default(function(n,o){t.transformOptions(e);var i=new u.default({name:f.EmitType.imHistory,params:e,permission:c.default.READ,singleTimeout:l.SocketTimeout.commonQuerySingle,totalTimeout:l.SocketTimeout.commonQueryTotal,fail:function(e){o({code:e.code||408,content:e.content||"Failed to query message"})},success:function(i){if(200==i.code){var r=t.transformHistories(i,e);n({code:200,content:r})}else o(i)}});t.im._goEasySocket.emit(i)})}},{key:"transformOptions",value:function(e){if(!a.calibrator.isObject(e)||!a.calibrator.isDef(e.friendId)&&!a.calibrator.isDef(e.groupId))throw Error("friendId or groupId is not define.");if(a.calibrator.isDef(e.friendId)&&a.calibrator.isDef(e.groupId))throw Error("only contain friendId or groupId.");if(a.calibrator.isDef(e.limit)||(e.limit=10),e.limit>30&&(e.limit=30),a.calibrator.isDef(e.friendId)){if(!a.calibrator.isStringOrNumber(e.friendId))throw Error("TypeError: friendId require string or number.");a.calibrator.isNumber(e.friendId)&&(e.friendId=e.friendId.toString())}else{if(!a.calibrator.isStringOrNumber(e.groupId))throw Error("TypeError: groupId require string or number.");a.calibrator.isNumber(e.groupId)&&(e.groupId=e.groupId.toString())}return e}},{key:"transformHistories",value:function(e,t){var n=[];return e&&e.content&&e.content.map(function(e){var i=(0,o.default)(null);i.timestamp=e.ts,i.senderId=e.s,i.type=e.mt,i.payload=JSON.parse(e.p),t.groupId&&e.d&&(i.senderData=JSON.parse(e.d)),n.push(i)}),n}}]),e}();t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=p(n(6)),i=p(n(0)),r=p(n(1)),s=p(n(10)),a=n(11),u=p(n(8)),c=n(15),l=n(25),f=p(n(48)),d=n(2),h=n(29);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(){function e(t){(0,i.default)(this,e),this.im=null,this.im=t,t._iMReceiver.addIMMessageObserver(this.newNewMessageReceived.bind(this))}return(0,r.default)(e,[{key:"newNewMessageReceived",value:function(e){if(e.t===l.ConversationType.GROUP){var t=f.default.assemble(e);this.im._event.notify(h.ImEventType.GROUP_MESSAGE_RECEIVED,t)}}},{key:"subscribe",value:function(e){var t=this;return new o.default(function(n,o){if(Array.isArray(e)&&0!=e.length){for(var i=0;i<e.length;i++){if(!d.calibrator.isStringOrNumber(e[i]))return void o({code:400,content:"TypeError: groups item require string or number."});d.calibrator.isNumber(e[i])&&(e[i]=e[i].toString())}var r=new s.default({name:a.EmitType.subscribeGroups,params:{groupIds:e},permission:u.default.WRITE,singleTimeout:c.SocketTimeout.commonInfiniteSingle,totalTimeout:c.SocketTimeout.commonInfiniteTotal,success:function(){n({code:200,content:"ok"})},fail:function(e){o({code:e.resultCode||408,content:e.content||"Failed to subscribe group message"})}});t.im._goEasySocket.emit(r)}else o({code:400,content:"TypeError: groups require array."})})}},{key:"unsubscribe",value:function(e){var t=this;return new o.default(function(n,o){if(d.calibrator.isStringOrNumber(e)){e=e.toString();var i=new s.default({name:a.EmitType.unsubscribeGroup,params:{groupId:e},permission:u.default.READ,singleTimeout:c.SocketTimeout.commonRequestSingle,totalTimeout:c.SocketTimeout.commonRequestTotal,success:function(){n({code:200,content:"ok"})},fail:function(e){o({code:e.resultCode||408,content:e.content||"Failed to unsubscribe group message"})}});t.im._goEasySocket.emit(i)}else o({code:400,content:"TypeError: channel require string or number."})})}}]),e}();t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(0)),i=u(n(1)),r=u(n(48)),s=n(25),a=n(29);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){(0,o.default)(this,e),this.im=null,this.im=t,t._iMReceiver.addIMMessageObserver(this.onNewMessageReceived.bind(this))}return(0,i.default)(e,[{key:"onNewMessageReceived",value:function(e){if(e.t===s.ConversationType.PRIVATE){var t=r.default.assemble(e);this.im._event.notify(a.ImEventType.PRIVATE_MESSAGE_RECEIVED,t)}}}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(6)),i=f(n(0)),r=f(n(1)),s=f(n(10)),a=n(11),u=f(n(8)),c=n(15),l=n(2);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){(0,i.default)(this,e),this.im=null,this.im=t}return(0,r.default)(e,[{key:"get",value:function(e){var t=this;return new o.default(function(n,o){if(l.calibrator.isStringOrNumber(e)){l.calibrator.isNumber(e)&&(e=e.toString());var i=new s.default({name:a.EmitType.imGroupOnlineCount,params:{groupId:e},permission:u.default.READ,singleTimeout:c.SocketTimeout.commonQuerySingle,totalTimeout:c.SocketTimeout.commonQueryTotal,fail:function(e){o(e||{code:408,content:"Failed to query online group users"})},success:function(e){200==e.code?n(e):o(e)}});t.im._goEasySocket.emit(i)}else o({code:400,content:"TypeError: groupId require string or number."})})}}]),e}();t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=h(n(6)),i=h(n(0)),r=h(n(1)),s=h(n(10)),a=h(n(8)),u=n(32),c=n(11),l=n(2),f=n(29),d=h(n(41));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t){(0,i.default)(this,e),this.im=null,this.im=t,t._goEasySocket.addMessageObserver(d.default.groupPresence,this.newMessageReceived.bind(this))}return(0,r.default)(e,[{key:"presence",value:function(e){var t=this;return new o.default(function(n,o){if(Array.isArray(e)&&0!=e.length){for(var i=0;i<e.length;i++){if(!l.calibrator.isStringOrNumber(e[i]))return void o({code:400,content:"TypeError: groupIds item require string or number."});if(l.calibrator.isNumber(e[i])&&(e[i]=e[i].toString()),0==e[i].length)return void o({code:400,content:"TypeError: groupIds has empty item."})}var r={groupIds:e};t.emitRocket(c.EmitType.subscribeGroupPresence,r,function(){n({code:200,content:"ok"})},function(e){o({code:e.code||408,content:e.content||"Failed to subscribe group message"})},u.SocketTimeout.commonInfiniteSingle,u.SocketTimeout.commonInfiniteTotal)}else o({code:400,content:"TypeError: groupIds require array."})})}},{key:"unPresence",value:function(e){var t=this;return new o.default(function(n,o){if(l.calibrator.isStringOrNumber(e)){l.calibrator.isNumber(e)&&(e=e.toString());var i={groupId:e};t.emitRocket(c.EmitType.unsubscribeGroupPresence,i,function(){n({code:200,content:"ok"})},function(e){o({code:e.code||408,content:e.content||"Failed to unsubscribe presence"})},u.SocketTimeout.commonRequestSingle,u.SocketTimeout.commonRequestTotal)}else o({code:400,content:"TypeError: groupId require string or number."})})}},{key:"emitRocket",value:function(e,t,n,o,i,r){var u=new s.default({name:e,params:t,singleTimeout:i,totalTimeout:r,permission:a.default.WRITE,success:n,fail:o});this.im._goEasySocket.emit(u)}},{key:"newMessageReceived",value:function(e){var t=this,n=null;e.c&&(n=JSON.parse(e.c)),n&&n.events&&n.events.map(function(e){var o=e.userData?JSON.parse(e.userData):{},i={time:e.time,action:e.action,groupOnlineCount:n.userAmount,groupId:n.groupId,id:e.userId,data:o};t.im._event.notify(f.ImEventType.GROUP_PRESENCE,i)})}}]),e}();t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=h(n(6)),i=h(n(0)),r=h(n(1)),s=h(n(10)),a=h(n(8)),u=n(32),c=n(11),l=n(2),f=n(29),d=h(n(41));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t){(0,i.default)(this,e),this.im=null,this.im=t,this.im._goEasySocket.addMessageObserver(d.default.userPresence,this.newMessageReceived.bind(this))}return(0,r.default)(e,[{key:"presence",value:function(e){var t=this;return new o.default(function(n,o){if(Array.isArray(e)&&0!=e.length){for(var i=0;i<e.length;i++){if(!l.calibrator.isStringOrNumber(e[i]))return void o({code:400,content:"TypeError: userIds item require string or number."});if(l.calibrator.isNumber(e[i])&&(e[i]=e[i].toString()),0==e[i].length)return void o({code:400,content:"TypeError: userIds has empty item."})}var r={userIds:e};t.emitRocket(c.EmitType.subscribeUserPresence,r,function(){n({code:200,content:"ok"})},function(e){o({code:e.code||408,content:e.content||"Failed to subscribe group message"})},u.SocketTimeout.commonInfiniteSingle,u.SocketTimeout.commonInfiniteTotal)}else o({code:400,content:"TypeError: userIds require array."})})}},{key:"unPresence",value:function(e){var t=this;return new o.default(function(n,o){if(l.calibrator.isStringOrNumber(e)){l.calibrator.isNumber(e)&&(e=e.toString());var i={userId:e};t.emitRocket(c.EmitType.unsubscribeUserPresence,i,function(){n({code:200,content:"ok"})},function(e){o({code:e.code||408,content:e.content||"Failed to unsubscribe presence"})},u.SocketTimeout.commonRequestSingle,u.SocketTimeout.commonRequestTotal)}else o({code:400,content:"TypeError: id require string or number."})})}},{key:"emitRocket",value:function(e,t,n,o,i,r){var u=new s.default({name:e,params:t,singleTimeout:i,totalTimeout:r,permission:a.default.WRITE,success:n,fail:o});this.im._goEasySocket.emit(u)}},{key:"newMessageReceived",value:function(e){var t=this,n=[];e.c&&(n=JSON.parse(e.c).events||[]),n.map(function(e){var n=e.userData?JSON.parse(e.userData):{},o={time:e.time,action:e.action,id:e.userId,data:n};t.im._event.notify(f.ImEventType.USER_PRESENCE,o)})}}]),e}();t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(6)),i=f(n(0)),r=f(n(1)),s=n(11),a=f(n(10)),u=f(n(8)),c=n(15),l=n(2);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){(0,i.default)(this,e),this.im=null,this.im=t}return(0,r.default)(e,[{key:"hereNow",value:function(e){var t=this;return new o.default(function(n,o){if(e.userIds&&Array.isArray(e.userIds)&&0!=e.userIds.length){for(var i=0;i<e.userIds.length;i++){if(!l.calibrator.isStringOrNumber(e.userIds[i]))return void o({code:400,content:"TypeError: userIds item require string or number."});if(l.calibrator.isNumber(e.userIds[i])&&(e.userIds[i]=e.userIds[i].toString()),0==e.userIds[i].length)return void o({code:400,content:"TypeError: userIds has empty item."})}var r=new a.default({name:s.EmitType.imHereNow,params:e,permission:u.default.READ,singleTimeout:c.SocketTimeout.commonQuerySingle,totalTimeout:c.SocketTimeout.commonQueryTotal,fail:function(e){o({code:e.resultCode||408,content:e.content||"Failed to query online users"})},success:function(e){if(200==e.code){var t=e.content;e.content=t.map(function(e){var t=e.userData?JSON.parse(e.userData):{};return{id:e.userId,data:t}}),n(e)}else o(e)}});t.im._goEasySocket.emit(r)}else o({code:400,content:"TypeError: userIds require array."})})}}]),e}();t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(6)),i=f(n(0)),r=f(n(1)),s=n(11),a=f(n(10)),u=f(n(8)),c=n(15),l=n(17);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){(0,i.default)(this,e),this.im=null,this.im=t}return(0,r.default)(e,[{key:"hereNow",value:function(e){var t=this;return new o.default(function(n,o){if(l.calibrator.isStringOrNumber(e)){l.calibrator.isNumber(e)&&(e=e.toString());var i=new a.default({name:s.EmitType.imGroupHereNow,params:{groupId:e},permission:u.default.READ,singleTimeout:c.SocketTimeout.commonQuerySingle,totalTimeout:c.SocketTimeout.commonQueryTotal,fail:function(e){o({code:e.resultCode||408,content:e.content||"Failed to query online group users"})},success:function(e){if(200==e.code){var t=e.content;e.content=t.map(function(e){var t=e.userData?JSON.parse(e.userData):{};return{id:e.userId,data:t}}),n(e)}else o(e)}});t.im._goEasySocket.emit(i)}else o({code:400,content:"TypeError: groupId require string or number."})})}}]),e}();t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(0)),i=s(n(1)),r=s(n(41));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t){(0,o.default)(this,e),this.im=null,this.observers=[],this.im=t,t._goEasySocket.addMessageObserver(r.default.imMessage,this.newNewMessageReceived.bind(this))}return(0,i.default)(e,[{key:"newNewMessageReceived",value:function(e){this.sendAck(e),this.notify(e)}},{key:"addIMMessageObserver",value:function(e){this.observers.push(e)}},{key:"sendAck",value:function(e){this.im._goEasySocket.sendAck("imAck",{publishGuid:e.i})}},{key:"notify",value:function(e){for(var t=0;t<this.observers.length;t++)this.observers[t](e)}}]),e}();t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(72)),i=d(n(6)),r=d(n(0)),s=d(n(1)),a=d(n(10)),u=n(11),c=d(n(8)),l=n(15),f=n(25);function d(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(t,n){(0,r.default)(this,e),this.im=null,this.userData={},this.groupData={},this.im=t,this.putUserData(n.id,n.data)}return(0,s.default)(e,[{key:"putData",value:function(e,t,n){n||(n={}),e==f.ConversationType.PRIVATE?this.userData[t]=n:this.groupData[t]=n}},{key:"putUserData",value:function(e,t){this.userData[e]=t}},{key:"putGroupData",value:function(e,t){this.groupData[e]=t}},{key:"loadData",value:function(e,t){var n=this;return new i.default(function(i,r){var s=void 0;if((s=f.ConversationType.PRIVATE===t?n.userData:n.groupData)[e]&&0!=(0,o.default)(s[e]).length)i(s[e]);else{var d={targetId:e,type:t},h=new a.default({name:u.EmitType.imData,params:d,permission:c.default.READ,singleTimeout:l.SocketTimeout.commonQuerySingle,totalTimeout:l.SocketTimeout.commonQueryTotal,success:function(t){t.content?s[e]=JSON.parse(t.content):s[e]={},i(s[e])},fail:function(e){r(e)}});n.im._goEasySocket.emit(h)}})}}]),e}();t.default=h},function(e,t,n){n(235),e.exports=n(7).Object.keys},function(e,t,n){var o=n(40),i=n(31);n(66)("keys",function(){return function(e){return i(o(e))}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=C(n(6)),i=C(n(33)),r=C(n(3)),s=C(n(0)),a=C(n(1)),u=C(n(4)),c=C(n(12)),l=C(n(5)),f=C(n(110)),d=n(11),h=C(n(273)),p=C(n(10)),m=C(n(8)),y=C(n(28)),g=C(n(274)),v=n(2),_=n(119),b=n(15),w=C(n(275));function C(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return n.ioSocket=null,n.sid=null,n.appKey=null,n.userId=null,n.userData=null,n.otp=null,n.artifactVersion="0.0.0",n.uri=null,n.ioOpts=null,n.allowNotification=!1,n.reconnectingTimes=0,n.messageObservers={},n.connectFailedObservers=[],n.connectingObservers=[],n.expiredReconnectedObservers=[],n.ioSocket=new h.default({onDisconnected:n.onIoDisconnected.bind(n),onReconnecting:n.onIoReconnecting.bind(n)}),n.ioSocket.addConnectedObserver(n.onIoReconnected.bind(n)),n.appKey=e.appkey,n.userId=e.id,n.userData=e.data,n.otp=e.otp||null,n.ioOpts=e.opts,n.uri=e.uri,n.allowNotification=e.allowNotification,n.artifactVersion=e.artifactVersion,n.modules=e.modules,n.addConnectedObserver(e.onSuccess),n.addConnectingObserver(e.onProgress),n.addConnectFailedObserver(e.onFailed),n}return(0,l.default)(t,e),(0,a.default)(t,[{key:"onIoReconnected",value:function(){this.status===y.default.RECONNECTING&&this.authorize()}},{key:"emit",value:function(e){(0,c.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"emit",this).call(this,e)}},{key:"doEmit",value:function(e,t,n){_.uniApp.overrideUniShowHideMethods(),t.sid=this.sid,this.ioSocket.doEmit(e,t,n)}},{key:"sendAck",value:function(e,t){this.ioSocket.io.emit(e,t)}},{key:"connect",value:function(){var e=this;(0,c.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"connect",this).call(this),this.onConnecting(this.reconnectingTimes),this.ioSocket.connect({uri:this.uri,opts:this.ioOpts}),this.notifier=new w.default(this),this.notifier.support()?this.notifier.getRegId().then(function(t){e.regId=t,e.authorize()}).catch(function(t){console.error("\u6ce8\u518c\u5382\u5546\u901a\u9053\u5931\u8d25\uff1a"+(0,i.default)(t)),e.authorize()}):this.authorize()}},{key:"disconnect",value:function(){var e=this;return new o.default(function(t,n){var o=function(){e.status=y.default.DISCONNECTED,e.ioSocket.disconnect(),t()};if(e.allowNotification){var i=new p.default({name:d.EmitType.manualDisconnect,params:{},permission:m.default.READ,singleTimeout:b.SocketTimeout.commonInfiniteSingle,totalTimeout:b.SocketTimeout.commonInfiniteTotal,fail:function(e){n(e)},success:o});e.emit(i)}else o()})}},{key:"authorize",value:function(){var e={appkey:this.appKey,userId:this.userId,userData:(0,i.default)(this.userData),otp:this.otp,artifactVersion:this.artifactVersion,sid:this.sid,allowNT:this.allowNotification,regId:this.regId,modules:this.modules};(0,i.default)(e);var t=new p.default({name:d.EmitType.authorize,params:e,permission:m.default.NONE,singleTimeout:b.SocketTimeout.commonInfiniteSingle,totalTimeout:b.SocketTimeout.commonInfiniteTotal,success:this.onAuthorizeSuccess.bind(this),fail:this.onAuthorizeFailed.bind(this)});this.ioSocket.emit(t)}},{key:"onConnecting",value:function(){this.notify(this.connectingObservers,this.reconnectingTimes)}},{key:"onIoReconnecting",value:function(){_.uniApp.overrideUniShowHideMethods(),this.reconnectingTimes++,this.status==y.default.CONNECTED||this.status==y.default.EXPIRED_RECONNECTED||this.status==y.default.RECONNECTING?this.status=y.default.RECONNECTING:this.status=y.default.CONNECTING,this.onConnecting()}},{key:"onIoDisconnected",value:function(){this.status==y.default.DISCONNECTING&&(this.status=y.default.DISCONNECTED,this.notify(this.disconnectedObservers))}},{key:"onAuthorizeSuccess",value:function(e){this.status===y.default.RECONNECTING?this.sid!==e.sid?(this.status=y.default.EXPIRED_RECONNECTED,this.notify(this.expiredReconnectedObservers)):this.status=y.default.RECONNECTED:(this.status=y.default.CONNECTED,this.sid=e.sid),e.enablePublish&&(this.permissions.find(function(e){return e==m.default.WRITE})||this.permissions.push(m.default.WRITE)),e.enableSubscribe&&(this.permissions.find(function(e){return e==m.default.READ})||this.permissions.push(m.default.READ)),this.reconnectingTimes=0,this.notify(this.connectedObservers)}},{key:"onAuthorizeFailed",value:function(e){this.ioSocket.disconnect(),this.status=y.default.CONNECT_FAILED;var t={code:e.resultCode||408,content:e.content||"Host unreachable or timeout"};this.notify(this.connectFailedObservers,t)}},{key:"addConnectingObserver",value:function(e){v.calibrator.isFunction(e)&&this.connectingObservers.push(e)}},{key:"addConnectFailedObserver",value:function(e){v.calibrator.isFunction(e)&&this.connectFailedObservers.push(e)}},{key:"addExpiredReconnectedObserver",value:function(e){v.calibrator.isFunction(e)&&this.expiredReconnectedObservers.push(e)}},{key:"addMessageObserver",value:function(e,t){var n=this;this.ioSocket.io.on(e,function(t){n.notifyMessageObservers(e,t)}),this.messageObservers[e]||(this.messageObservers[e]=[]),this.messageObservers[e].push(new g.default(t))}},{key:"notifyMessageObservers",value:function(e,t){for(var n=this.messageObservers[e],o=0;o<n.length;o++)n[o].onMessage(e,t)}}]),t}(f.default);t.default=S},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(0)),i=s(n(1)),r=s(n(28));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t){(0,o.default)(this,e),this.socket=null,this.socket=t}return(0,i.default)(e,[{key:"emit",value:function(e){this.socket.status!==r.default.CONNECT_FAILED&&this.socket.status!==r.default.DISCONNECTED?(e.start(),this.doEmit(e)):e.fail({resultCode:"409",content:"Please connect first"})}},{key:"doEmit",value:function(e){var t=this;if(e.isTimeout())e.fail({resultCode:408,content:"Host unreachable or timeout"});else if(this.socket.status!==r.default.CONNECT_FAILED)if(this.authenticated())if(this.hasPermission(e))if(this.socket.status===r.default.CONNECTED||this.socket.status===r.default.RECONNECTED||this.socket.status===r.default.EXPIRED_RECONNECTED){if(!e.complete){var n=setTimeout(function(){t.doEmit(e)},e.singleTimeout);this.socket.doEmit(e.name,e.params,function(t){clearTimeout(n),200===t.resultCode||200==t.code?e.success(t):e.fail(t)}),e.retried++}}else setTimeout(function(){t.doEmit(e)},500);else e.fail({resultCode:401,content:"No permission"});else setTimeout(function(){t.doEmit(e)},500);else e.fail({resultCode:408,content:"Failed to connect GoEasy."})}},{key:"hasPermission",value:function(e){return!!this.socket.permissions.find(function(t){return t===e.permission})}},{key:"authenticated",value:function(){return this.socket.status===r.default.CONNECTED||this.socket.status===r.default.RECONNECTING||this.socket.status===r.default.RECONNECTED||this.socket.status===r.default.EXPIRED_RECONNECTED}}]),e}();t.default=a},function(e,t,n){var o,i=(o=n(20))&&o.__esModule?o:{default:o},r=n(239),s=n(74),a=n(111);n(53)("socket.io-client"),e.exports=t=c;var u=t.managers={};function c(e,t){"object"===(void 0===e?"undefined":(0,i.default)(e))&&(t=e,e=void 0),t=t||{};var n,o=r(e),s=o.source,c=o.id,l=o.path,f=u[c]&&l in u[c].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||f?n=a(s,t):(u[c]||(u[c]=a(s,t)),n=u[c]),o.query&&!t.query&&(t.query=o.query),n.socket(o.path,t)}t.protocol=s.protocol,t.connect=c,t.Manager=n(111),t.Socket=n(115)},function(e,t,n){var o=n(240);n(53)("socket.io-client:url"),e.exports=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==t?t.protocol+"//"+e:"https://"+e),n=o(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var i=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port,n.href=n.protocol+"://"+i+(t&&t.port===n.port?"":":"+n.port),n}},function(e){var t=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var o=e,i=e.indexOf("["),r=e.indexOf("]");-1!=i&&-1!=r&&(e=e.substring(0,i)+e.substring(i,r).replace(/:/g,";")+e.substring(r,e.length));for(var s=t.exec(e||""),a={},u=14;u--;)a[n[u]]=s[u]||"";return-1!=i&&-1!=r&&(a.source=o,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(e,t,n){function o(e){var n;function o(){if(o.enabled){var e=o,i=+new Date,r=i-(n||i);e.diff=r,e.prev=n,e.curr=i,n=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(n,o){if("%%"===n)return n;u++;var i=t.formatters[o];if("function"==typeof i){var r=s[u];n=i.call(e,r),s.splice(u,1),u--}return n}),t.formatArgs.call(e,s),(o.log||t.log||console.log.bind(console)).apply(e,s)}}return o.namespace=e,o.enabled=t.enabled(e),o.useColors=t.useColors(),o.color=function(e){var n,o=0;for(n in e)o=(o<<5)-o+e.charCodeAt(n),o|=0;return t.colors[Math.abs(o)%t.colors.length]}(e),o.destroy=i,"function"==typeof t.init&&t.init(o),t.instances.push(o),o}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=o.debug=o.default=o).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var o=("string"==typeof e?e:"").split(/[\s,]+/),i=o.length;for(n=0;n<i;n++)o[n]&&("-"===(e=o[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var r=t.instances[n];r.enabled=t.enabled(r.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,o;for(n=0,o=t.skips.length;n<o;n++)if(t.skips[n].test(e))return!1;for(n=0,o=t.names.length;n<o;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(242),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e){var t=1e3,n=6e4,o=36e5,i=24*o;function r(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,s){s=s||{};var a,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(r){var s=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===u&&!1===isNaN(e))return s.long?r(a=e,i,"day")||r(a,o,"hour")||r(a,n,"minute")||r(a,t,"second")||a+" ms":function(e){return e>=i?Math.round(e/i)+"d":e>=o?Math.round(e/o)+"h":e>=n?Math.round(e/n)+"m":e>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){(function(o){function i(){var e;try{e=t.storage.debug}catch(n){}return!e&&void 0!==o&&"env"in o&&(e=o.env.DEBUG),e}(t=e.exports=n(244)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var o="color: "+this.color;e.splice(1,0,o,"color: inherit");var i=0,r=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(r=++i)}),e.splice(r,0,o)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=i,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(i())}).call(t,n(73))},function(e,t,n){function o(e){var n;function o(){if(o.enabled){var e=o,i=+new Date,r=i-(n||i);e.diff=r,e.prev=n,e.curr=i,n=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(n,o){if("%%"===n)return n;u++;var i=t.formatters[o];if("function"==typeof i){var r=s[u];n=i.call(e,r),s.splice(u,1),u--}return n}),t.formatArgs.call(e,s),(o.log||t.log||console.log.bind(console)).apply(e,s)}}return o.namespace=e,o.enabled=t.enabled(e),o.useColors=t.useColors(),o.color=function(e){var n,o=0;for(n in e)o=(o<<5)-o+e.charCodeAt(n),o|=0;return t.colors[Math.abs(o)%t.colors.length]}(e),o.destroy=i,"function"==typeof t.init&&t.init(o),t.instances.push(o),o}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=o.debug=o.default=o).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var o=("string"==typeof e?e:"").split(/[\s,]+/),i=o.length;for(n=0;n<i;n++)o[n]&&("-"===(e=o[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var r=t.instances[n];r.enabled=t.enabled(r.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,o;for(n=0,o=t.skips.length;n<o;n++)if(t.skips[n].test(e))return!1;for(n=0,o=t.names.length;n<o;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(245),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e){var t=1e3,n=6e4,o=36e5,i=24*o;function r(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,s){s=s||{};var a,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(r){var s=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===u&&!1===isNaN(e))return s.long?r(a=e,i,"day")||r(a,o,"hour")||r(a,n,"minute")||r(a,t,"second")||a+" ms":function(e){return e>=i?Math.round(e/i)+"d":e>=o?Math.round(e/o)+"h":e>=n?Math.round(e/n)+"m":e>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,o=this._callbacks["$"+e];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<o.length;i++)if((n=o[i])===t||n.fn===t){o.splice(i,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var o=0,i=(n=n.slice(0)).length;o<i;++o)n[o].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(e,t,n){e.exports=n(249),e.exports.parser=n(34)},function(e,t,n){var o=r(n(72)),i=r(n(20));function r(e){return e&&e.__esModule?e:{default:e}}var s=n(112),a=n(113),u=(n(78)("engine.io-client:socket"),n(265)),c=n(34),l=n(266),f=n(76);function d(e,t){if(!(this instanceof d))return new d(e,t);t=t||{},e&&"object"===(void 0===e?"undefined":(0,i.default)(e))&&(t=e,e=null),e?(e=l(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=l(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=f.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&(0,o.default)(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=d,d.priorWebsocketSuccess=!1,a(d.prototype),d.protocol=c.protocol,d.Socket=d,d.Transport=n(75),d.transports=n(112),d.parser=n(34),d.prototype.createTransport=function(e){var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=c.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new s[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},d.prototype.open=function(){var e;if(this.rememberUpgrade&&d.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},d.prototype.setTransport=function(e){e.name;var t=this;this.transport&&(this.transport.name,this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},d.prototype.probe=function(e){var t=this.createTransport(e,{probe:1}),n=!1,o=this;function i(){if(o.onlyBinaryUpgrades){var e=!this.supportsBinary&&o.transport.supportsBinary;n=n||e}n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",function(e){if(!n)if("pong"===e.type&&"probe"===e.data){if(o.upgrading=!0,o.emit("upgrading",t),!t)return;d.priorWebsocketSuccess="websocket"===t.name,o.transport.name,o.transport.pause(function(){n||"closed"!==o.readyState&&(l(),o.setTransport(t),t.send([{type:"upgrade"}]),o.emit("upgrade",t),t=null,o.upgrading=!1,o.flush())})}else{var i=new Error("probe error");i.transport=t.name,o.emit("upgradeError",i)}}))}function r(){n||(n=!0,l(),t.close(),t=null)}function s(e){var n=new Error("probe error: "+e);n.transport=t.name,r(),o.emit("upgradeError",n)}function a(){s("transport closed")}function u(){s("socket closed")}function c(e){t&&e.name!==t.name&&(e.name,t.name,r())}function l(){t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",a),o.removeListener("close",u),o.removeListener("upgrading",c)}d.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",s),t.once("close",a),this.once("close",u),this.once("upgrading",c),t.open()},d.prototype.onOpen=function(){if(this.readyState="open",d.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])},d.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(e.type,e.data,this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else this.readyState},d.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},d.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},d.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){e.pingTimeout,e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},d.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},d.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},d.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.writeBuffer.length,this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},d.prototype.write=d.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},d.prototype.sendPacket=function(e,t,n,o){if("function"==typeof t&&(o=t,t=void 0),"function"==typeof n&&(o=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),o&&this.once("flush",o),this.flush()}},d.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?o():t()}):this.upgrading?o():t()}function t(){e.onClose("forced close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function o(){e.once("upgrade",n),e.once("upgradeError",n)}return this},d.prototype.onError=function(e){d.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},d.prototype.onClose=function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)},d.prototype.filterUpgrades=function(e){for(var t=[],n=0,o=e.length;n<o;n++)~u(this.transports,e[n])&&t.push(e[n]);return t}},function(e,t,n){(function(t){var o=n(252),i=n(77);e.exports=l;var r,s=/\n/g,a=/\\n/g;function u(){}function c(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{}}function l(e){if(o.call(this,e),this.query=this.query||{},!r){var t=c();r=t.___eio=t.___eio||[]}this.index=r.length;var n=this;r.push(function(e){n.onData(e)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){n.script&&(n.script.onerror=u)},!1)}i(l,o),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},l.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},l.prototype.doWrite=function(e,t){var n=this;if(!this.form){var o,i=document.createElement("form"),r=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=u,i.method="POST",i.setAttribute("accept-charset","utf-8"),r.name="d",i.appendChild(r),document.body.appendChild(i),this.form=i,this.area=r}function c(){l(),t()}function l(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';o=document.createElement(e)}catch(t){(o=document.createElement("iframe")).name=n.iframeId,o.src="javascript:0"}o.id=n.iframeId,n.form.appendChild(o),n.iframe=o}this.form.action=this.uri(),l(),e=e.replace(a,"\\\n"),this.area.value=e.replace(s,"\\n");try{this.form.submit()}catch(f){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&c()}:this.iframe.onload=c}}).call(t,n(251))},function(e){var t;t=function(){return this}();try{t=t||Function("","return this")()||(0,eval)("this")}catch(n){"object"==typeof window&&(t=window)}e.exports=t},function(e,t,n){var o=n(75),i=n(76),r=n(34),s=n(77),a=n(114);n(78)("engine.io-client:polling"),e.exports=c;var u=null!=new(n(261))({xdomain:!1}).responseType;function c(e){var t=e&&e.forceBase64;u&&!t||(this.supportsBinary=!1),o.call(this,e)}s(c,o),c.prototype.name="polling",c.prototype.doOpen=function(){this.poll()},c.prototype.pause=function(e){var t=this;function n(){t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var o=0;this.polling&&(o++,this.once("pollComplete",function(){--o||n()})),this.writable||(o++,this.once("drain",function(){--o||n()}))}else n()},c.prototype.poll=function(){this.polling=!0,this.doPoll(),this.emit("poll")},c.prototype.onData=function(e){var t=this;r.decodePayload(e,this.socket.binaryType,function(e){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():this.readyState)},c.prototype.doClose=function(){var e=this;function t(){e.write([{type:"close"}])}"open"===this.readyState?t():this.once("open",t)},c.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};r.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},c.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){var o,i=(o=n(72))&&o.__esModule?o:{default:o};e.exports=i.default||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var o in e)n.call(e,o)&&t.push(o);return t}},function(t,n,o){var i=o(255),r=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===r.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===r.call(File);t.exports=function t(n){if(!n||"object"!=typeof n)return!1;if(i(n)){for(var o=0,r=n.length;o<r;o++)if(t(n[o]))return!0;return!1}if("function"==typeof e&&e.isBuffer&&e.isBuffer(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||s&&n instanceof Blob||a&&n instanceof File)return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return t(n.toJSON(),!0);for(var u in n)if(Object.prototype.hasOwnProperty.call(n,u)&&t(n[u]))return!0;return!1}},function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(e){function t(){}e.exports=function(e,n,o){var i=!1;return o=o||t,r.count=e,0===e?n():r;function r(e,t){if(r.count<=0)throw new Error("after called too many times");--r.count,e?(i=!0,n(e),n=o):0!==r.count||i||n(null,t)}}},function(e){var t,n,o,i=String.fromCharCode;function r(e){for(var t,n,o=[],i=0,r=e.length;i<r;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r?56320==(64512&(n=e.charCodeAt(i++)))?o.push(((1023&t)<<10)+(1023&n)+65536):(o.push(t),i--):o.push(t);return o}function s(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function a(e,t){return i(e>>t&63|128)}function u(e,t){if(0==(4294967168&e))return i(e);var n="";return 0==(4294965248&e)?n=i(e>>6&31|192):0==(4294901760&e)?(s(e,t)||(e=65533),n=i(e>>12&15|224),n+=a(e,6)):0==(4292870144&e)&&(n=i(e>>18&7|240),n+=a(e,12),n+=a(e,6)),n+i(63&e|128)}function c(){if(o>=n)throw Error("Invalid byte index");var e=255&t[o];if(o++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function l(e){var i,r;if(o>n)throw Error("Invalid byte index");if(o==n)return!1;if(i=255&t[o],o++,0==(128&i))return i;if(192==(224&i)){if((r=(31&i)<<6|c())>=128)return r;throw Error("Invalid continuation byte")}if(224==(240&i)){if((r=(15&i)<<12|c()<<6|c())>=2048)return s(r,e)?r:65533;throw Error("Invalid continuation byte")}if(240==(248&i)&&(r=(7&i)<<18|c()<<12|c()<<6|c())>=65536&&r<=1114111)return r;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,o=r(e),i=o.length,s=-1,a="";++s<i;)a+=u(o[s],n);return a},decode:function(e,s){var a=!1!==(s=s||{}).strict;t=r(e),n=t.length,o=0;for(var u,c=[];!1!==(u=l(a));)c.push(u);return function(e){for(var t,n=e.length,o=-1,r="";++o<n;)(t=e[o])>65535&&(r+=i((t-=65536)>>>10&1023|55296),t=56320|1023&t),r+=i(t);return r}(c)}}},function(e){var t=void 0!==t?t:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,n=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),o=n&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),i=t&&t.prototype.append&&t.prototype.getBlob;function r(e){return e.map(function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e})}function s(e,n){n=n||{};var o=new t;return r(e).forEach(function(e){o.append(e)}),n.type?o.getBlob(n.type):o.getBlob()}function a(e,t){return new Blob(r(e),t||{})}"undefined"!=typeof Blob&&(s.prototype=Blob.prototype,a.prototype=Blob.prototype),e.exports=n?o?Blob:a:i?s:void 0},function(e,t,n){function o(e){var n;function o(){if(o.enabled){var e=o,i=+new Date,r=i-(n||i);e.diff=r,e.prev=n,e.curr=i,n=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(n,o){if("%%"===n)return n;u++;var i=t.formatters[o];if("function"==typeof i){var r=s[u];n=i.call(e,r),s.splice(u,1),u--}return n}),t.formatArgs.call(e,s),(o.log||t.log||console.log.bind(console)).apply(e,s)}}return o.namespace=e,o.enabled=t.enabled(e),o.useColors=t.useColors(),o.color=function(e){var n,o=0;for(n in e)o=(o<<5)-o+e.charCodeAt(n),o|=0;return t.colors[Math.abs(o)%t.colors.length]}(e),o.destroy=i,"function"==typeof t.init&&t.init(o),t.instances.push(o),o}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=o.debug=o.default=o).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var o=("string"==typeof e?e:"").split(/[\s,]+/),i=o.length;for(n=0;n<i;n++)o[n]&&("-"===(e=o[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var r=t.instances[n];r.enabled=t.enabled(r.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,o;for(n=0,o=t.skips.length;n<o;n++)if(t.skips[n].test(e))return!1;for(n=0,o=t.names.length;n<o;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(260),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e){var t=1e3,n=6e4,o=36e5,i=24*o;function r(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,s){s=s||{};var a,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(r){var s=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===u&&!1===isNaN(e))return s.long?r(a=e,i,"day")||r(a,o,"hour")||r(a,n,"minute")||r(a,t,"second")||a+" ms":function(e){return e>=i?Math.round(e/i)+"d":e>=o?Math.round(e/o)+"h":e>=n?Math.round(e/n)+"m":e>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var o=n(262);e.exports=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||o))return new XMLHttpRequest}catch(r){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(r){}if(!t)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(r){}}},function(e){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(t,n,o){var i,r,s,a=(i=o(20))&&i.__esModule?i:{default:i},u=o(75),c=o(34),l=o(76),f=o(77),d=o(114);if(o(78)("engine.io-client:websocket"),"undefined"==typeof uni&&"undefined"==typeof wx||"undefined"!=typeof WebSocket)if("undefined"!=typeof WebSocket)r=WebSocket;else if("undefined"!=typeof self)r=self.WebSocket||self.MozWebSocket;else try{s=o(264)}catch(m){}var h=r||s;function p(e){e&&e.forceBase64&&(this.supportsBinary=!1),("undefined"==typeof uni&&"undefined"==typeof wx||"undefined"!=typeof WebSocket)&&(this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=r&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(h=s)),u.call(this,e)}"undefined"==typeof uni&&"undefined"==typeof wx||"undefined"!=typeof WebSocket||(h=function(e){var t=this;if(t.onopen=function(){},t.onclose=function(){},t.onmessage=function(){},t.onerror=function(){},"object"===("undefined"==typeof tt?"undefined":(0,a.default)(tt))&&tt.getSystemInfo){var n=tt.connectSocket({url:e});t.send=function(e){n.send({data:e})},t.close=function(){n.close()},n.onOpen(function(){t.onopen()}),n.onError(function(e){t.onerror(e)}),n.onMessage(function(e){t.onmessage(e)}),n.onClose(function(){t.onclose()})}else"undefined"!=typeof uni?(t.send=function(e){uni.sendSocketMessage({data:e})},t.close=function(){uni.closeSocket()},uni.onSocketOpen(function(){t.onopen()}),uni.onSocketError(function(e){t.onerror(e)}),uni.onSocketMessage(function(e){t.onmessage(e)}),uni.onSocketClose(function(){t.onclose()}),uni.connectSocket({url:e})):(t.send=function(e){wx.sendSocketMessage({data:e})},t.close=function(){wx.closeSocket()},wx.onSocketOpen(function(){t.onopen()}),wx.onSocketError(function(e){t.onerror(e)}),wx.onSocketMessage(function(e){t.onmessage(e)}),wx.onSocketClose(function(){t.onclose()}),wx.connectSocket({url:e}))}),t.exports=p,f(p,u),p.prototype.name="websocket",p.prototype.supportsBinary=!1,p.prototype.doOpen=function(){if(this.check()){var e,t,n=this.uri();("undefined"==typeof uni&&"undefined"==typeof wx||"undefined"!=typeof WebSocket)&&(e=this.protocols),(t="undefined"==typeof uni&&"undefined"==typeof wx||"undefined"!=typeof WebSocket?{agent:this.agent,perMessageDeflate:this.perMessageDeflate}:{agent:this.agent}).pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(t.headers=this.extraHeaders),this.localAddress&&(t.localAddress=this.localAddress);try{"undefined"==typeof uni&&"undefined"==typeof wx||"undefined"!=typeof WebSocket?this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new h(n,e):new h(n):new h(n,e,t):this.ws=new h(n)}catch(i){return this.emit("error",i)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},p.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},p.prototype.write=function(t){var n=this;this.writable=!1;for(var o=t.length,i=0,r=o;i<r;i++)!function(t){c.encodePacket(t,n.supportsBinary,function(i){if("undefined"==typeof uni&&"undefined"==typeof wx||"undefined"!=typeof WebSocket){if(!n.usingBrowserWebSocket){var r={};t.options&&(r.compress=t.options.compress),n.perMessageDeflate&&("string"==typeof i?e.byteLength(i):i.length)<n.perMessageDeflate.threshold&&(r.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(i):n.ws.send(i,r)}catch(m){}}else try{n.ws.send(i)}catch(m){}--o||(n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0))})}(t[i])},p.prototype.onClose=function(){u.prototype.onClose.call(this)},p.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},p.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=d()),this.supportsBinary||(e.b64=1),(e=l.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},p.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===p.prototype.name)}},function(){},function(e){var t=[].indexOf;e.exports=function(e,n){if(t)return e.indexOf(n);for(var o=0;o<e.length;++o)if(e[o]===n)return o;return-1}},function(e){var t=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var o=e,i=e.indexOf("["),r=e.indexOf("]");-1!=i&&-1!=r&&(e=e.substring(0,i)+e.substring(i,r).replace(/:/g,";")+e.substring(r,e.length));for(var s=t.exec(e||""),a={},u=14;u--;)a[n[u]]=s[u]||"";return-1!=i&&-1!=r&&(a.source=o,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(e){e.exports=function(e,t){for(var n=[],o=(t=t||0)||0;o<e.length;o++)n[o-t]=e[o];return n}},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),o=0,i=n.length;o<i;o++){var r=n[o].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}},function(t,n,o){var i=o(270),r=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===r.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===r.call(File);t.exports=function t(n){if(!n||"object"!=typeof n)return!1;if(i(n)){for(var o=0,r=n.length;o<r;o++)if(t(n[o]))return!0;return!1}if("function"==typeof e&&e.isBuffer&&e.isBuffer(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||s&&n instanceof Blob||a&&n instanceof File)return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return t(n.toJSON(),!0);for(var u in n)if(Object.prototype.hasOwnProperty.call(n,u)&&t(n[u]))return!0;return!1}},function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(e){var t=[].indexOf;e.exports=function(e,n){if(t)return e.indexOf(n);for(var o=0;o<e.length;++o)if(e[o]===n)return o;return-1}},function(e){function t(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=t,t.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(e){this.ms=e},t.prototype.setMax=function(e){this.max=e},t.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(3)),i=f(n(0)),r=f(n(1)),s=f(n(4)),a=f(n(12)),u=f(n(5)),c=f(n(110)),l=f(n(28));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){(0,i.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return n.reconnectingObservers=[],n.addReconnectingObserver(e.onReconnecting),n.addDisconnectedObserver(e.onDisconnected),n}return(0,u.default)(t,e),(0,r.default)(t,[{key:"connect",value:function(e){(0,a.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"connect",this).call(this),this.io=this.io.connect(e.uri,e.opts),this.initListener()}},{key:"doEmit",value:function(e,t,n){this.io.emit(e,t,n)}},{key:"initListener",value:function(){var e=this;this.io.on("reconnecting",function(t){e.status=l.default.CONNECTING,e.notify(e.reconnectingObservers,t)}),this.io.on("connect",function(){e.status=l.default.CONNECTED,e.notify(e.connectedObservers)}),this.io.on("disconnect",function(){e.status=l.default.DISCONNECTED,e.notify(e.disconnectedObservers)}),this.io.on("connect_error",function(){})}},{key:"addReconnectingObserver",value:function(e){this.reconnectingObservers.push(e)}}]),t}(c.default);t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(0)),i=s(n(1)),r=n(2);function s(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t){(0,o.default)(this,e),this.callback=r.noop,this.guidList=[],this.callback=t}return(0,i.default)(e,[{key:"onMessage",value:function(e,t){"string"==typeof t&&(t=JSON.parse(t)),this.guidList.findIndex(function(e){return e===t.i})>-1||(this.guidList.unshift(t.i),this.guidList.length>300&&this.guidList.pop(),this.callback(t))}}]),e}();t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(33)),i=c(n(6)),r=c(n(0)),s=c(n(1)),a=n(2),u=n(119);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){(0,r.default)(this,e),this.goEasySocket=null,this.goEasySocket=t,this.support()&&(this.GoEasyUniapp=uni.requireNativePlugin("GoEasy-Uniapp"),t.addMessageObserver("imMessage",this.onNewMessageReceived.bind(this)),t.addMessageObserver("message",this.onNewMessageReceived.bind(this)))}return(0,s.default)(e,[{key:"onNewMessageReceived",value:function(e){this.createLocalNotification(e)}},{key:"createLocalNotification",value:function(e){if(a.calibrator.isObject(e.nt)&&!0===u.uniApp.runningBackend()){var t=e.nt.t,n=e.nt.c;this.GoEasyUniapp?this.GoEasyUniapp.createLocalNotification(t,n):plus.push.createMessage(n,null,{title:t})}}},{key:"getRegId",value:function(){var e=this;return new i.default(function(t){try{e.GoEasyUniapp?e.GoEasyUniapp.regId(function(e){t(e)},function(n){if(1e6==n.data.code)var i=setInterval(function(){e.GoEasyUniapp.regId(function(e){clearInterval(i),t(e)},function(e){1e6!=e.data.code&&(clearInterval(i),console.error("\u6ce8\u518c\u5382\u5546\u901a\u9053\u5931\u8d25\uff1a"+(0,o.default)(e)),t())})},5e3);else console.error("\u6ce8\u518c\u5382\u5546\u901a\u9053\u5931\u8d25\uff1a"+(0,o.default)(n)),t()}):(console.error("\u6ce8\u518c\u5382\u5546\u901a\u9053\u5931\u8d25\uff1aGoEasy-Uniapp is not installed correctly"),t())}catch(i){console.error("\u6ce8\u518c\u5382\u5546\u901a\u9053\u5931\u8d25\uff1a"+(0,o.default)(i)),t()}})}},{key:"support",value:function(){return a.env.isUni()&&!0===this.goEasySocket.allowNotification&&a.env.isSupportHtmlPlus()&&!a.env.isBrowserClient()}}]),e}();t.default=l},function(e){e.exports={name:"goeasy",version:"2.0.12",description:"goeasy socket",keywords:["realtime","framework","websocket","tcp","events","client"],files:["dist/"],main:"dist/goeasy.min.js",scripts:{build:"npm run build-goeasy","build-snapshot":"npm run build-goeasy && npm run build-goeasy-dev","build-goeasy":"./node_modules/.bin/webpack --config build/webpack.goeasy.config.js","build-goeasy-dev":"./node_modules/.bin/webpack --config build/webpack.goeasy-dev.config.js","start:dev":"webpack-dev-server --open --progress --config build/webpack.serve.config.js"},license:"MIT",dependencies:{"socket.io-client-goeasy":"./dependencies/socket.io-client-goeasy"},devDependencies:{"babel-core":"^6.26.3","babel-loader":"^7.1.4","babel-plugin-add-module-exports":"^0.2.1","babel-plugin-transform-class-properties":"^6.24.1","babel-plugin-transform-runtime":"^6.23.0","babel-preset-env":"^1.7.0","babel-runtime":"^6.26.0","core-js":"^3.11.3","es3ify-loader":"^0.2.0","html-webpack-plugin":"^3.2.0","strip-loader":"^0.1.2","uglifyjs-webpack-plugin":"^1.3.0",uuid:"^3.3.2",webpack:"^3.12.0","webpack-dev-server":"^2.11.5"}}}])},"object"==typeof n&&"object"==typeof t?t.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof n?n.GoEasy=i():o.GoEasy=i(),cc._RF.pop()}).call(this,e("buffer").Buffer)},{buffer:2}],qrcode:[function(e,t){"use strict";function n(e){this.mode=i.MODE_8BIT_BYTE,this.data=e}function o(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}cc._RF.push(t,"070a67bS7tJQIi6TBXapnIu","qrcode"),n.prototype={getLength:function(){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},o.prototype={addData:function(e){var t=new n(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=c.getRSBlocks(e,this.errorCorrectLevel),n=new l,o=0,i=0;i<t.length;i++)o+=t[i].dataCount;for(i=0;i<this.dataList.length;i++){var s=this.dataList[i];n.put(s.mode,4),n.put(s.getLength(),r.getLengthInBits(s.mode,e)),s.write(n)}if(n.getLengthInBits()<=8*o)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=o.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var o=-1;o<=7;o++)t+o<=-1||this.moduleCount<=t+o||(this.modules[e+n][t+o]=0<=n&&n<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=o&&o<=4)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var o=r.getLostPoint(this);(0==n||e>o)&&(e=o,t=n)}return t},createMovieClip:function(e,t,n){var o=e.createEmptyMovieClip(t,n);this.make();for(var i=0;i<this.modules.length;i++)for(var r=1*i,s=0;s<this.modules[i].length;s++){var a=1*s;this.modules[i][s]&&(o.beginFill(0,100),o.moveTo(a,r),o.lineTo(a+1,r),o.lineTo(a+1,r+1),o.lineTo(a,r+1),o.endFill())}return o},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=r.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var o=e[t],i=e[n];if(null==this.modules[o][i])for(var s=-2;s<=2;s++)for(var a=-2;a<=2;a++)this.modules[o+s][i+a]=-2==s||2==s||-2==a||2==a||0==s&&0==a}},setupTypeNumber:function(e){for(var t=r.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var o=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=o}for(n=0;n<18;n++)o=!e&&1==(t>>n&1),this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=o},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,o=r.getBCHTypeInfo(n),i=0;i<15;i++){var s=!e&&1==(o>>i&1);i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(i=0;i<15;i++)s=!e&&1==(o>>i&1),i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s;this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,o=this.moduleCount-1,i=7,s=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var u=0;u<2;u++)if(null==this.modules[o][a-u]){var c=!1;s<e.length&&(c=1==(e[s]>>>i&1)),r.getMask(t,o,a-u)&&(c=!c),this.modules[o][a-u]=c,-1==--i&&(s++,i=7)}if((o+=n)<0||this.moduleCount<=o){o-=n,n=-n;break}}}},o.PAD0=236,o.PAD1=17,o.createData=function(e,t,n){for(var i=c.getRSBlocks(e,t),s=new l,a=0;a<n.length;a++){var u=n[a];s.put(u.mode,4),s.put(u.getLength(),r.getLengthInBits(u.mode,e)),u.write(s)}var f=0;for(a=0;a<i.length;a++)f+=i[a].dataCount;if(s.getLengthInBits()>8*f)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*f+")");for(s.getLengthInBits()+4<=8*f&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*f||(s.put(o.PAD0,8),s.getLengthInBits()>=8*f));)s.put(o.PAD1,8);return o.createBytes(s,i)},o.createBytes=function(e,t){for(var n=0,o=0,i=0,s=new Array(t.length),a=new Array(t.length),c=0;c<t.length;c++){var l=t[c].dataCount,f=t[c].totalCount-l;o=Math.max(o,l),i=Math.max(i,f),s[c]=new Array(l);for(var d=0;d<s[c].length;d++)s[c][d]=255&e.buffer[d+n];n+=l;var h=r.getErrorCorrectPolynomial(f),p=new u(s[c],h.getLength()-1).mod(h);for(a[c]=new Array(h.getLength()-1),d=0;d<a[c].length;d++){var m=d+p.getLength()-a[c].length;a[c][d]=m>=0?p.get(m):0}}var y=0;for(d=0;d<t.length;d++)y+=t[d].totalCount;var g=new Array(y),v=0;for(d=0;d<o;d++)for(c=0;c<t.length;c++)d<s[c].length&&(g[v++]=s[c][d]);for(d=0;d<i;d++)for(c=0;c<t.length;c++)d<a[c].length&&(g[v++]=a[c][d]);return g};for(var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},r={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;r.getBCHDigit(t)-r.getBCHDigit(r.G15)>=0;)t^=r.G15<<r.getBCHDigit(t)-r.getBCHDigit(r.G15);return(e<<10|t)^r.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;r.getBCHDigit(t)-r.getBCHDigit(r.G18)>=0;)t^=r.G18<<r.getBCHDigit(t)-r.getBCHDigit(r.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return r.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case 0:return(t+n)%2==0;case 1:return t%2==0;case 2:return n%3==0;case 3:return(t+n)%3==0;case 4:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case 5:return t*n%2+t*n%3==0;case 6:return(t*n%2+t*n%3)%2==0;case 7:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new u([1],0),n=0;n<e;n++)t=t.multiply(new u([1,s.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:case i.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,o=0;o<t;o++)for(var i=0;i<t;i++){for(var r=0,s=e.isDark(o,i),a=-1;a<=1;a++)if(!(o+a<0||t<=o+a))for(var u=-1;u<=1;u++)i+u<0||t<=i+u||0==a&&0==u||s==e.isDark(o+a,i+u)&&r++;r>5&&(n+=3+r-5)}for(o=0;o<t-1;o++)for(i=0;i<t-1;i++){var c=0;e.isDark(o,i)&&c++,e.isDark(o+1,i)&&c++,e.isDark(o,i+1)&&c++,e.isDark(o+1,i+1)&&c++,0!=c&&4!=c||(n+=3)}for(o=0;o<t;o++)for(i=0;i<t-6;i++)e.isDark(o,i)&&!e.isDark(o,i+1)&&e.isDark(o,i+2)&&e.isDark(o,i+3)&&e.isDark(o,i+4)&&!e.isDark(o,i+5)&&e.isDark(o,i+6)&&(n+=40);for(i=0;i<t;i++)for(o=0;o<t-6;o++)e.isDark(o,i)&&!e.isDark(o+1,i)&&e.isDark(o+2,i)&&e.isDark(o+3,i)&&e.isDark(o+4,i)&&!e.isDark(o+5,i)&&e.isDark(o+6,i)&&(n+=40);var l=0;for(i=0;i<t;i++)for(o=0;o<t;o++)e.isDark(o,i)&&l++;return n+Math.abs(100*l/t/t-50)/5*10}},s={glog:function(e){if(e<1)throw new Error("glog("+e+")");return s.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return s.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},a=0;a<8;a++)s.EXP_TABLE[a]=1<<a;for(a=8;a<256;a++)s.EXP_TABLE[a]=s.EXP_TABLE[a-4]^s.EXP_TABLE[a-5]^s.EXP_TABLE[a-6]^s.EXP_TABLE[a-8];for(a=0;a<255;a++)s.LOG_TABLE[s.EXP_TABLE[a]]=a;function u(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var o=0;o<e.length-n;o++)this.num[o]=e[o+n]}function c(e,t){this.totalCount=e,this.dataCount=t}function l(){this.buffer=new Array,this.length=0}u.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var o=0;o<e.getLength();o++)t[n+o]^=s.gexp(s.glog(this.get(n))+s.glog(e.get(o)));return new u(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=s.glog(this.get(0))-s.glog(e.get(0)),n=new Array(this.getLength()),o=0;o<this.getLength();o++)n[o]=this.get(o);for(o=0;o<e.getLength();o++)n[o]^=s.gexp(s.glog(e.get(o))+t);return new u(n,0).mod(e)}},c.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],c.getRSBlocks=function(e,t){var n=c.getRsBlockTable(e,t);if(null==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var o=n.length/3,i=new Array,r=0;r<o;r++)for(var s=n[3*r+0],a=n[3*r+1],u=n[3*r+2],l=0;l<s;l++)i.push(new c(a,u));return i},c.getRsBlockTable=function(e,t){switch(t){case 1:return c.RS_BLOCK_TABLE[4*(e-1)+0];case 0:return c.RS_BLOCK_TABLE[4*(e-1)+1];case 3:return c.RS_BLOCK_TABLE[4*(e-1)+2];case 2:return c.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},l.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},cc._RF.pop()},{}],rwd:[function(e,t){"use strict";cc._RF.push(t,"70071zniddBV7x/wyEJaTsF","rwd");var n=e("Model");cc.Class({extends:cc.Component,properties:{},onLoad:function(){window.addEventListener("orientationchange",function(){cc.log("\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a"+window.orientation);var e=cc.director.getScene().name.replace("V","");cc.sys.isMobile?(cc.view._orientation!=cc.macro.ORIENTATION_AUTO&&cc.view.setOrientation(cc.macro.ORIENTATION_AUTO),180!=window.orientation&&0!=window.orientation||(cc.log("\u7ad6\u5c4f, \u89d2\u5ea6:"+window.orientation),cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT),cc.log("changeScene: "+e+"V"),n.device=1),90!=window.orientation&&-90!=window.orientation||(cc.log("\u6a2a\u5c4f, \u89d2\u5ea6:"+window.orientation),cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE),cc.log("changeScene: "+e),n.device=2)):(cc.director.loadScene(e),n.device=2)})}}),cc._RF.pop()},{Model:"Model"}],weel_prize:[function(e,t){"use strict";cc._RF.push(t,"22eb7tuhTBCT4poYRrp1iem","weel_prize");var n=e("Model");cc.Class({extends:cc.Component,properties:{},start:function(){},setinformation:function(e){var t=this;cc.assetManager.loadRemote(n.Prizestack_picture[e],{ext:".jpg"},function(e,n){if(e)console.log("\u932f\u8aa4");else{var o=new cc.SpriteFrame(n);t.node.getComponent(cc.Sprite).spriteFrame=o}})}}),cc._RF.pop()},{Model:"Model"}],weel:[function(e,t){"use strict";cc._RF.push(t,"231fb6ZVWNN944v7V0dlDwZ","weel");var n=e("Model"),o=e("weel_prize"),i=e("Host1_Congratulations");cc.Class({extends:cc.Component,properties:{wheel:{default:null,type:cc.Node},wheel_out:{default:null,type:cc.Node},Title:{default:null,type:cc.Node},TopLight:{default:null,type:cc.Node},Nail:{default:null,type:cc.Node},wheel_out_Light:{default:null,type:cc.Node},Prize:{default:null,type:cc.Node},ChanceText:{default:null,type:cc.Label},AlretNode:{default:null,type:cc.Node},cannnottouch:{default:null,type:cc.Node},Prizes_Infor:{default:null,type:cc.Node},items:{default:null,type:cc.Prefab},items_parent:{default:null,type:cc.Node}},onLoad:function(){n.Game_js=this,n.Prize_Infromation(),this.indexcount=0,this.index=[],this.itemlist=[],this.Prize_total=8,this.wheelState=0,this.Prize_ID=0,this.IDAngle=360/this.Prize_total,this.Prize_Angle=0,this.prizenode=this.Prize.getChildByName("\u5f97\u734e\u61f8\u6d6e\u7a97"),this.Wheel_Prize=cc.find("\u756b\u5e03/\u8f2a\u76e4/\u8f2a\u76e4_\u5167/\u734e\u9805"),this.ThanksJoin=[]},start:function(){"guest"==n.role?(this.ChanceText.string=n.chance,n.mode="simultaneous",this.AlertText=this.AlretNode.getChildByName("\u8b66\u544a\u6587\u5b57").getComponent(cc.Label)):n.mode="order"},SpawnPrize:function(){for(var e=0;e<n.Prizestack_id.length;e++)""==n.Prizestack_id[e]&&this.ThanksJoin.push(e),console.log("\u6c92\u4e2d\u734eid :"+this.ThanksJoin),this.Prizes_Infor.children[e].getComponent(cc.Label).string=n.Prizestack_name[e],this.Prizes_Infor.children[e].getChildByName("\u734e\u54c1\u7167\u7247\u6846").getChildByName("\u906e\u7f69").getChildByName("\u734e\u54c1\u7167\u7247").getComponent(o).setinformation(e)},StartBtn:function(){if(0===this.wheelState&&("order"==n.mode||"host"!=n.role)){if("guest"==n.role){if(0==n.chance)return this.AlertText.string="\u6c92\u6709\u62bd\u734e\u6a5f\u6703\u4e86\uff0c\u7121\u6cd5\u62bd\u734e",void(this.AlretNode.active=!0);if("close"==n.AllowRePrize&&n.PrizeStaffs>0)return this.AlertText.string="\u932f\u8aa4 :\u8a72\u5834\u6b21\u904a\u6232\u4e0d\u5141\u8a31\u91cd\u8907\u4e2d\u734e\uff0c\u60a8\u5df2\u4e2d\u734e\uff0c\u7121\u6cd5\u53c3\u52a0\u904a\u6232\u62bd\u734e",void(this.AlretNode.active=!0);n.chance--,this.ChanceText.string=n.chance}this.cannnottouch.active=!0,this.wheelState=1,this.aniSlow_In()}},aniSlow_In:function(){var e=this;this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0,"Rotate",!0),this.wheel_out_Light.getComponent(sp.Skeleton).timeScale=5;var t=cc.tween(this.wheel).by(2,{angle:360},{easing:"circIn"}).call(function(){e.wheel_out_Light.getComponent(sp.Skeleton).timeScale=10}),o=cc.tween(this.wheel).by(.35,{angle:360}).repeatForever();this.ani_wheelState1=cc.tween(this.wheel).then(t).then(o).start(),this.scheduleOnce(function(){n.Lottery_Guest()},5)},lettorey:function(){for(var e=0;e<n.Prizestack_id.length;e++)if(""!=n.prize_ID&&n.Prizestack_id[e]==n.prize_ID)this.Prize_ID=e;else if(""==n.prize_ID){var t=Math.floor(Math.random()*this.ThanksJoin.length);this.Prize_ID=this.ThanksJoin[t]}this.Prize_Angle=this.Prize_ID*this.IDAngle,this.FinalAngle=this.Prize_Angle+Math.floor(Math.random()*(this.IDAngle-4)+3),this.wheelState=2,this.aniSlow_Out()},aniSlow_Out:function(){var e=this;this.ani_wheelState1.stop();var t=1==Math.round(Math.random())?"circOut":"backOut",n=360*Math.ceil(this.wheel.angle/360)-this.wheel.angle;console.log("\u5dee\u503c: "+n),this.wheel_out_Light.getComponent(sp.Skeleton).timeScale=5,cc.tween(this.wheel).by(5,{angle:360+n+e.FinalAngle},{easing:t}).call(function(){e.StopWeel()}).start()},StopWeel:function(){this.wheel_out_Light.getComponent(sp.Skeleton).timeScale=1,"first"==n.prize_type?(this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0,"1",!1),this.wheel_out.getComponent(sp.Skeleton).setAnimation(0,"Roll",!1),this.Title.getComponent(sp.Skeleton).setAnimation(0,"Roll",!1),this.Nail.getComponent(sp.Skeleton).setAnimation(0,"Roll",!1),cc.director.getScene()._name.includes("Host")?this.TopLight.getComponent(sp.Skeleton).setAnimation(0,"Roll_PC",!1):this.TopLight.getComponent(sp.Skeleton).setAnimation(0,"Roll_M",!1)):"second"==n.prize_type?this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0,"2",!1):"third"==n.prize_type?this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0,"3",!1):"special"==n.prize_type?this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0,"4",!1):"thanks"==n.prize_type&&this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0,"5",!1),cc.tween(this.Wheel_Prize.children[this.Prize_ID].getChildByName("\u6247\u5f62")).to(.3,{opacity:255}).start(),this.scheduleOnce(function(){if(this.cannnottouch.active=!1,"\u672a\u4e2d\u734e"==n.prize_name_guest)return this.Wheel_Prize.children[this.Prize_ID].getChildByName("\u6247\u5f62").opacity=0,void(this.wheelState=0);this.ShowPrize()},2.3)},ClearWheelEffect:function(){this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0,"usual",!0),this.wheel_out.getComponent(sp.Skeleton).clearTracks(),this.Title.getComponent(sp.Skeleton).setAnimation(0,"Usuall",!0),this.Nail.getComponent(sp.Skeleton).clearTracks(),this.TopLight.getComponent(sp.Skeleton).setAnimation(0,"usual",!1)},ShowPrize:function(){this.Prize.getChildByName("\u5f97\u734e\u61f8\u6d6e\u7a97").getChildByName("\u734e\u9805").getComponent(cc.Label).string=n.prize_name_guest,this.Prize.active=!0,this.PrizeAni(),"order"==n.mode&&"guest"!=n.role&&this.Congratulations()},PrizeAni:function(){this.wheelState=0,cc.tween(this.prizenode).to(1,{scale:1},{easing:"elasticOut"}).start()},Congratulations:function(){this.indexcount++,this.index.push(this.indexcount);var e=cc.instantiate(this.items);e.parent=this.items_parent,e.setSiblingIndex(0);var t=e.getComponent(i);this.itemlist.push(t),this.itemlist[this.indexcount-1].updateInfo(this.indexcount-1)},closeFuc:function(e,t){"prize"==t?(this.Prize.active=!1,this.ClearWheelEffect(),this.Wheel_Prize.children[this.Prize_ID].getChildByName("\u6247\u5f62").opacity=0):"alret"==t&&(this.AlretNode.active=!1),this.prizenode.scale=0},update:function(){"close"==n.GameStatusMessage&&"guest"==n.role&&(this.AlertText.string="\u8acb\u7b49\u5f85\u4e3b\u8fa6\u65b9\u9023\u63a5\u5f8c\u624d\u80fd\u9032\u884c\u904a\u6232",this.AlretNode.active=!0)}}),cc._RF.pop()},{Host1_Congratulations:"Host1_Congratulations",Model:"Model",weel_prize:"weel_prize"}]},{},["Guest4_ShakeRedpacket","Guest4_CatchRedpacket","Guest4_Whack_a_mole","Guest_MouseManager","Host_MouseManager","Host_RandomSpawn","Guest1_WaitingForQuestion","Guest2_Game","Host1_ShowQuestion","Host2_Game","Host3_RankRecordItem","Host3_ShowWinner","Host1_ComboBox","Host1_Congratulations","Host1_WeelShowWinner","weel","weel_prize","NewScript","ani","Ani_Opacity","Ani_Rotation","Ani_UPandDOWN","BackGround_Theme","BeforeGameCountDown","ColorString","Guest1_ConfirmDeviceMotionEvent","Guest1_JoinGame","Guest1_PrizeInformation","Guest1_PrizeInformationItem","Guest2_WaitForStart","Guest4_GameCountDown","Guest4_GameCountDown_ShowTime","Guest5_Prize","Guest5_PrizeRecordItem","Guest_rwdPlayer","Host1_Begin","Host3_GameTimeCountDown","Host3_ShowNewWinner","Host3_ShowNewWinner_NewestWinner","Host3_ShowNewWinner_Score","Host3_WinRecordItem","Host3_WinRecordItem_Score","Host4_ShowWinner","Host4_WinnerRedpaket","Model","RoleConfirm","Skin","HelloWorld","Host1_QRC","goeasy-2.0.12.min","qrcode","rwd"]);